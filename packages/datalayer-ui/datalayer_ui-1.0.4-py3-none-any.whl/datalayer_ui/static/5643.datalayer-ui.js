"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[5643],{3345:(e,t,r)=>{r.d(t,{K:()=>G,S:()=>b});var o=r(9387),n=r(72447),a=r(41630),i=r(94761),d=r(95410),u=r(27907),l=r(30323),s=r(46186),c=r.n(s),p=r(91957);c()(p.A,{insert:"head",singleton:!1}),p.A.locals;function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},m.apply(null,arguments)}const v=({title:e,onClose:t,dialogLabelId:r})=>{const n=(0,o.useCallback)((()=>{t("close-button")}),[t]);return o.createElement("div",{className:"prc-ConfirmationDialog-ConfirmationHeader-yiLEc"},o.createElement("h1",{id:r},e),o.createElement(d.l.CloseButton,{onClose:n}))};v.displayName="ConfirmationHeader";const f=({children:e})=>o.createElement("div",{className:"prc-ConfirmationDialog-ConfirmationBody-ht9P-"},e);f.displayName="ConfirmationBody";const h=({footerButtons:e})=>{const{containerRef:t}=(0,u.G)({bindKeys:i.z0.ArrowHorizontal|i.z0.Tab,focusInStrategy:"closest"});return o.createElement("div",{ref:t,className:"prc-ConfirmationDialog-ConfirmationFooter-AqKBI"},o.createElement(d.l.Buttons,{buttons:null!=e?e:[]}))};h.displayName="ConfirmationFooter";const G=e=>{const{onClose:t,title:r,cancelButtonContent:n="Cancel",confirmButtonContent:a="OK",confirmButtonType:i="normal",children:u}=e,l="danger"===i,s=[{content:n,onClick:(0,o.useCallback)((()=>{t("cancel")}),[t]),autoFocus:l},{content:a,buttonType:i,onClick:(0,o.useCallback)((()=>{t("confirm")}),[t]),autoFocus:!l}];return o.createElement(d.l,{onClose:t,title:r,footerButtons:s,role:"alertdialog",width:"medium",renderHeader:v,renderBody:f,renderFooter:h},u)};G.displayName="ConfirmationDialog";let g=null;function b(){const{theme:e,colorMode:t,dayScheme:r,nightScheme:i}=(0,a.DP)(),d=(0,o.useCallback)((d=>async function(e,t){const{content:r,...i}=t;return new Promise((t=>{g||=document.createElement("div"),g.isConnected||document.body.append(g);const d=(0,n.H)(g);d.render(o.createElement(a.NP,e,o.createElement(l.A,null,o.createElement(G,m({},i,{onClose:e=>{d.unmount(),t("confirm"===e)}}),r))))}))}({theme:e,colorMode:t,dayScheme:r,nightScheme:i},d)),[e,t,r,i]);return d}},38233:(e,t,r)=>{r.d(t,{A:()=>d});var o=r(52908),n=r.n(o),a=r(10293),i=r.n(a)()(n());i.push([e.id,".prc-ButtonGroup-ButtonGroup-vcMeG{display:inline-flex;isolation:isolate;vertical-align:middle}.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper]){margin-inline-end:-1px;position:relative}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])) a,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])) button{border-radius:0}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):first-child a,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):first-child button{border-bottom-left-radius:var(--borderRadius-medium,.375rem);border-top-left-radius:var(--borderRadius-medium,.375rem)}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):last-child a,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):last-child button{border-bottom-right-radius:var(--borderRadius-medium,.375rem);border-top-right-radius:var(--borderRadius-medium,.375rem)}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):active,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):focus,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):hover{z-index:1}.prc-ButtonGroup-ButtonGroup-vcMeG:has(div:last-child:empty) a,.prc-ButtonGroup-ButtonGroup-vcMeG:has(div:last-child:empty) button{border-radius:var(--borderRadius-medium,.375rem)}.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]{margin-inline-end:-1px;position:relative}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]) a,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]) button{border-radius:0}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):active,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):focus,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):hover{z-index:1}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):first-child a,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):first-child button{border-bottom-left-radius:var(--borderRadius-medium,.375rem);border-top-left-radius:var(--borderRadius-medium,.375rem)}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):last-child a,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):last-child button{border-bottom-right-radius:var(--borderRadius-medium,.375rem);border-top-right-radius:var(--borderRadius-medium,.375rem)}",""]);const d=i},46508:(e,t,r)=>{r.d(t,{A:()=>f});var o=r(9387),n=r(46186),a=r.n(n),i=r(38233);a()(i.A,{insert:"head",singleton:!1}),i.A.locals;var d="prc-ButtonGroup-ButtonGroup-vcMeG",u=r(34164),l=r(27907),s=r(34212),c=r(94761),p=r(98754),m=r(20084);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},v.apply(null,arguments)}const f=o.forwardRef((function({children:e,className:t,role:r,sx:n,...a},i){const f=o.Children.map(e,((e,t)=>o.createElement("div",{key:t},e))),h=(0,s.L)(i);return(0,l.G)({containerRef:h,disabled:"toolbar"!==r,bindKeys:c.z0.ArrowHorizontal,focusOutBehavior:"wrap"}),n!==m.E?o.createElement(p.A,v({as:"div",className:(0,u.$)(t,d),role:r},a,{sx:n,ref:h}),f):o.createElement("div",v({ref:h,className:(0,u.$)(t,d),role:r},a),f)}));f.displayName="ButtonGroup"},91957:(e,t,r)=>{r.d(t,{A:()=>d});var o=r(52908),n=r.n(o),a=r(10293),i=r.n(a)()(n());i.push([e.id,".prc-ConfirmationDialog-ConfirmationHeader-yiLEc{display:flex;flex-direction:row;padding:var(--base-size-8,.5rem)}.prc-ConfirmationDialog-ConfirmationHeader-yiLEc>h1{flex-grow:1;font-size:var(--text-title-size-medium,1.25rem);font-weight:var(--text-title-weight-medium,600);margin:0;padding:var(--base-size-6,.375rem) var(--base-size-8,.5rem)}.prc-ConfirmationDialog-ConfirmationBody-ht9P-{flex-grow:1;font-size:var(--text-body-size-medium,.875rem);padding:0 var(--base-size-16,1rem) var(--base-size-16,1rem) var(--base-size-16,1rem)}.prc-ConfirmationDialog-ConfirmationFooter-AqKBI{display:grid;grid-auto-columns:max-content;grid-auto-flow:column;grid-gap:var(--base-size-8,.5rem);align-items:end;justify-content:end;padding:var(--base-size-4,.25rem) var(--base-size-16,1rem) var(--base-size-16,1rem)}",""]);const d=i},95643:(e,t,r)=>{r.r(t),r.d(t,{DocumentPublic:()=>g,default:()=>b});var o=r(9387),n=r(20568),a=r(3345),i=r(7856),d=r(98754),u=r(3556),l=r(46508),s=r(99180),c=r(80006),p=r(38621),m=r(53850),v=r(23530),f=r(97734),h=r(50906),G=r(18683);const g=()=>{const e=(0,h.mt)(),t=e.iam().user,r=e.layout().space,{documentId:g}=(0,n.g)(),{refreshDocument:b,getDocument:B,cloneDocument:y}=(0,m.E)(),w=(0,v.Z)(),C=(0,a.S)(),{enqueueToast:x}=(0,f.d)(),[z,M]=(0,o.useState)();(0,o.useEffect)((()=>(e.layout().showBackdrop(),b(g).then((t=>{if(e.layout().hideBackdrop(),t.success){const e=B(g);e||w("/"),M(e)}})).finally((()=>{e.layout().hideBackdrop()})),()=>{M(void 0),e.layout().setItem(void 0)})),[g]);const A=(0,o.useCallback)((async r=>{C({title:"Are you sure?",content:"Please confirm you want to clone this document in your private library."}).then((r=>{r&&(e.layout().showBackdrop(),y(g).then((r=>{e.layout().hideBackdrop(),r.success&&(x(r.message,{variant:"success"}),e.layout().triggerItemsRefresh(),w(`/${t?.handle}/library/documents`))})).finally((()=>{e.layout().hideBackdrop()})))}))}),[C,z]);return z?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(i.z,{children:(0,G.jsxs)(d.A,{display:"flex",children:[(0,G.jsx)(d.A,{flex:1,children:(0,G.jsx)(u.A,{sx:{fontSize:3},children:"Public document"})}),(0,G.jsx)(d.A,{children:(0,G.jsxs)(l.A,{children:[z&&t?.handle===z.owner.handle&&(0,G.jsx)(s.Q,{variant:"default",size:"small",onClick:()=>w(`/${z.organization?.handle??z.owner?.handle}/${z.space?.handle}/documents/${z.id}`),children:"Edit"}),t&&r&&(0,G.jsx)(s.Q,{variant:"default",size:"small",leadingVisual:p.Nc$,onClick:A,children:"Clone"})]})})]})}),(0,G.jsx)(d.A,{children:(0,G.jsx)(c.A,{children:z.description})}),(0,G.jsx)(d.A,{children:z.model&&(0,G.jsx)(G.Fragment,{})})]}):(0,G.jsx)(G.Fragment,{})},b=g}}]);