/*! For license information please see 43531.efaec83d2400f8df.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["43531"],{66487:function(e,t,s){s.a(e,(async function(e,n){try{s.r(t),s.d(t,{EnergySetupWizard:()=>P});var i=s(73577),r=(s(71695),s(40251),s(47021),s(31622),s(57243)),o=s(50778),a=s(36522),h=s(1118),c=s(76131),l=s(28008),u=s(3409),d=s(98445),f=s(68646),_=s(98237),p=s(76539),v=s(43672),y=e([u,d,f,_,p,v,h]);[u,d,f,_,p,v,h]=y.then?(await y)():y;let g,$,k,C,w,m,b,A,x,z,Y,S,M=e=>e,P=(0,i.Z)([(0,o.Mo)("energy-setup-wizard-card")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"lovelace",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_info",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_step",value(){return 0}},{kind:"field",decorators:[(0,o.SB)()],key:"_preferences",value(){return{energy_sources:[],device_consumption:[]}}},{kind:"method",key:"getCardSize",value:function(){return 10}},{kind:"method",key:"setConfig",value:function(e){e.preferences&&(this._preferences=e.preferences)}},{kind:"method",key:"firstUpdated",value:function(){this.hass.loadFragmentTranslation("config"),this._fetchconfig()}},{kind:"method",key:"render",value:function(){return(0,r.dy)(g||(g=M` <p> ${0} </p> ${0} <div class="buttons"> ${0} ${0} </div> `),this.hass.localize("ui.panel.energy.setup.step",{step:this._step+1,steps:6}),0===this._step?(0,r.dy)($||($=M`<ha-energy-grid-settings .hass="${0}" .preferences="${0}" @value-changed="${0}"></ha-energy-grid-settings>`),this.hass,this._preferences,this._prefsChanged):1===this._step?(0,r.dy)(k||(k=M`<ha-energy-solar-settings .hass="${0}" .preferences="${0}" .info="${0}" @value-changed="${0}"></ha-energy-solar-settings>`),this.hass,this._preferences,this._info,this._prefsChanged):2===this._step?(0,r.dy)(C||(C=M`<ha-energy-battery-settings .hass="${0}" .preferences="${0}" @value-changed="${0}"></ha-energy-battery-settings>`),this.hass,this._preferences,this._prefsChanged):3===this._step?(0,r.dy)(w||(w=M`<ha-energy-gas-settings .hass="${0}" .preferences="${0}" @value-changed="${0}"></ha-energy-gas-settings>`),this.hass,this._preferences,this._prefsChanged):4===this._step?(0,r.dy)(m||(m=M`<ha-energy-water-settings .hass="${0}" .preferences="${0}" @value-changed="${0}"></ha-energy-water-settings>`),this.hass,this._preferences,this._prefsChanged):(0,r.dy)(b||(b=M`<ha-energy-device-settings .hass="${0}" .preferences="${0}" @value-changed="${0}"></ha-energy-device-settings>`),this.hass,this._preferences,this._prefsChanged),this._step>0?(0,r.dy)(A||(A=M`<mwc-button outlined @click="${0}">${0}</mwc-button>`),this._back,this.hass.localize("ui.panel.energy.setup.back")):(0,r.dy)(x||(x=M`<div></div>`)),this._step<4?(0,r.dy)(z||(z=M`<mwc-button unelevated @click="${0}">${0}</mwc-button>`),this._next,this.hass.localize("ui.panel.energy.setup.next")):(0,r.dy)(Y||(Y=M`<mwc-button unelevated @click="${0}"> ${0} </mwc-button>`),this._setupDone,this.hass.localize("ui.panel.energy.setup.done")))}},{kind:"method",key:"_fetchconfig",value:async function(){this._info=await(0,h.xZ)(this.hass)}},{kind:"method",key:"_prefsChanged",value:function(e){this._preferences=e.detail.value}},{kind:"method",key:"_back",value:function(){0!==this._step&&this._step--}},{kind:"method",key:"_next",value:function(){5!==this._step&&this._step++}},{kind:"method",key:"_setupDone",value:async function(){if(this._preferences)if(0!==this._preferences.device_consumption.length||0!==this._preferences.energy_sources.length){try{this._preferences=await(0,h._Z)(this.hass,this._preferences)}catch(e){(0,c.showAlertDialog)(this,{title:`Failed to save config: ${e.message}`})}(0,a.B)(this,"reload-energy-panel")}else(0,c.showAlertDialog)(this,{title:this.hass.localize("ui.panel.energy.setup.no_statistics_selected_title"),text:this.hass.localize("ui.panel.energy.setup.no_statistics_selected_description")})}},{kind:"get",static:!0,key:"styles",value:function(){return[l.Qx,(0,r.iv)(S||(S=M`:host{display:block;padding:16px;max-width:700px;margin:0 auto}mwc-button{margin-top:8px}.buttons{display:flex;justify-content:space-between}`))]}}]}}),r.oi);n()}catch(g){n(g)}}))},14503:function(e,t,s){s.d(t,{Z:()=>n});s(63721),s(88230),s(52247),s(71695),s(40251),s(47021);function n(e){var t,s,n,r=2;for("undefined"!=typeof Symbol&&(s=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(s&&null!=(t=e[s]))return t.call(e);if(n&&null!=(t=e[n]))return new i(t.call(e));s="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function i(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return i=function(e){this.s=e,this.n=e.next},i.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var s=this.s.return;return void 0===s?Promise.resolve({value:e,done:!0}):t(s.apply(this.s,arguments))},throw:function(e){var s=this.s.return;return void 0===s?Promise.reject(e):t(s.apply(this.s,arguments))}},new i(e)}},1714:function(e,t,s){s.d(t,{sR:()=>u});s(71695),s(92519),s(42179),s(89256),s(24931),s(88463),s(57449),s(19814),s(47021);var n=s(53232),i=s(45779);const r=(e,t)=>{var s,n;const i=e._$AN;if(void 0===i)return!1;for(const o of i)null===(n=(s=o)._$AO)||void 0===n||n.call(s,t,!1),r(o,t);return!0},o=e=>{let t,s;do{if(void 0===(t=e._$AM))break;s=t._$AN,s.delete(e),e=t}while(0===(null==s?void 0:s.size))},a=e=>{for(let t;t=e._$AM;e=t){let s=t._$AN;if(void 0===s)t._$AN=s=new Set;else if(s.has(e))break;s.add(e),l(t)}};function h(e){void 0!==this._$AN?(o(this),this._$AM=e,a(this)):this._$AM=e}function c(e,t=!1,s=0){const n=this._$AH,i=this._$AN;if(void 0!==i&&0!==i.size)if(t)if(Array.isArray(n))for(let a=s;a<n.length;a++)r(n[a],!1),o(n[a]);else null!=n&&(r(n,!1),o(n));else r(this,e)}const l=e=>{var t,s,n,r;e.type==i.pX.CHILD&&(null!==(t=(n=e)._$AP)&&void 0!==t||(n._$AP=c),null!==(s=(r=e)._$AQ)&&void 0!==s||(r._$AQ=h))};class u extends i.Xe{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,s){super._$AT(e,t,s),a(this),this.isConnected=e._$AU}_$AO(e,t=!0){var s,n;e!==this.isConnected&&(this.isConnected=e,e?null===(s=this.reconnected)||void 0===s||s.call(this):null===(n=this.disconnected)||void 0===n||n.call(this)),t&&(r(this,e),o(this))}setValue(e){if((0,n.OR)(this._$Ct))this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}},91583:function(e,t,s){s.d(t,{r:()=>a});s(52247),s(71695),s(47021);var n=s(2841),i=s(45779),r=s(53232);const o=(e,t,s)=>{const n=new Map;for(let i=t;i<=s;i++)n.set(e[i],i);return n},a=(0,i.XM)(class extends i.Xe{constructor(e){if(super(e),e.type!==i.pX.CHILD)throw Error("repeat() can only be used in text expressions")}ct(e,t,s){let n;void 0===s?s=t:void 0!==t&&(n=t);const i=[],r=[];let o=0;for(const a of e)i[o]=n?n(a,o):o,r[o]=s(a,o),o++;return{values:r,keys:i}}render(e,t,s){return this.ct(e,t,s).values}update(e,[t,s,i]){var a;const h=(0,r.i9)(e),{values:c,keys:l}=this.ct(t,s,i);if(!Array.isArray(h))return this.ut=l,c;const u=null!==(a=this.ut)&&void 0!==a?a:this.ut=[],d=[];let f,_,p=0,v=h.length-1,y=0,g=c.length-1;for(;p<=v&&y<=g;)if(null===h[p])p++;else if(null===h[v])v--;else if(u[p]===l[y])d[y]=(0,r.fk)(h[p],c[y]),p++,y++;else if(u[v]===l[g])d[g]=(0,r.fk)(h[v],c[g]),v--,g--;else if(u[p]===l[g])d[g]=(0,r.fk)(h[p],c[g]),(0,r._Y)(e,d[g+1],h[p]),p++,g--;else if(u[v]===l[y])d[y]=(0,r.fk)(h[v],c[y]),(0,r._Y)(e,h[p],h[v]),v--,y++;else if(void 0===f&&(f=o(l,y,g),_=o(u,p,v)),f.has(u[p]))if(f.has(u[v])){const t=_.get(l[y]),s=void 0!==t?h[t]:null;if(null===s){const t=(0,r._Y)(e,h[p]);(0,r.fk)(t,c[y]),d[y]=t}else d[y]=(0,r.fk)(s,c[y]),(0,r._Y)(e,h[p],s),h[t]=null;y++}else(0,r.ws)(h[v]),v--;else(0,r.ws)(h[p]),p++;for(;y<=g;){const t=(0,r._Y)(e,d[g+1]);(0,r.fk)(t,c[y]),d[y++]=t}for(;p<=v;){const e=h[p++];null!==e&&(0,r.ws)(e)}return this.ut=l,(0,r.hl)(e,d),n.Jb}})},94571:function(e,t,s){s.d(t,{C:()=>d});s(71695),s(40251),s(39527),s(67670),s(47021);var n=s(2841),i=s(53232),r=s(1714);s(14503);class o{constructor(e){this.G=e}disconnect(){this.G=void 0}reconnect(e){this.G=e}deref(){return this.G}}class a{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){var e;null!==(e=this.Y)&&void 0!==e||(this.Y=new Promise((e=>this.Z=e)))}resume(){var e;null===(e=this.Z)||void 0===e||e.call(this),this.Y=this.Z=void 0}}var h=s(45779);const c=e=>!(0,i.pt)(e)&&"function"==typeof e.then,l=1073741823;class u extends r.sR{constructor(){super(...arguments),this._$C_t=l,this._$Cwt=[],this._$Cq=new o(this),this._$CK=new a}render(...e){var t;return null!==(t=e.find((e=>!c(e))))&&void 0!==t?t:n.Jb}update(e,t){const s=this._$Cwt;let i=s.length;this._$Cwt=t;const r=this._$Cq,o=this._$CK;this.isConnected||this.disconnected();for(let n=0;n<t.length&&!(n>this._$C_t);n++){const e=t[n];if(!c(e))return this._$C_t=n,e;n<i&&e===s[n]||(this._$C_t=l,i=0,Promise.resolve(e).then((async t=>{for(;o.get();)await o.get();const s=r.deref();if(void 0!==s){const n=s._$Cwt.indexOf(e);n>-1&&n<s._$C_t&&(s._$C_t=n,s.setValue(t))}})))}return n.Jb}disconnected(){this._$Cq.disconnect(),this._$CK.pause()}reconnected(){this._$Cq.reconnect(this),this._$CK.resume()}}const d=(0,h.XM)(u)}}]);
//# sourceMappingURL=43531.efaec83d2400f8df.js.map