{"title":"PyFixest: Fast High-Dimensional Fixed Effects Regression in Python","markdown":{"headingText":"PyFixest: Fast High-Dimensional Fixed Effects Regression in Python","containsRefs":false,"markdown":"![](figures/pyfixest-logo.png)\n\n\n[![License](https://img.shields.io/badge/License-MIT-green.svg)](https://opensource.org/license/mit)\n![Python Versions](https://img.shields.io/badge/Python-3.9–3.12-blue)\n[![PyPI -Version](https://img.shields.io/pypi/v/pyfixest.svg)](https://pypi.org/project/pyfixest/)\n[![image](https://codecov.io/gh/py-econometrics/pyfixest/branch/master/graph/badge.svg)](https://codecov.io/gh/py-econometrics/pyfixest)\n[![Known Bugs](https://img.shields.io/github/issues/py-econometrics/pyfixest/bug?color=red&label=Bugs)](https://github.com/py-econometrics/pyfixest/issues?q=is%3Aissue+is%3Aopen+label%3Abug)\n[![File an Issue](https://img.shields.io/github/issues/py-econometrics/pyfixest)](https://github.com/py-econometrics/pyfixest/issues)\n[![All Contributors](https://img.shields.io/badge/all_contributors-27-green.svg?style=flat-square)](#contributors-)\n[![Downloads](https://static.pepy.tech/badge/pyfixest)](https://pepy.tech/project/pyfixest)\n[![Downloads](https://static.pepy.tech/badge/pyfixest/month)](https://pepy.tech/project/pyfixest)\n[![Ruff](https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/astral-sh/ruff/main/assets/badge/v2.json)](https://github.com/astral-sh/ruff)\n[![Pixi Badge][pixi-badge]][pixi-url]\n\n[pixi-badge]:https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/prefix-dev/pixi/main/assets/badge/v0.json&style=flat-square\n[pixi-url]: https://pixi.sh\n\n\n`PyFixest` is a Python implementation of the formidable [fixest](https://github.com/lrberge/fixest) package for fast high-dimensional fixed effects regression.\n\nThe package aims to mimic `fixest` syntax and functionality as closely as Python allows: if you know `fixest` well, the goal is that you won't have to read the docs to get started! In particular, this means that all of `fixest's` defaults are mirrored by `PyFixest`.\n\nNevertheless, for a quick introduction, you can take a look at the [quickstart](https://py-econometrics.github.io/pyfixest/quickstart.html) or the regression chapter of [Arthur Turrell's](https://github.com/aeturrell) book on [Coding for Economists](https://aeturrell.github.io/coding-for-economists/econmt-regression.html#imports).\n\nFor questions on `PyFixest`, head on over to our [github discussions](https://github.com/py-econometrics/pyfixest/discussions).\n\n## Features\n\n-   **OLS**, **WLS** and **IV** Regression with Fixed-Effects Demeaning via [Frisch-Waugh-Lovell](https://bookdown.org/ts_robinson1994/10EconometricTheorems/frisch.html)\n-   **Poisson Regression** following the [pplmhdfe algorithm](https://journals.sagepub.com/doi/full/10.1177/1536867X20909691)\n-   Multiple Estimation Syntax\n-   Probit, Logit and Gaussian Family GLMs (currently without fixed effects demeaning, this is WIP)\n-   Several **Robust** and **Cluster Robust Variance-Covariance** Estimators\n-   **Wild Cluster Bootstrap** Inference (via\n    [wildboottest](https://github.com/py-econometrics/wildboottest))\n-   **Difference-in-Differences** Estimators:\n    -   The canonical Two-Way Fixed Effects Estimator\n    -   [Gardner's two-stage\n        (\"`Did2s`\")](https://jrgcmu.github.io/2sdd_current.pdf)\n        estimator\n    -   Basic Versions of the Local Projections estimator following\n        [Dube et al (2023)](https://www.nber.org/papers/w31184)\n- **Multiple Hypothesis Corrections** following the Procedure by [Romano and Wolf](https://journals.sagepub.com/doi/pdf/10.1177/1536867X20976314) and **Simultaneous Confidence Intervals** using a **Multiplier Bootstrap**\n- The **Causal Cluster Variance Estimator (CCV)** following [Abadie et al.](https://economics.mit.edu/sites/default/files/2022-09/When%20Should%20You%20Adjust%20Standard%20Errors%20for%20Clustering.pdf)\n- Regression **Decomposition** following [Gelbach (2016)](https://papers.ssrn.com/sol3/papers.cfm?abstract_id=1425737)\n- **Publication-ready tables** with [Great Tables](https://posit-dev.github.io/great-tables/articles/intro.html) or LaTex booktabs\n\n## Installation\n\nYou can install the release version from `PyPi` by running\n\n``` py\npip install -U pyfixest\n```\n\nor the development version from github by running\n\n``` py\npip install git+https://github.com/py-econometrics/pyfixest.git\n```\n\n## Benchmarks\n\nAll benchmarks follow the [fixest\nbenchmarks](https://github.com/lrberge/fixest/tree/master/_BENCHMARK).\nAll non-pyfixest timings are taken from the `fixest` benchmarks.\n\n![](figures/benchmarks_ols.svg)\n![](figures/benchmarks_poisson.svg)\n\n## Quickstart\n\n\n```python\nimport pyfixest as pf\n\ndata = pf.get_data()\npf.feols(\"Y ~ X1 | f1 + f2\", data=data).summary()\n```\n\n    ###\n\n    Estimation:  OLS\n    Dep. var.: Y, Fixed effects: f1+f2\n    Inference:  CRV1\n    Observations:  997\n\n    | Coefficient   |   Estimate |   Std. Error |   t value |   Pr(>|t|) |   2.5% |   97.5% |\n    |:--------------|-----------:|-------------:|----------:|-----------:|-------:|--------:|\n    | X1            |     -0.919 |        0.065 |   -14.057 |      0.000 | -1.053 |  -0.786 |\n    ---\n    RMSE: 1.441   R2: 0.609   R2 Within: 0.2\n\n\n### Multiple Estimation\n\nYou can estimate multiple models at once by using [multiple estimation\nsyntax](https://aeturrell.github.io/coding-for-economists/econmt-regression.html#multiple-regression-models):\n\n\n\n```python\n# OLS Estimation: estimate multiple models at once\nfit = pf.feols(\"Y + Y2 ~X1 | csw0(f1, f2)\", data = data, vcov = {'CRV1':'group_id'})\n# Print the results\nfit.etable()\n```\n\n                               est1               est2               est3               est4               est5               est6\n    ------------  -----------------  -----------------  -----------------  -----------------  -----------------  -----------------\n    depvar                        Y                 Y2                  Y                 Y2                  Y                 Y2\n    ------------------------------------------------------------------------------------------------------------------------------\n    Intercept      0.919*** (0.121)   1.064*** (0.232)\n    X1            -1.000*** (0.117)  -1.322*** (0.211)  -0.949*** (0.087)  -1.266*** (0.212)  -0.919*** (0.069)  -1.228*** (0.194)\n    ------------------------------------------------------------------------------------------------------------------------------\n    f2                            -                  -                  -                  -                  x                  x\n    f1                            -                  -                  x                  x                  x                  x\n    ------------------------------------------------------------------------------------------------------------------------------\n    R2                        0.123              0.037              0.437              0.115              0.609              0.168\n    S.E. type          by: group_id       by: group_id       by: group_id       by: group_id       by: group_id       by: group_id\n    Observations                998                999                997                998                997                998\n    ------------------------------------------------------------------------------------------------------------------------------\n    Significance levels: * p < 0.05, ** p < 0.01, *** p < 0.001\n    Format of coefficient cell:\n    Coefficient (Std. Error)\n\n\n\n\n### Adjust Standard Errors \"on-the-fly\"\n\nStandard Errors can be adjusted after estimation, \"on-the-fly\":\n\n\n```python\nfit1 = fit.fetch_model(0)\nfit1.vcov(\"hetero\").summary()\n```\n\n    Model:  Y~X1\n    ###\n\n    Estimation:  OLS\n    Dep. var.: Y\n    Inference:  hetero\n    Observations:  998\n\n    | Coefficient   |   Estimate |   Std. Error |   t value |   Pr(>|t|) |   2.5% |   97.5% |\n    |:--------------|-----------:|-------------:|----------:|-----------:|-------:|--------:|\n    | Intercept     |      0.919 |        0.112 |     8.223 |      0.000 |  0.699 |   1.138 |\n    | X1            |     -1.000 |        0.082 |   -12.134 |      0.000 | -1.162 |  -0.838 |\n    ---\n    RMSE: 2.158   R2: 0.123\n\n\n### Poisson Regression via `fepois()`\n\nYou can estimate Poisson Regressions via the `fepois()` function:\n\n\n```python\npoisson_data = pf.get_data(model = \"Fepois\")\npf.fepois(\"Y ~ X1 + X2 | f1 + f2\", data = poisson_data).summary()\n```\n\n    ###\n\n    Estimation:  Poisson\n    Dep. var.: Y, Fixed effects: f1+f2\n    Inference:  CRV1\n    Observations:  997\n\n    | Coefficient   |   Estimate |   Std. Error |   t value |   Pr(>|t|) |   2.5% |   97.5% |\n    |:--------------|-----------:|-------------:|----------:|-----------:|-------:|--------:|\n    | X1            |     -0.007 |        0.035 |    -0.190 |      0.850 | -0.075 |   0.062 |\n    | X2            |     -0.015 |        0.010 |    -1.449 |      0.147 | -0.035 |   0.005 |\n    ---\n    Deviance: 1068.169\n\n\n### IV Estimation via three-part formulas\n\nLast, `PyFixest` also supports IV estimation via three part formula\nsyntax:\n\n\n```python\nfit_iv = pf.feols(\"Y ~ 1 | f1 | X1 ~ Z1\", data = data)\nfit_iv.summary()\n```\n\n    ###\n\n    Estimation:  IV\n    Dep. var.: Y, Fixed effects: f1\n    Inference:  CRV1\n    Observations:  997\n\n    | Coefficient   |   Estimate |   Std. Error |   t value |   Pr(>|t|) |   2.5% |   97.5% |\n    |:--------------|-----------:|-------------:|----------:|-----------:|-------:|--------:|\n    | X1            |     -1.025 |        0.115 |    -8.930 |      0.000 | -1.259 |  -0.790 |\n    ---\n\n## Call for Contributions\n\nThanks for showing interest in contributing to `pyfixest`! We appreciate all\ncontributions and constructive feedback, whether that be reporting bugs, requesting\nnew features, or suggesting improvements to documentation.\n\nIf you'd like to get involved, but are not yet sure how, please feel free to send us an [email](alexander-fischer1801@t-online.de). Some familiarity with\neither Python or econometrics will help, but you really don't need to be a `numpy` core developer or have published in [Econometrica](https://onlinelibrary.wiley.com/journal/14680262) =) We'd be more than happy to invest time to help you get started!\n\n## Contributors ✨\n\nThanks goes to these wonderful people:\n\n<!-- ALL-CONTRIBUTORS-LIST:START - Do not remove or modify this section -->\n<!-- prettier-ignore-start -->\n<!-- markdownlint-disable -->\n<table>\n  <tbody>\n    <tr>\n      <td align=\"center\" valign=\"top\" width=\"14.28%\"><a href=\"https://github.com/styfenschaer\"><img src=\"https://avatars.githubusercontent.com/u/79762922?v=4?s=100\" width=\"100px;\" alt=\"styfenschaer\"/><br /><sub><b>styfenschaer</b></sub></a><br /><a href=\"https://github.com/py-econometrics/pyfixest/commits?author=styfenschaer\" title=\"Code\">💻</a></td>\n      <td align=\"center\" valign=\"top\" width=\"14.28%\"><a href=\"https://www.nkeleher.com/\"><img src=\"https://avatars.githubusercontent.com/u/5607589?v=4?s=100\" width=\"100px;\" alt=\"Niall Keleher\"/><br /><sub><b>Niall Keleher</b></sub></a><br /><a href=\"#infra-NKeleher\" title=\"Infrastructure (Hosting, Build-Tools, etc)\">🚇</a> <a href=\"https://github.com/py-econometrics/pyfixest/commits?author=NKeleher\" title=\"Code\">💻</a></td>\n      <td align=\"center\" valign=\"top\" width=\"14.28%\"><a href=\"http://wenzhi-ding.com\"><img src=\"https://avatars.githubusercontent.com/u/30380959?v=4?s=100\" width=\"100px;\" alt=\"Wenzhi Ding\"/><br /><sub><b>Wenzhi Ding</b></sub></a><br /><a href=\"https://github.com/py-econometrics/pyfixest/commits?author=Wenzhi-Ding\" title=\"Code\">💻</a></td>\n      <td align=\"center\" valign=\"top\" width=\"14.28%\"><a href=\"https://apoorvalal.github.io/\"><img src=\"https://avatars.githubusercontent.com/u/12086926?v=4?s=100\" width=\"100px;\" alt=\"Apoorva Lal\"/><br /><sub><b>Apoorva Lal</b></sub></a><br /><a href=\"https://github.com/py-econometrics/pyfixest/commits?author=apoorvalal\" title=\"Code\">💻</a> <a href=\"https://github.com/py-econometrics/pyfixest/issues?q=author%3Aapoorvalal\" title=\"Bug reports\">🐛</a></td>\n      <td align=\"center\" valign=\"top\" width=\"14.28%\"><a href=\"https://juanitorduz.github.io\"><img src=\"https://avatars.githubusercontent.com/u/22996444?v=4?s=100\" width=\"100px;\" alt=\"Juan Orduz\"/><br /><sub><b>Juan Orduz</b></sub></a><br /><a href=\"#infra-juanitorduz\" title=\"Infrastructure (Hosting, Build-Tools, etc)\">🚇</a> <a href=\"https://github.com/py-econometrics/pyfixest/commits?author=juanitorduz\" title=\"Code\">💻</a></td>\n      <td align=\"center\" valign=\"top\" width=\"14.28%\"><a href=\"https://py-econometrics.github.io/blog/\"><img src=\"https://avatars.githubusercontent.com/u/19531450?v=4?s=100\" width=\"100px;\" alt=\"Alexander Fischer\"/><br /><sub><b>Alexander Fischer</b></sub></a><br /><a href=\"https://github.com/py-econometrics/pyfixest/commits?author=py-econometrics\" title=\"Code\">💻</a> <a href=\"#infra-py-econometrics\" title=\"Infrastructure (Hosting, Build-Tools, etc)\">🚇</a></td>\n      <td align=\"center\" valign=\"top\" width=\"14.28%\"><a href=\"http://www.aeturrell.com\"><img src=\"https://avatars.githubusercontent.com/u/11294320?v=4?s=100\" width=\"100px;\" alt=\"aeturrell\"/><br /><sub><b>aeturrell</b></sub></a><br /><a href=\"#tutorial-aeturrell\" title=\"Tutorials\">✅</a> <a href=\"https://github.com/py-econometrics/pyfixest/commits?author=aeturrell\" title=\"Documentation\">📖</a> <a href=\"#promotion-aeturrell\" title=\"Promotion\">📣</a></td>\n    </tr>\n  </tbody>\n</table>\n\n<!-- markdownlint-restore -->\n<!-- prettier-ignore-end -->\n\n<!-- ALL-CONTRIBUTORS-LIST:END -->\n\nThis project follows the [all-contributors](https://github.com/all-contributors/all-contributors) specification. Contributions of any kind welcome!\n","srcMarkdownNoYaml":""},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"python":"/pyfixest/.pixi/envs/docs/Scripts/python.exe","engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"pyfixest.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.6.32","quartodoc":{"package":"pyfixest","title":"PyFixest Function Reference","parser":"numpy","rewrite_all_pages":false,"sidebar":"_sidebar.yml","sections":[{"title":"Estimation Functions","desc":"User facing estimation functions\n","contents":["estimation.estimation.feols","estimation.estimation.fepois","estimation.estimation.feglm","did.estimation.did2s","did.estimation.lpdid","did.estimation.event_study","estimation.bonferroni","estimation.rwolf"]},{"title":"Estimation Classes","desc":"Details on Methods and Attributes\n","contents":["estimation.feols_.Feols","estimation.fepois_.Fepois","estimation.feiv_.Feiv","estimation.feglm_.Feglm","estimation.felogit_.Felogit","estimation.feprobit_.Feprobit","estimation.fegaussian_.Fegaussian","estimation.feols_compressed_.FeolsCompressed"]},{"title":"Summarize and Visualize","desc":"Post-Processing of Estimation Results\n","contents":["did.visualize.panelview","report.summary","report.etable","report.dtable","report.coefplot","report.iplot","did.visualize.panelview"]},{"title":"Misc / Utilities","desc":"PyFixest internals and utilities\n","contents":["estimation.demean","estimation.detect_singletons","estimation.model_matrix_fixest"]}]}},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}