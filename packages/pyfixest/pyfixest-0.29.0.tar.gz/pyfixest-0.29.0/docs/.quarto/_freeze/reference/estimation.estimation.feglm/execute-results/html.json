{
  "hash": "fca4491c0cc8b32b74281f0cbea1f2ee",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: estimation.estimation.feglm\n---\n\n\n\n```python\nestimation.estimation.feglm(\n    fml,\n    data,\n    family,\n    vcov=None,\n    ssc=None,\n    fixef_rm='none',\n    fixef_tol=1e-08,\n    iwls_tol=1e-08,\n    iwls_maxiter=25,\n    collin_tol=1e-10,\n    separation_check=None,\n    solver='np.linalg.solve',\n    drop_intercept=False,\n    i_ref1=None,\n    copy_data=True,\n    store_data=True,\n    lean=False,\n    context=None,\n    split=None,\n    fsplit=None,\n)\n```\n\nEstimate GLM regression models (currently without fixed effects, this is work in progress).\nThis feature is currently experimental, full support will be released with pyfixest 0.29.\n\n## Parameters {.doc-section .doc-section-parameters}\n\n| Name             | Type                                       | Description                                                                                                                                                                                                                                                                                                                                                                                                                                     | Default             |\n|------------------|--------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------|\n| fml              | str                                        | A two-sided formula string using fixest formula syntax. Syntax: \"Y ~ X1 + X2 \\| FE1 + FE2\". \"\\|\" separates left-hand side and fixed effects. Special syntax includes: - Stepwise regressions (sw, sw0) - Cumulative stepwise regression (csw, csw0) - Multiple dependent variables (Y1 + Y2 ~ X) - Interaction of variables (i(X1,X2)) - Interacted fixed effects (fe1^fe2) Compatible with formula parsing via the formulaic module.           | _required_          |\n| data             | DataFrameType                              | A pandas or polars dataframe containing the variables in the formula.                                                                                                                                                                                                                                                                                                                                                                           | _required_          |\n| family           | str                                        | The family of the GLM model. Options include \"gaussian\", \"logit\" and \"probit\".                                                                                                                                                                                                                                                                                                                                                                  | _required_          |\n| vcov             | Union\\[VcovTypeOptions, dict\\[str, str\\]\\] | Type of variance-covariance matrix for inference. Options include \"iid\", \"hetero\", \"HC1\", \"HC2\", \"HC3\", or a dictionary for CRV1/CRV3 inference.                                                                                                                                                                                                                                                                                                | `None`              |\n| ssc              | str                                        | A ssc object specifying the small sample correction for inference.                                                                                                                                                                                                                                                                                                                                                                              | `None`              |\n| fixef_rm         | FixedRmOptions                             | Specifies whether to drop singleton fixed effects. Options: \"none\" (default), \"singleton\".                                                                                                                                                                                                                                                                                                                                                      | `'none'`            |\n| fixef_tol        | float                                      | Tolerance for the fixed effects demeaning algorithm. Defaults to 1e-08.                                                                                                                                                                                                                                                                                                                                                                         | `1e-08`             |\n| iwls_tol         | Optional\\[float\\]                          | Tolerance for IWLS convergence, by default 1e-08.                                                                                                                                                                                                                                                                                                                                                                                               | `1e-08`             |\n| iwls_maxiter     | Optional\\[float\\]                          | Maximum number of iterations for IWLS convergence, by default 25.                                                                                                                                                                                                                                                                                                                                                                               | `25`                |\n| collin_tol       | float                                      | Tolerance for collinearity check, by default 1e-10.                                                                                                                                                                                                                                                                                                                                                                                             | `1e-10`             |\n| separation_check | Optional\\[list\\[str\\]\\]                    | Methods to identify and drop separated observations. Either \"fe\" or \"ir\". Executes \"fe\" by default (when None).                                                                                                                                                                                                                                                                                                                                 | `None`              |\n| solver           | SolverOptions, optional.                   | The solver to use for the regression. Can be either \"np.linalg.solve\" or \"np.linalg.lstsq\". Defaults to \"np.linalg.solve\".                                                                                                                                                                                                                                                                                                                      | `'np.linalg.solve'` |\n| drop_intercept   | bool                                       | Whether to drop the intercept from the model, by default False.                                                                                                                                                                                                                                                                                                                                                                                 | `False`             |\n| i_ref1           |                                            | Deprecated with pyfixest version 0.18.0. Please use i-syntax instead, i.e. fepois('Y~ i(f1, ref=1)', data = data) instead of the former fepois('Y~ i(f1)', data = data, i_ref=1).                                                                                                                                                                                                                                                               | `None`              |\n| copy_data        | bool                                       | Whether to copy the data before estimation, by default True. If set to False, the data is not copied, which can save memory but may lead to unintended changes in the input data outside of `fepois`. For example, the input data set is re-index within the function. As far as I know, the only other relevant case is when using interacted fixed effects, in which case you'll find a column with interacted fixed effects in the data set. | `True`              |\n| store_data       | bool                                       | Whether to store the data in the model object, by default True. If set to False, the data is not stored in the model object, which can improve performance and save memory. However, it will no longer be possible to access the data via the `data` attribute of the model object. This has impact on post-estimation capabilities that rely on the data, e.g. `predict()` or `vcov()`.                                                        | `True`              |\n| lean             | bool                                       | False by default. If True, then all large objects are removed from the returned result: this will save memory but will block the possibility to use many methods. It is recommended to use the argument vcov to obtain the appropriate standard-errors at estimation time, since obtaining different SEs won't be possible afterwards.                                                                                                          | `False`             |\n| context          | int or Mapping\\[str, Any\\]                 | A dictionary containing additional context variables to be used by formulaic during the creation of the model matrix. This can include custom factorization functions, transformations, or any other variables that need to be available in the formula environment.                                                                                                                                                                            | `None`              |\n| split            | Optional\\[str\\]                            | A character string, i.e. 'split = var'. If provided, the sample is split according to the variable and one estimation is performed for each value of that variable. If you also want to include the estimation for the full sample, use the argument fsplit instead.                                                                                                                                                                            | `None`              |\n| fsplit           | Optional\\[str\\]                            | This argument is the same as split but also includes the full sample as the first estimation.                                                                                                                                                                                                                                                                                                                                                   | `None`              |\n\n## Returns {.doc-section .doc-section-returns}\n\n| Name   | Type   | Description                                                                                                      |\n|--------|--------|------------------------------------------------------------------------------------------------------------------|\n|        | object | An instance of the `Fepois` class or an instance of class `FixestMulti` for multiple models specified via `fml`. |\n\n## Examples {.doc-section .doc-section-examples}\n\nThe `fepois()` function can be used to estimate a simple Poisson regression\nmodel with fixed effects.\nThe following example regresses `Y` on `X1` and `X2` with fixed effects for\n`f1` and `f2`: fixed effects are specified after the `|` symbol.\n\n\n::: {#72c94de8 .cell execution_count=1}\n``` {.python .cell-code}\nimport pyfixest as pf\nimport numpy as np\n\ndata = pf.get_data()\ndata[\"Y\"] = np.where(data[\"Y\"] > 0, 1, 0)\ndata[\"f1\"] = np.where(data[\"f1\"] > data[\"f1\"].median(), \"group1\", \"group2\")\n\nfit_probit = pf.feglm(\"Y ~ X1*f1\", data, family = \"probit\")\nfit_logit = pf.feglm(\"Y ~ X1*f1\", data, family = \"logit\")\nfit_gaussian = pf.feglm(\"Y ~ X1*f1\", data, family = \"gaussian\")\n\npf.etable([fit_probit, fit_logit, fit_gaussian])\n```\n\n::: {.cell-output .cell-output-display}\n```{=html}\n\n            <div id=\"TzTdGd\"></div>\n            <script type=\"text/javascript\" data-lets-plot-script=\"library\">\n                if(!window.letsPlotCallQueue) {\n                    window.letsPlotCallQueue = [];\n                }; \n                window.letsPlotCall = function(f) {\n                    window.letsPlotCallQueue.push(f);\n                };\n                (function() {\n                    var script = document.createElement(\"script\");\n                    script.type = \"text/javascript\";\n                    script.src = \"https://cdn.jsdelivr.net/gh/JetBrains/lets-plot@v4.5.2/js-package/distr/lets-plot.min.js\";\n                    script.onload = function() {\n                        window.letsPlotCall = function(f) {f();};\n                        window.letsPlotCallQueue.forEach(function(f) {f();});\n                        window.letsPlotCallQueue = [];\n                        \n                    };\n                    script.onerror = function(event) {\n                        window.letsPlotCall = function(f) {};    // noop\n                        window.letsPlotCallQueue = [];\n                        var div = document.createElement(\"div\");\n                        div.style.color = 'darkred';\n                        div.textContent = 'Error loading Lets-Plot JS';\n                        document.getElementById(\"TzTdGd\").appendChild(div);\n                    };\n                    var e = document.getElementById(\"TzTdGd\");\n                    e.appendChild(script);\n                })()\n            </script>\n            \n```\n:::\n\n::: {.cell-output .cell-output-display}\n```{=html}\n\n            <div id=\"Hcoe0m\"></div>\n            <script type=\"text/javascript\" data-lets-plot-script=\"library\">\n                if(!window.letsPlotCallQueue) {\n                    window.letsPlotCallQueue = [];\n                }; \n                window.letsPlotCall = function(f) {\n                    window.letsPlotCallQueue.push(f);\n                };\n                (function() {\n                    var script = document.createElement(\"script\");\n                    script.type = \"text/javascript\";\n                    script.src = \"https://cdn.jsdelivr.net/gh/JetBrains/lets-plot@v4.5.2/js-package/distr/lets-plot.min.js\";\n                    script.onload = function() {\n                        window.letsPlotCall = function(f) {f();};\n                        window.letsPlotCallQueue.forEach(function(f) {f();});\n                        window.letsPlotCallQueue = [];\n                        \n                    };\n                    script.onerror = function(event) {\n                        window.letsPlotCall = function(f) {};    // noop\n                        window.letsPlotCallQueue = [];\n                        var div = document.createElement(\"div\");\n                        div.style.color = 'darkred';\n                        div.textContent = 'Error loading Lets-Plot JS';\n                        document.getElementById(\"Hcoe0m\").appendChild(div);\n                    };\n                    var e = document.getElementById(\"Hcoe0m\");\n                    e.appendChild(script);\n                })()\n            </script>\n            \n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=1}\n```{=html}\n<div id=\"azeslfkhkx\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>\n#azeslfkhkx table {\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n          -webkit-font-smoothing: antialiased;\n          -moz-osx-font-smoothing: grayscale;\n        }\n\n#azeslfkhkx thead, tbody, tfoot, tr, td, th { border-style: none; }\n tr { background-color: transparent; }\n#azeslfkhkx p { margin: 0; padding: 0; }\n #azeslfkhkx .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: hidden; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; }\n #azeslfkhkx .gt_caption { padding-top: 4px; padding-bottom: 4px; }\n #azeslfkhkx .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; }\n #azeslfkhkx .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; }\n #azeslfkhkx .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; }\n #azeslfkhkx .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; }\n #azeslfkhkx .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: black; border-bottom-style: solid; border-bottom-width: 0.5px; border-bottom-color: black; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; }\n #azeslfkhkx .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 0px; border-left-color: white; border-right-style: none; border-right-width: 0px; border-right-color: white; vertical-align: bottom; padding-top: 4px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; }\n #azeslfkhkx .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; }\n #azeslfkhkx .gt_column_spanner_outer:first-child { padding-left: 0; }\n #azeslfkhkx .gt_column_spanner_outer:last-child { padding-right: 0; }\n #azeslfkhkx .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 0.5px; border-bottom-color: black; vertical-align: bottom; padding-top: 4px; padding-bottom: 4px; overflow-x: hidden; display: inline-block; width: 100%; }\n #azeslfkhkx .gt_spanner_row { border-bottom-style: hidden; }\n #azeslfkhkx .gt_group_heading { padding-top: 0px; padding-bottom: 0px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 0px; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 0.5px; border-top-color: black; border-bottom-style: solid; border-bottom-width: 0.5px; border-bottom-color: black; border-left-style: none; border-left-width: 1px; border-left-color: white; border-right-style: none; border-right-width: 1px; border-right-color: white; vertical-align: middle; text-align: left; }\n #azeslfkhkx .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 0px; font-weight: initial; border-top-style: solid; border-top-width: 0.5px; border-top-color: black; border-bottom-style: solid; border-bottom-width: 0.5px; border-bottom-color: black; vertical-align: middle; }\n #azeslfkhkx .gt_from_md> :first-child { margin-top: 0; }\n #azeslfkhkx .gt_from_md> :last-child { margin-bottom: 0; }\n #azeslfkhkx .gt_row { padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: none; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 0px; border-left-color: white; border-right-style: none; border-right-width: 0px; border-right-color: white; vertical-align: middle; overflow-x: hidden; }\n #azeslfkhkx .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: hidden; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; }\n #azeslfkhkx .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; }\n #azeslfkhkx .gt_row_group_first td { border-top-width: 0.5px; }\n #azeslfkhkx .gt_row_group_first th { border-top-width: 0.5px; }\n #azeslfkhkx .gt_striped { background-color: rgba(128,128,128,0.05); }\n #azeslfkhkx .gt_table_body { border-top-style: solid; border-top-width: 0.5px; border-top-color: black; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: black; }\n #azeslfkhkx .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; }\n #azeslfkhkx .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; text-align: left; }\n #azeslfkhkx .gt_left { text-align: left; }\n #azeslfkhkx .gt_center { text-align: center; }\n #azeslfkhkx .gt_right { text-align: right; font-variant-numeric: tabular-nums; }\n #azeslfkhkx .gt_font_normal { font-weight: normal; }\n #azeslfkhkx .gt_font_bold { font-weight: bold; }\n #azeslfkhkx .gt_font_italic { font-style: italic; }\n #azeslfkhkx .gt_super { font-size: 65%; }\n #azeslfkhkx .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; }\n #azeslfkhkx .gt_asterisk { font-size: 100%; vertical-align: 0; }\n \n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n<thead>\n\n<tr class=\"gt_col_headings gt_spanner_row\">\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"\"></th>\n  <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"3\" scope=\"colgroup\" id=\"Y\">\n    <span class=\"gt_column_spanner\">Y</span>\n  </th>\n</tr>\n<tr class=\"gt_col_headings\">\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"(1)\">(1)</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"(2)\">(2)</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"(3)\">(3)</th>\n</tr>\n</thead>\n<tbody class=\"gt_table_body\">\n  <tr class=\"gt_group_heading_row\">\n    <th class=\"gt_group_heading\" colspan=\"4\">coef</th>\n  </tr>\n  <tr>\n    <th class=\"gt_row gt_left gt_stub\">X1</th>\n    <td class=\"gt_row gt_center\">-0.466*** <br> (0.073)</td>\n    <td class=\"gt_row gt_center\">-0.752*** <br> (0.119)</td>\n    <td class=\"gt_row gt_center\">-0.179*** <br> (0.027)</td>\n  </tr>\n  <tr>\n    <th class=\"gt_row gt_left gt_stub\">f1[T.group2]</th>\n    <td class=\"gt_row gt_center\">-0.118 <br> (0.133)</td>\n    <td class=\"gt_row gt_center\">-0.190 <br> (0.216)</td>\n    <td class=\"gt_row gt_center\">-0.044 <br> (0.050)</td>\n  </tr>\n  <tr>\n    <th class=\"gt_row gt_left gt_stub\">X1:f1[T.group2]</th>\n    <td class=\"gt_row gt_center\">0.035 <br> (0.102)</td>\n    <td class=\"gt_row gt_center\">0.057 <br> (0.168)</td>\n    <td class=\"gt_row gt_center\">0.014 <br> (0.038)</td>\n  </tr>\n  <tr>\n    <th class=\"gt_row gt_left gt_stub\">Intercept</th>\n    <td class=\"gt_row gt_center\">0.449*** <br> (0.096)</td>\n    <td class=\"gt_row gt_center\">0.724*** <br> (0.156)</td>\n    <td class=\"gt_row gt_center\">0.673*** <br> (0.035)</td>\n  </tr>\n  <tr class=\"gt_group_heading_row\">\n    <th class=\"gt_group_heading\" colspan=\"4\">stats</th>\n  </tr>\n  <tr>\n    <th class=\"gt_row gt_left gt_stub\">Observations</th>\n    <td class=\"gt_row gt_center\">999</td>\n    <td class=\"gt_row gt_center\">999</td>\n    <td class=\"gt_row gt_center\">999</td>\n  </tr>\n  <tr>\n    <th class=\"gt_row gt_left gt_stub\">S.E. type</th>\n    <td class=\"gt_row gt_center\">iid</td>\n    <td class=\"gt_row gt_center\">iid</td>\n    <td class=\"gt_row gt_center\">iid</td>\n  </tr>\n  <tr>\n    <th class=\"gt_row gt_left gt_stub\">R<sup>2</sup></th>\n    <td class=\"gt_row gt_center\">-</td>\n    <td class=\"gt_row gt_center\">-</td>\n    <td class=\"gt_row gt_center\">-</td>\n  </tr>\n  <tr>\n    <th class=\"gt_row gt_left gt_stub\">Adj. R<sup>2</sup></th>\n    <td class=\"gt_row gt_center\">-</td>\n    <td class=\"gt_row gt_center\">-</td>\n    <td class=\"gt_row gt_center\">-</td>\n  </tr>\n</tbody>\n  <tfoot class=\"gt_sourcenotes\">\n  \n  <tr>\n    <td class=\"gt_sourcenote\" colspan=\"4\">Significance levels: * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001. Format of coefficient cell:\nCoefficient \n (Std. Error)</td>\n  </tr>\n\n</tfoot>\n\n</table>\n\n</div>\n        \n```\n:::\n:::\n\n\n`PyFixest` integrates with the [marginaleffects](https://marginaleffects.com/bonus/python.html) package. For example, to compute average marginal effects\nfor the probit model above, you can use the following code:\n\n::: {#5337078d .cell execution_count=2}\n``` {.python .cell-code}\n# we load polars as marginaleffects outputs pl.DataFrame's\nimport polars as pl\nfrom marginaleffects import avg_slopes\npl.concat([avg_slopes(model, variables  = \"X1\") for model in [fit_probit, fit_logit, fit_gaussian]])\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```{=html}\n<div><style>\n.dataframe > thead > tr,\n.dataframe > tbody > tr {\n  text-align: right;\n  white-space: pre-wrap;\n}\n</style>\n<small>shape: (3, 9)</small><table border=\"1\" class=\"dataframe\"><thead><tr><th>term</th><th>contrast</th><th>estimate</th><th>std_error</th><th>statistic</th><th>p_value</th><th>s_value</th><th>conf_low</th><th>conf_high</th></tr><tr><td>str</td><td>str</td><td>f64</td><td>f64</td><td>f64</td><td>f64</td><td>f64</td><td>f64</td><td>f64</td></tr></thead><tbody><tr><td>&quot;X1&quot;</td><td>&quot;mean(dY/dX)&quot;</td><td>-0.448614</td><td>0.051085</td><td>-8.781635</td><td>0.0</td><td>inf</td><td>-0.548739</td><td>-0.348488</td></tr><tr><td>&quot;X1&quot;</td><td>&quot;mean(dY/dX)&quot;</td><td>-0.722455</td><td>0.083798</td><td>-8.621427</td><td>0.0</td><td>inf</td><td>-0.886695</td><td>-0.558214</td></tr><tr><td>&quot;X1&quot;</td><td>&quot;mean(dY/dX)&quot;</td><td>-0.172566</td><td>0.018802</td><td>-9.177932</td><td>0.0</td><td>inf</td><td>-0.209418</td><td>-0.135715</td></tr></tbody></table></div>\n```\n:::\n:::\n\n\nWe can also compute marginal effects by group (group average marginal effects):\n\n::: {#18968607 .cell execution_count=3}\n``` {.python .cell-code}\navg_slopes(fit_probit, variables  = \"X1\", by = \"f1\")\n```\n\n::: {.cell-output .cell-output-display execution_count=3}\n```{=html}\n<div><style>\n.dataframe > thead > tr,\n.dataframe > tbody > tr {\n  text-align: right;\n  white-space: pre-wrap;\n}\n</style>\n<small>shape: (2, 10)</small><table border=\"1\" class=\"dataframe\"><thead><tr><th>f1</th><th>term</th><th>contrast</th><th>estimate</th><th>std_error</th><th>statistic</th><th>p_value</th><th>s_value</th><th>conf_low</th><th>conf_high</th></tr><tr><td>str</td><td>str</td><td>str</td><td>f64</td><td>f64</td><td>f64</td><td>f64</td><td>f64</td><td>f64</td><td>f64</td></tr></thead><tbody><tr><td>&quot;group1&quot;</td><td>&quot;X1&quot;</td><td>&quot;mean(dY/dX)&quot;</td><td>-0.466327</td><td>0.072613</td><td>-6.422116</td><td>1.3439e-10</td><td>32.792824</td><td>-0.608646</td><td>-0.324009</td></tr><tr><td>&quot;group2&quot;</td><td>&quot;X1&quot;</td><td>&quot;mean(dY/dX)&quot;</td><td>-0.431424</td><td>0.071921</td><td>-5.998564</td><td>1.9907e-9</td><td>28.904075</td><td>-0.572387</td><td>-0.290461</td></tr></tbody></table></div>\n```\n:::\n:::\n\n\nWe find homogeneous effects by \"f1\" in the probit model.\n\nFor more examples of other function arguments, please take a look at the documentation of the [feols()](https://py-econometrics.github.io/pyfixest/reference/estimation.estimation.feols.html#pyfixest.estimation.estimation.feols)\nfunction.\n\n",
    "supporting": [
      "estimation.estimation.feglm_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}