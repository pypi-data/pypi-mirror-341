studio = CppExecutable('iprm_studio')
studio.dynamic_crt()
studio.gui()
if Env.platform.macos:
    # TODO: Add support for Info.plist/macOS bundle stuff
    # TODO: Need to regenerate iconset file to updated iprm svg logo
    pass

studio.headers(
    SourceDir('src', 'api'),
    'APIItem.hpp',
    'APIModel.hpp',
    'APIView.hpp',
)
studio.sources(
    SourceDir('src', 'api'),
    'APIModel.cpp',
    'APIView.cpp',
)
studio.headers(
    SourceDir('src', 'dependencies'),
    'DependencyGraphEdge.hpp',
    'DependencyGraphicsScene.hpp',
    'DependencyGraphicsView.hpp',
    'DependencyGraphItemFactory.hpp',
    'DependencyGraphNode.hpp',
    'DependencyGraphNodeSummary.hpp',
    'DependencyView.hpp',
)
studio.sources(
    SourceDir('src', 'dependencies'),
    'DependencyGraphEdge.cpp',
    'DependencyGraphicsScene.cpp',
    'DependencyGraphicsView.cpp',
    'DependencyGraphItemFactory.cpp',
    'DependencyGraphNode.cpp',
    'DependencyGraphNodeSummary.cpp',
    'DependencyView.cpp',
)
studio.headers(
    SourceDir('src', 'filesystem'),
    'FileSystemModel.hpp',
    'FileSystemView.hpp',
)
studio.sources(
    SourceDir('src', 'filesystem'),
    'FileSystemModel.cpp',
    'FileSystemView.cpp',
)
studio.headers(
    SourceDir('src', 'log'),
    'LogView.hpp',
)
studio.sources(
    SourceDir('src', 'log'),
    'LogView.cpp',
)
studio.headers(
    SourceDir('src', 'project'),
    'CMakeHighligher.hpp',
    'FileView.hpp',
    'NativeText.hpp',
    'ObjectPropertiesView.hpp',
    'ObjectsModel.hpp',
    'ObjectsView.hpp',
    'Project.hpp',
    'TextStyle.hpp',
)
studio.sources(
    SourceDir('src', 'project'),
    'CMakeHighligher.cpp',
    'FileView.cpp',
    'NativeText.cpp',
    'ObjectPropertiesView.cpp',
    'ObjectsModel.cpp',
    'ObjectsView.cpp',
    'Project.cpp',
    'TextStyle.cpp',
)
studio.headers(
    SourceDir('src', 'util'),
    'APIBridge.hpp',
    'APIError.hpp',
    'AppTheme.hpp',
    'AssetCache.hpp',
    'graphviz.hpp',
    'LoadingWidget.hpp',
    'SplashScreen.hpp',
    'util.hpp',
)
studio.sources(
    SourceDir('src', 'util'),
    'APIBridge.cpp',
    'AppTheme.cpp',
    'AssetCache.cpp',
    'graphviz.cpp',
    'LoadingWidget.cpp',
    'SplashScreen.cpp',
)
studio.headers(
    SourceDir('src'),
    'MainWindow.hpp',
)
studio.sources(
    SourceDir('src'),
    'main.cpp',
    'MainWindow.cpp',
)
studio.sources(
    SourceDir('res'),
    'res.qrc',
)
studio.defines(
    'QT_NO_KEYWORDS',
)
studio.output_dir(SourceDir('bin'))
studio.python()
studio.qt('third_qt')
studio.requires(
    'third_lemon',
    'third_graphviz',
    'third_pybind11',
    'third_k_editor',
)
