import{e as d,a as u,t as J,b as $}from"./disclose-version.KQatKnwM.js";import{i as N}from"./legacy.D--LHvfs.js";import{p as T,l as D,b as E,g as l,t as x,a as G,c as z,n as g,s as y,r as A,m as H,d as K,q as M,u as C}from"./index-client.BSaxjCgd.js";import{p as f,i as Q}from"./props.CH69RCtx.js";import{B as h,e as R,i as U}from"./index.DsSMAhLM.js";import{L as V}from"./TimeAgo.BVmg9NET.js";var W=J('<div class="flex flex-col space-y-1.5"><!> <div class="flex gap-2"><!> <!> <!></div></div>');function te(t,e){T(e,!1);const r=H();let n=f(e,"statusFilter",12,""),o=f(e,"statusCounts",24,()=>({})),v=f(e,"totalCount",8),c=f(e,"selectedFilter",12,!1),_=f(e,"selectedCount",8,null);function m(a,s){n(a),c(s)}D(()=>M(o()),()=>{K(r,Object.entries(o()).filter(([a,s])=>s>0).map(([a])=>a))}),E(),N();var b=W(),F=z(b);V(F,{children:(a,s)=>{g();var i=d("Filter");u(a,i)},$$slots:{default:!0}});var L=y(F,2),P=z(L),B=C(()=>n()===""&&!c()?"bg-gray-100 border-gray-200":"");h(P,{variant:"outline",size:"sm",get class(){return l(B)},$$events:{click:()=>m("",!1)},children:(a,s)=>{g();var i=d();x(()=>$(i,`All tasks (${v()??""})`)),u(a,i)},$$slots:{default:!0}});var q=y(P,2);Q(q,()=>_()!==null&&_()>0,a=>{var s=C(()=>c()?"bg-blue-50 border-blue-200 text-blue-700":"");h(a,{variant:"outline",size:"sm",get class(){return l(s)},$$events:{click:()=>m("",!0)},children:(i,w)=>{g();var p=d();x(()=>$(p,`Selected (${_()??""})`)),u(i,p)},$$slots:{default:!0}})});var I=y(q,2);R(I,1,()=>l(r),U,(a,s)=>{var i=C(()=>`
                    ${l(s)==="completed"?"text-green-700":l(s)==="failed"?"text-red-700":"text-gray-700"}
                    ${n()===l(s)&&!c()?l(s)==="completed"?"bg-green-50 border-green-200":l(s)==="failed"?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200":""}
                `);h(a,{variant:"outline",size:"sm",get class(){return l(i)},$$events:{click:()=>m(l(s),!1)},children:(w,p)=>{g();var O=d();x(()=>$(O,`${l(s)??""} (${o()[l(s)]??""})`)),u(w,O)},$$slots:{default:!0}})}),A(L),A(b),u(t,b),G()}function re(t){return{isPassed:t.eval_passed,statusClass:t.eval_passed?"bg-green-50 hover:bg-green-100":"bg-red-100 hover:bg-red-200"}}function se(t,e=45){if(!t)return"-";let r;return typeof t=="object"&&t!==null?"str"in t?r=String(t.str):"question"in t?r=String(t.question):r=JSON.stringify(t):r=String(t),r.length>e?r.slice(0,e)+"...":r}function ae(t,e,r,n=null){return t==null?void 0:t.filter(o=>{if(n!==null&&!n.includes(o.id)||e&&o.status!==e)return!1;if(r){const v=r.toLowerCase();return S(v,o)}return!0})}function le(t){return(t==null?void 0:t.reduce((e,r)=>(e[r.status]=(e[r.status]||0)+1,e),{}))||{}}function S(t,e){if(!e)return!1;const r=t.toLowerCase();return typeof e=="string"?e.toLowerCase().includes(r):typeof e=="number"?e.toString().toLowerCase().includes(r):Array.isArray(e)?e.some(n=>S(r,n)):typeof e=="object"?Object.values(e).some(n=>S(r,n)):!1}export{te as S,re as a,ae as f,le as g,se as t};
