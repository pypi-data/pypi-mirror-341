var Tn=Object.defineProperty;var Pn=(d,e,t)=>e in d?Tn(d,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):d[e]=t;var N=(d,e,t)=>Pn(d,typeof e!="symbol"?e+"":e,t);import{j as Br,k as Cn,s as ur,a as v,t as T,c as dt,f as ir,d as _e,e as U,b as O}from"../chunks/disclose-version.KQatKnwM.js";import{i as It}from"../chunks/legacy.D--LHvfs.js";import{L as An,h as Dr,Q as Or,O as En,Y as Mr,at as In,aA as Ln,ay as Bn,W as Dn,au as On,aj as Mn,ak as qn,al as jn,p as Lt,l as ke,b as dr,t as L,a as Bt,d as W,g as n,m as be,f as X,c as g,r as f,Z as qr,s as b,q as Et,n as le,u as oe,aF as Nn,ah as tr}from"../chunks/index-client.BSaxjCgd.js";import{l as ht,p as fe,b as yr,i as A,s as an}from"../chunks/props.CH69RCtx.js";import{o as Fn,m as jr,f as mr,g as Zn,h as Nr,k as Fr,j as Gn,p as Hn,r as Un,l as ln,c as $r,s as kr,B as $t,n as Zr,d as Gr,e as wt,i as yt,a as Ht}from"../chunks/index.DsSMAhLM.js";import{s as rr}from"../chunks/class.Beg04Fd9.js";import{E as Hr,C as Ur,a as Qn,c as Jn}from"../chunks/ErrorDisplay.DZ0Gu5b_.js";import{t as Vn,o as Wn,c as Xn,r as Yn,g as Kn,a as es,i as on,L as br,I as ts,C as rs,T as ns,b as ss,d as xr,e as ut,f as as,h as nt}from"../chunks/TimeAgo.BVmg9NET.js";import{a as is}from"../chunks/index.vKWVQZ4k.js";import{f as ls}from"../chunks/projects.B79qZoGg.js";import{S as os,f as cs,g as us,t as ds,a as hs}from"../chunks/tasks.CqZQR1u1.js";import{g as Qr}from"../chunks/entry.D4m5IXZ4.js";import{L as ps}from"../chunks/Loading.DkR_FJp9.js";import{S as Jr}from"../chunks/StatusBadge.CaO23Fkx.js";import{C as fs,P as gs,h as vs}from"../chunks/jobs.kFZzFmqk.js";import{w as ms}from"../chunks/index.CiLSiJZW.js";import{E as Vr,S as bs}from"../chunks/EvaluationResults.BAMCpLbq.js";import{i as xs,f as _s}from"../chunks/intervalToDuration.BpIG60gY.js";function Wr(d,e,t,r,s){var a=d,i="",l;An(()=>{if(i===(i=e()??"")){Dr&&Or();return}l!==void 0&&(Mn(l),l=void 0),i!==""&&(l=En(()=>{if(Dr){Mr.data;for(var o=Or(),c=o;o!==null&&(o.nodeType!==8||o.data!=="");)c=o,o=In(o);if(o===null)throw Ln(),Bn;Br(Mr,c),a=Dn(o);return}var u=i+"",_=Cn(u);Br(On(_),_.lastChild),a.before(_)}))})}const ks={defaultChecked:!1,disabled:!1,required:!1,name:"",value:""},{name:Xr}=Hn("switch");function ws(d){const e={...ks,...d},t=Vn(Fn(e,"checked")),{disabled:r,required:s,name:a,value:i}=t,l=e.checked??ms(e.defaultChecked),o=Wn(l,e==null?void 0:e.onCheckedChange);function c(){r.get()||o.update(p=>!p)}const u=jr(Xr(),{stores:[o,r,s],returned:([p,k,y])=>({"data-disabled":mr(k),disabled:mr(k),"data-state":p?"checked":"unchecked",type:"button",role:"switch","aria-checked":p?"true":"false","aria-required":y?"true":void 0}),action(p){return{destroy:Zn(Nr(p,"click",()=>{c()}),Nr(p,"keydown",y=>{y.key!==Fr.ENTER&&y.key!==Fr.SPACE||(y.preventDefault(),c())}))}}}),_=jr(Xr("input"),{stores:[o,a,s,r,i],returned:([p,k,y,S,P])=>({type:"checkbox","aria-hidden":!0,hidden:!0,tabindex:-1,name:k,value:P,checked:p,required:y,disabled:mr(S),style:Gn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"})})});return{elements:{root:u,input:_},states:{checked:o},options:t}}function cn(){return{NAME:"switch",PARTS:["root","input","thumb"]}}function ys(d){const{NAME:e,PARTS:t}=cn(),r=Xn(e,t),s={...ws(Yn(d)),getAttrs:r};return qn(e,s),{...s,updateOption:Kn(s.options)}}function un(){const{NAME:d}=cn();return jn(d)}var $s=T("<input>");function Ss(d,e){const t=ht(e,["children","$$slots","$$events","$$legacy"]),r=ht(t,["el"]);Lt(e,!1);const s=ur(),a=()=>dt(k,"$value",s),i=()=>dt(p,"$input",s),l=()=>dt(y,"$name",s),o=()=>dt(S,"$disabled",s),c=()=>dt(P,"$required",s),u=be();let _=fe(e,"el",28,()=>{});const{elements:{input:p},options:{value:k,name:y,disabled:S,required:P}}=un();ke(()=>a(),()=>{W(u,a()===void 0||a()===""?"on":a())}),dr(),It();var ce=$s();Un(ce);let de;yr(ce,Q=>_(Q),()=>_()),ln(ce,Q=>i().action(Q)),L(()=>de=$r(ce,de,{...i(),name:l(),disabled:o(),required:c(),value:n(u),...r})),v(d,ce),Bt()}var zs=T("<button><!></button>"),Rs=T("<!> <!>",1);function Ts(d,e){const t=ht(e,["children","$$slots","$$events","$$legacy"]),r=ht(t,["checked","onCheckedChange","disabled","name","value","includeInput","required","asChild","inputAttrs","el"]);Lt(e,!1);const s=ur(),a=()=>dt(de,"$root",s),i=be(),l=be();let o=fe(e,"checked",28,()=>{}),c=fe(e,"onCheckedChange",24,()=>{}),u=fe(e,"disabled",24,()=>{}),_=fe(e,"name",24,()=>{}),p=fe(e,"value",24,()=>{}),k=fe(e,"includeInput",8,!0),y=fe(e,"required",24,()=>{}),S=fe(e,"asChild",8,!1),P=fe(e,"inputAttrs",24,()=>{}),ce=fe(e,"el",28,()=>{});const{elements:{root:de},states:{checked:Q},updateOption:J,getAttrs:ye}=ys({disabled:u(),name:_(),value:p(),required:y(),defaultChecked:o(),onCheckedChange:({next:$e})=>{var K;return o()!==$e&&((K=c())==null||K($e),o($e)),$e}}),at=es();ke(()=>Et(o()),()=>{o()!==void 0&&Q.set(o())}),ke(()=>Et(u()),()=>{J("disabled",u())}),ke(()=>Et(_()),()=>{J("name",_())}),ke(()=>Et(p()),()=>{J("value",p())}),ke(()=>Et(y()),()=>{J("required",y())}),ke(()=>a(),()=>{W(i,a())}),ke(()=>Et(o()),()=>{W(l,{...ye("root"),"data-checked":o()?"":void 0})}),ke(()=>(n(i),n(l)),()=>{Object.assign(n(i),n(l))}),dr(),It();var Ce=Rs(),he=X(Ce);A(he,S,$e=>{var K=_e(),it=X(K);kr(it,e,"default",{get builder(){return n(i)}},null),v($e,K)},$e=>{var K=zs();let it;var Se=g(K);kr(Se,e,"default",{get builder(){return n(i)}},null),f(K),yr(K,Xe=>ce(Xe),()=>ce()),ln(K,Xe=>n(i).action(Xe)),qr(()=>ir("m-click",K,at)),qr(()=>ir("m-keydown",K,at)),L(()=>it=$r(K,it,{...n(i),type:"button",...r})),v($e,K)});var pt=b(he,2);A(pt,k,$e=>{Ss($e,an(P))}),v(d,Ce),Bt()}var Ps=T("<span></span>");function Cs(d,e){const t=ht(e,["children","$$slots","$$events","$$legacy"]),r=ht(t,["asChild","el"]);Lt(e,!1);const s=ur(),a=()=>dt(c,"$checked",s),i=be();let l=fe(e,"asChild",8,!1),o=fe(e,"el",28,()=>{});const{states:{checked:c},getAttrs:u}=un();ke(()=>a(),()=>{W(i,{...u("thumb"),"data-state":a()?"checked":"unchecked","data-checked":a()?"":void 0})}),dr(),It();var _=_e(),p=X(_);A(p,l,k=>{var y=_e(),S=X(y);kr(S,e,"default",{get attrs(){return n(i)},get checked(){return a()}},null),v(k,y)},k=>{var y=Ps();let S;yr(y,P=>o(P),()=>o()),L(()=>S=$r(y,S,{...r,...n(i)})),v(k,y)}),v(d,_),Bt()}var As=T('<span class="text-xl text-gray-500"><!></span>'),Es=T('<div class="flex gap-4 items-center"><div class="flex gap-2 items-center"><span class="text-sm text-gray-500">Project</span> <span class="text-md text-gray-800"> </span></div> <!></div>'),Is=T('<div class="flex gap-2 items-center"><span class="text-sm text-gray-500">Project</span> <span class="text-md text-gray-800"> </span></div>'),Ls=T('<div class="flex justify-between items-center mb-4"><div class="flex gap-12 items-center"><h1 class="text-3xl font-bold"> </h1> <!></div> <!></div>');function Bs(d,e){Lt(e,!1);let t=fe(e,"runDetails",8),r=fe(e,"showExportButton",8,!0);It();var s=_e(),a=X(s);A(a,t,i=>{var l=Ls(),o=g(l),c=g(o),u=g(c);L(()=>O(u,`Run: ${t().id.slice(-8)??""}`)),f(c);var _=b(c,2);A(_,t,k=>{var y=As(),S=g(y);on(S,{get date(){return t().date}}),f(y),v(k,y)}),f(o);var p=b(o,2);A(p,r,k=>{var y=Es(),S=g(y),P=b(g(S),2),ce=g(P,!0);f(P),f(S);var de=b(S,2);$t(de,{variant:"outline",class:"text-sm",$$events:{click:()=>{const Q=`/export/run#${t().project.id}/${t().id}`;window.open(Q,"_blank")}},children:(Q,J)=>{le();var ye=U("Export");v(Q,ye)},$$slots:{default:!0}}),f(y),L(()=>O(ce,t().project.name)),v(k,y)},k=>{var y=Is(),S=b(g(y),2),P=g(S,!0);f(S),f(y),L(()=>O(P,t().project.name)),v(k,y)}),f(l),v(i,l)}),v(d,s),Bt()}function Sr(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let zt=Sr();function dn(d){zt=d}const Vt={exec:()=>null};function M(d,e=""){let t=typeof d=="string"?d:d.source;const r={replace:(s,a)=>{let i=typeof a=="string"?a:a.source;return i=i.replace(we.caret,"$1"),t=t.replace(s,i),r},getRegex:()=>new RegExp(t,e)};return r}const we={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:d=>new RegExp(`^( {0,3}${d})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:d=>new RegExp(`^ {0,${Math.min(3,d-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:d=>new RegExp(`^ {0,${Math.min(3,d-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:d=>new RegExp(`^ {0,${Math.min(3,d-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:d=>new RegExp(`^ {0,${Math.min(3,d-1)}}#`),htmlBeginRegex:d=>new RegExp(`^ {0,${Math.min(3,d-1)}}<(?:[a-z].*>|!--)`,"i")},Ds=/^(?:[ \t]*(?:\n|$))+/,Os=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Ms=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Yt=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,qs=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hn=/(?:[*+-]|\d{1,9}[.)])/,pn=M(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,hn).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),zr=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,js=/^[^\n]+/,Rr=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Ns=M(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Rr).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Fs=M(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,hn).getRegex(),hr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Tr=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Zs=M("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Tr).replace("tag",hr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),fn=M(zr).replace("hr",Yt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hr).getRegex(),Gs=M(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",fn).getRegex(),Pr={blockquote:Gs,code:Os,def:Ns,fences:Ms,heading:qs,hr:Yt,html:Zs,lheading:pn,list:Fs,newline:Ds,paragraph:fn,table:Vt,text:js},Yr=M("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Yt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hr).getRegex(),Hs={...Pr,table:Yr,paragraph:M(zr).replace("hr",Yt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Yr).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hr).getRegex()},Us={...Pr,html:M(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Tr).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Vt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:M(zr).replace("hr",Yt).replace("heading",` *#{1,6} *[^
]`).replace("lheading",pn).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Qs=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Js=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,gn=/^( {2,}|\\)\n(?!\s*$)/,Vs=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,pr=/[\p{P}\p{S}]/u,Cr=/[\s\p{P}\p{S}]/u,vn=/[^\s\p{P}\p{S}]/u,Ws=M(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Cr).getRegex(),mn=/(?!~)[\p{P}\p{S}]/u,Xs=/(?!~)[\s\p{P}\p{S}]/u,Ys=/(?:[^\s\p{P}\p{S}]|~)/u,Ks=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,bn=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,ea=M(bn,"u").replace(/punct/g,pr).getRegex(),ta=M(bn,"u").replace(/punct/g,mn).getRegex(),xn="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",ra=M(xn,"gu").replace(/notPunctSpace/g,vn).replace(/punctSpace/g,Cr).replace(/punct/g,pr).getRegex(),na=M(xn,"gu").replace(/notPunctSpace/g,Ys).replace(/punctSpace/g,Xs).replace(/punct/g,mn).getRegex(),sa=M("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,vn).replace(/punctSpace/g,Cr).replace(/punct/g,pr).getRegex(),aa=M(/\\(punct)/,"gu").replace(/punct/g,pr).getRegex(),ia=M(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),la=M(Tr).replace("(?:-->|$)","-->").getRegex(),oa=M("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",la).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),lr=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ca=M(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",lr).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),_n=M(/^!?\[(label)\]\[(ref)\]/).replace("label",lr).replace("ref",Rr).getRegex(),kn=M(/^!?\[(ref)\](?:\[\])?/).replace("ref",Rr).getRegex(),ua=M("reflink|nolink(?!\\()","g").replace("reflink",_n).replace("nolink",kn).getRegex(),Ar={_backpedal:Vt,anyPunctuation:aa,autolink:ia,blockSkip:Ks,br:gn,code:Js,del:Vt,emStrongLDelim:ea,emStrongRDelimAst:ra,emStrongRDelimUnd:sa,escape:Qs,link:ca,nolink:kn,punctuation:Ws,reflink:_n,reflinkSearch:ua,tag:oa,text:Vs,url:Vt},da={...Ar,link:M(/^!?\[(label)\]\((.*?)\)/).replace("label",lr).getRegex(),reflink:M(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",lr).getRegex()},wr={...Ar,emStrongRDelimAst:na,emStrongLDelim:ta,url:M(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ha={...wr,br:M(gn).replace("{2,}","*").getRegex(),text:M(wr.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},nr={normal:Pr,gfm:Hs,pedantic:Us},Ut={normal:Ar,gfm:wr,breaks:ha,pedantic:da},pa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Kr=d=>pa[d];function We(d,e){if(e){if(we.escapeTest.test(d))return d.replace(we.escapeReplace,Kr)}else if(we.escapeTestNoEncode.test(d))return d.replace(we.escapeReplaceNoEncode,Kr);return d}function en(d){try{d=encodeURI(d).replace(we.percentDecode,"%")}catch{return null}return d}function tn(d,e){var a;const t=d.replace(we.findPipe,(i,l,o)=>{let c=!1,u=l;for(;--u>=0&&o[u]==="\\";)c=!c;return c?"|":" |"}),r=t.split(we.splitPipe);let s=0;if(r[0].trim()||r.shift(),r.length>0&&!((a=r.at(-1))!=null&&a.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(we.slashPipe,"|");return r}function Qt(d,e,t){const r=d.length;if(r===0)return"";let s=0;for(;s<r&&d.charAt(r-s-1)===e;)s++;return d.slice(0,r-s)}function fa(d,e){if(d.indexOf(e[1])===-1)return-1;let t=0;for(let r=0;r<d.length;r++)if(d[r]==="\\")r++;else if(d[r]===e[0])t++;else if(d[r]===e[1]&&(t--,t<0))return r;return-1}function rn(d,e,t,r,s){const a=e.href,i=e.title||null,l=d[1].replace(s.other.outputLinkReplace,"$1");if(d[0].charAt(0)!=="!"){r.state.inLink=!0;const o={type:"link",raw:t,href:a,title:i,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,o}return{type:"image",raw:t,href:a,title:i,text:l}}function ga(d,e,t){const r=d.match(t.other.indentCodeCompensation);if(r===null)return e;const s=r[1];return e.split(`
`).map(a=>{const i=a.match(t.other.beginningSpace);if(i===null)return a;const[l]=i;return l.length>=s.length?a.slice(s.length):a}).join(`
`)}class or{constructor(e){N(this,"options");N(this,"rules");N(this,"lexer");this.options=e||zt}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Qt(r,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],s=ga(r,t[3]||"",this.rules);return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:s}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(this.rules.other.endingHash.test(r)){const s=Qt(r,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(r=s.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Qt(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let r=Qt(t[0],`
`).split(`
`),s="",a="";const i=[];for(;r.length>0;){let l=!1;const o=[];let c;for(c=0;c<r.length;c++)if(this.rules.other.blockquoteStart.test(r[c]))o.push(r[c]),l=!0;else if(!l)o.push(r[c]);else break;r=r.slice(c);const u=o.join(`
`),_=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${u}`:u,a=a?`${a}
${_}`:_;const p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(_,i,!0),this.lexer.state.top=p,r.length===0)break;const k=i.at(-1);if((k==null?void 0:k.type)==="code")break;if((k==null?void 0:k.type)==="blockquote"){const y=k,S=y.raw+`
`+r.join(`
`),P=this.blockquote(S);i[i.length-1]=P,s=s.substring(0,s.length-y.raw.length)+P.raw,a=a.substring(0,a.length-y.text.length)+P.text;break}else if((k==null?void 0:k.type)==="list"){const y=k,S=y.raw+`
`+r.join(`
`),P=this.list(S);i[i.length-1]=P,s=s.substring(0,s.length-k.raw.length)+P.raw,a=a.substring(0,a.length-y.raw.length)+P.raw,r=S.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:i,text:a}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim();const s=r.length>1,a={type:"list",raw:"",ordered:s,start:s?+r.slice(0,-1):"",loose:!1,items:[]};r=s?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=s?r:"[*+-]");const i=this.rules.other.listItemRegex(r);let l=!1;for(;e;){let c=!1,u="",_="";if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;u=t[0],e=e.substring(u.length);let p=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,de=>" ".repeat(3*de.length)),k=e.split(`
`,1)[0],y=!p.trim(),S=0;if(this.options.pedantic?(S=2,_=p.trimStart()):y?S=t[1].length+1:(S=t[2].search(this.rules.other.nonSpaceChar),S=S>4?1:S,_=p.slice(S),S+=t[1].length),y&&this.rules.other.blankLine.test(k)&&(u+=k+`
`,e=e.substring(k.length+1),c=!0),!c){const de=this.rules.other.nextBulletRegex(S),Q=this.rules.other.hrRegex(S),J=this.rules.other.fencesBeginRegex(S),ye=this.rules.other.headingBeginRegex(S),at=this.rules.other.htmlBeginRegex(S);for(;e;){const Ce=e.split(`
`,1)[0];let he;if(k=Ce,this.options.pedantic?(k=k.replace(this.rules.other.listReplaceNesting,"  "),he=k):he=k.replace(this.rules.other.tabCharGlobal,"    "),J.test(k)||ye.test(k)||at.test(k)||de.test(k)||Q.test(k))break;if(he.search(this.rules.other.nonSpaceChar)>=S||!k.trim())_+=`
`+he.slice(S);else{if(y||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||J.test(p)||ye.test(p)||Q.test(p))break;_+=`
`+k}!y&&!k.trim()&&(y=!0),u+=Ce+`
`,e=e.substring(Ce.length+1),p=he.slice(S)}}a.loose||(l?a.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(l=!0));let P=null,ce;this.options.gfm&&(P=this.rules.other.listIsTask.exec(_),P&&(ce=P[0]!=="[ ] ",_=_.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:u,task:!!P,checked:ce,loose:!1,text:_,tokens:[]}),a.raw+=u}const o=a.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let c=0;c<a.items.length;c++)if(this.lexer.state.top=!1,a.items[c].tokens=this.lexer.blockTokens(a.items[c].text,[]),!a.loose){const u=a.items[c].tokens.filter(p=>p.type==="space"),_=u.length>0&&u.some(p=>this.rules.other.anyLine.test(p.raw));a.loose=_}if(a.loose)for(let c=0;c<a.items.length;c++)a.items[c].loose=!0;return a}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:s,title:a}}}table(e){var l;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const r=tn(t[1]),s=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=(l=t[3])!=null&&l.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===s.length){for(const o of s)this.rules.other.tableAlignRight.test(o)?i.align.push("right"):this.rules.other.tableAlignCenter.test(o)?i.align.push("center"):this.rules.other.tableAlignLeft.test(o)?i.align.push("left"):i.align.push(null);for(let o=0;o<r.length;o++)i.header.push({text:r[o],tokens:this.lexer.inline(r[o]),header:!0,align:i.align[o]});for(const o of a)i.rows.push(tn(o,i.header.length).map((c,u)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:i.align[u]})));return i}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;const i=Qt(r.slice(0,-1),"\\");if((r.length-i.length)%2===0)return}else{const i=fa(t[2],"()");if(i>-1){const o=(t[0].indexOf("!")===0?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,o).trim(),t[3]=""}}let s=t[2],a="";if(this.options.pedantic){const i=this.rules.other.pedanticHrefTitle.exec(s);i&&(s=i[1],a=i[3])}else a=t[3]?t[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?s=s.slice(1):s=s.slice(1,-1)),rn(t,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const s=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=t[s.toLowerCase()];if(!a){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return rn(r,a,r[0],this.lexer,this.rules)}}emStrong(e,t,r=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!s||s[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(s[1]||s[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const i=[...s[0]].length-1;let l,o,c=i,u=0;const _=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(_.lastIndex=0,t=t.slice(-1*e.length+i);(s=_.exec(t))!=null;){if(l=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!l)continue;if(o=[...l].length,s[3]||s[4]){c+=o;continue}else if((s[5]||s[6])&&i%3&&!((i+o)%3)){u+=o;continue}if(c-=o,c>0)continue;o=Math.min(o,o+c+u);const p=[...s[0]][0].length,k=e.slice(0,i+s.index+p+o);if(Math.min(i,o)%2){const S=k.slice(1,-1);return{type:"em",raw:k,text:S,tokens:this.lexer.inlineTokens(S)}}const y=k.slice(2,-2);return{type:"strong",raw:k,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(this.rules.other.newLineCharGlobal," ");const s=this.rules.other.nonSpaceChar.test(r),a=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return s&&a&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let r,s;return t[2]==="@"?(r=t[1],s="mailto:"+r):(r=t[1],s=r),{type:"link",raw:t[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let t;if(t=this.rules.inline.url.exec(e)){let s,a;if(t[2]==="@")s=t[0],a="mailto:"+s;else{let i;do i=t[0],t[0]=((r=this.rules.inline._backpedal.exec(t[0]))==null?void 0:r[0])??"";while(i!==t[0]);s=t[0],t[1]==="www."?a="http://"+t[0]:a=t[0]}return{type:"link",raw:t[0],text:s,href:a,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const r=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:r}}}}class Be{constructor(e){N(this,"tokens");N(this,"options");N(this,"state");N(this,"tokenizer");N(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||zt,this.options.tokenizer=this.options.tokenizer||new or,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:we,block:nr.normal,inline:Ut.normal};this.options.pedantic?(t.block=nr.pedantic,t.inline=Ut.pedantic):this.options.gfm&&(t.block=nr.gfm,this.options.breaks?t.inline=Ut.breaks:t.inline=Ut.gfm),this.tokenizer.rules=t}static get rules(){return{block:nr,inline:Ut}}static lex(e,t){return new Be(t).lex(e)}static lexInline(e,t){return new Be(t).inlineTokens(e)}lex(e){e=e.replace(we.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],r=!1){var s,a,i;for(this.options.pedantic&&(e=e.replace(we.tabCharGlobal,"    ").replace(we.spaceLine,""));e;){let l;if((a=(s=this.options.extensions)==null?void 0:s.block)!=null&&a.some(c=>(l=c.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))continue;if(l=this.tokenizer.space(e)){e=e.substring(l.raw.length);const c=t.at(-1);l.raw.length===1&&c!==void 0?c.raw+=`
`:t.push(l);continue}if(l=this.tokenizer.code(e)){e=e.substring(l.raw.length);const c=t.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+l.raw,c.text+=`
`+l.text,this.inlineQueue.at(-1).src=c.text):t.push(l);continue}if(l=this.tokenizer.fences(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.heading(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.hr(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.blockquote(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.list(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.html(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.def(e)){e=e.substring(l.raw.length);const c=t.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+l.raw,c.text+=`
`+l.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.lheading(e)){e=e.substring(l.raw.length),t.push(l);continue}let o=e;if((i=this.options.extensions)!=null&&i.startBlock){let c=1/0;const u=e.slice(1);let _;this.options.extensions.startBlock.forEach(p=>{_=p.call({lexer:this},u),typeof _=="number"&&_>=0&&(c=Math.min(c,_))}),c<1/0&&c>=0&&(o=e.substring(0,c+1))}if(this.state.top&&(l=this.tokenizer.paragraph(o))){const c=t.at(-1);r&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=`
`+l.raw,c.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):t.push(l),r=o.length!==e.length,e=e.substring(l.raw.length);continue}if(l=this.tokenizer.text(e)){e=e.substring(l.raw.length);const c=t.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=`
`+l.raw,c.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):t.push(l);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var l,o,c;let r=e,s=null;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)u.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let a=!1,i="";for(;e;){a||(i=""),a=!1;let u;if((o=(l=this.options.extensions)==null?void 0:l.inline)!=null&&o.some(p=>(u=p.call({lexer:this},e,t))?(e=e.substring(u.raw.length),t.push(u),!0):!1))continue;if(u=this.tokenizer.escape(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.tag(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.link(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(u.raw.length);const p=t.at(-1);u.type==="text"&&(p==null?void 0:p.type)==="text"?(p.raw+=u.raw,p.text+=u.text):t.push(u);continue}if(u=this.tokenizer.emStrong(e,r,i)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.codespan(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.br(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.del(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.autolink(e)){e=e.substring(u.raw.length),t.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(e))){e=e.substring(u.raw.length),t.push(u);continue}let _=e;if((c=this.options.extensions)!=null&&c.startInline){let p=1/0;const k=e.slice(1);let y;this.options.extensions.startInline.forEach(S=>{y=S.call({lexer:this},k),typeof y=="number"&&y>=0&&(p=Math.min(p,y))}),p<1/0&&p>=0&&(_=e.substring(0,p+1))}if(u=this.tokenizer.inlineText(_)){e=e.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(i=u.raw.slice(-1)),a=!0;const p=t.at(-1);(p==null?void 0:p.type)==="text"?(p.raw+=u.raw,p.text+=u.text):t.push(u);continue}if(e){const p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return t}}class cr{constructor(e){N(this,"options");N(this,"parser");this.options=e||zt}space(e){return""}code({text:e,lang:t,escaped:r}){var i;const s=(i=(t||"").match(we.notSpaceStart))==null?void 0:i[0],a=e.replace(we.endingNewline,"")+`
`;return s?'<pre><code class="language-'+We(s)+'">'+(r?a:We(a,!0))+`</code></pre>
`:"<pre><code>"+(r?a:We(a,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,r=e.start;let s="";for(let l=0;l<e.items.length;l++){const o=e.items[l];s+=this.listitem(o)}const a=t?"ol":"ul",i=t&&r!==1?' start="'+r+'"':"";return"<"+a+i+`>
`+s+"</"+a+`>
`}listitem(e){var r;let t="";if(e.task){const s=this.checkbox({checked:!!e.checked});e.loose?((r=e.tokens[0])==null?void 0:r.type)==="paragraph"?(e.tokens[0].text=s+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=s+" "+We(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:s+" ",text:s+" ",escaped:!0}):t+=s+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",r="";for(let a=0;a<e.header.length;a++)r+=this.tablecell(e.header[a]);t+=this.tablerow({text:r});let s="";for(let a=0;a<e.rows.length;a++){const i=e.rows[a];r="";for(let l=0;l<i.length;l++)r+=this.tablecell(i[l]);s+=this.tablerow({text:r})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+s+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${We(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:r}){const s=this.parser.parseInline(r),a=en(e);if(a===null)return s;e=a;let i='<a href="'+e+'"';return t&&(i+=' title="'+We(t)+'"'),i+=">"+s+"</a>",i}image({href:e,title:t,text:r}){const s=en(e);if(s===null)return We(r);e=s;let a=`<img src="${e}" alt="${r}"`;return t&&(a+=` title="${We(t)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:We(e.text)}}class Er{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class De{constructor(e){N(this,"options");N(this,"renderer");N(this,"textRenderer");this.options=e||zt,this.options.renderer=this.options.renderer||new cr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Er}static parse(e,t){return new De(t).parse(e)}static parseInline(e,t){return new De(t).parseInline(e)}parse(e,t=!0){var s,a;let r="";for(let i=0;i<e.length;i++){const l=e[i];if((a=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&a[l.type]){const c=l,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){r+=u||"";continue}}const o=l;switch(o.type){case"space":{r+=this.renderer.space(o);continue}case"hr":{r+=this.renderer.hr(o);continue}case"heading":{r+=this.renderer.heading(o);continue}case"code":{r+=this.renderer.code(o);continue}case"table":{r+=this.renderer.table(o);continue}case"blockquote":{r+=this.renderer.blockquote(o);continue}case"list":{r+=this.renderer.list(o);continue}case"html":{r+=this.renderer.html(o);continue}case"paragraph":{r+=this.renderer.paragraph(o);continue}case"text":{let c=o,u=this.renderer.text(c);for(;i+1<e.length&&e[i+1].type==="text";)c=e[++i],u+=`
`+this.renderer.text(c);t?r+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):r+=u;continue}default:{const c='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}parseInline(e,t=this.renderer){var s,a;let r="";for(let i=0;i<e.length;i++){const l=e[i];if((a=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&a[l.type]){const c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){r+=c||"";continue}}const o=l;switch(o.type){case"escape":{r+=t.text(o);break}case"html":{r+=t.html(o);break}case"link":{r+=t.link(o);break}case"image":{r+=t.image(o);break}case"strong":{r+=t.strong(o);break}case"em":{r+=t.em(o);break}case"codespan":{r+=t.codespan(o);break}case"br":{r+=t.br(o);break}case"del":{r+=t.del(o);break}case"text":{r+=t.text(o);break}default:{const c='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}}class Wt{constructor(e){N(this,"options");N(this,"block");this.options=e||zt}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Be.lex:Be.lexInline}provideParser(){return this.block?De.parse:De.parseInline}}N(Wt,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class va{constructor(...e){N(this,"defaults",Sr());N(this,"options",this.setOptions);N(this,"parse",this.parseMarkdown(!0));N(this,"parseInline",this.parseMarkdown(!1));N(this,"Parser",De);N(this,"Renderer",cr);N(this,"TextRenderer",Er);N(this,"Lexer",Be);N(this,"Tokenizer",or);N(this,"Hooks",Wt);this.use(...e)}walkTokens(e,t){var s,a;let r=[];for(const i of e)switch(r=r.concat(t.call(this,i)),i.type){case"table":{const l=i;for(const o of l.header)r=r.concat(this.walkTokens(o.tokens,t));for(const o of l.rows)for(const c of o)r=r.concat(this.walkTokens(c.tokens,t));break}case"list":{const l=i;r=r.concat(this.walkTokens(l.items,t));break}default:{const l=i;(a=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&a[l.type]?this.defaults.extensions.childTokens[l.type].forEach(o=>{const c=l[o].flat(1/0);r=r.concat(this.walkTokens(c,t))}):l.tokens&&(r=r.concat(this.walkTokens(l.tokens,t)))}}return r}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const s={...r};if(s.async=this.defaults.async||s.async||!1,r.extensions&&(r.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const i=t.renderers[a.name];i?t.renderers[a.name]=function(...l){let o=a.renderer.apply(this,l);return o===!1&&(o=i.apply(this,l)),o}:t.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const i=t[a.level];i?i.unshift(a.tokenizer):t[a.level]=[a.tokenizer],a.start&&(a.level==="block"?t.startBlock?t.startBlock.push(a.start):t.startBlock=[a.start]:a.level==="inline"&&(t.startInline?t.startInline.push(a.start):t.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(t.childTokens[a.name]=a.childTokens)}),s.extensions=t),r.renderer){const a=this.defaults.renderer||new cr(this.defaults);for(const i in r.renderer){if(!(i in a))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;const l=i,o=r.renderer[l],c=a[l];a[l]=(...u)=>{let _=o.apply(a,u);return _===!1&&(_=c.apply(a,u)),_||""}}s.renderer=a}if(r.tokenizer){const a=this.defaults.tokenizer||new or(this.defaults);for(const i in r.tokenizer){if(!(i in a))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;const l=i,o=r.tokenizer[l],c=a[l];a[l]=(...u)=>{let _=o.apply(a,u);return _===!1&&(_=c.apply(a,u)),_}}s.tokenizer=a}if(r.hooks){const a=this.defaults.hooks||new Wt;for(const i in r.hooks){if(!(i in a))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;const l=i,o=r.hooks[l],c=a[l];Wt.passThroughHooks.has(i)?a[l]=u=>{if(this.defaults.async)return Promise.resolve(o.call(a,u)).then(p=>c.call(a,p));const _=o.call(a,u);return c.call(a,_)}:a[l]=(...u)=>{let _=o.apply(a,u);return _===!1&&(_=c.apply(a,u)),_}}s.hooks=a}if(r.walkTokens){const a=this.defaults.walkTokens,i=r.walkTokens;s.walkTokens=function(l){let o=[];return o.push(i.call(this,l)),a&&(o=o.concat(a.call(this,l))),o}}this.defaults={...this.defaults,...s}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Be.lex(e,t??this.defaults)}parser(e,t){return De.parse(e,t??this.defaults)}parseMarkdown(e){return(r,s)=>{const a={...s},i={...this.defaults,...a},l=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&a.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));i.hooks&&(i.hooks.options=i,i.hooks.block=e);const o=i.hooks?i.hooks.provideLexer():e?Be.lex:Be.lexInline,c=i.hooks?i.hooks.provideParser():e?De.parse:De.parseInline;if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(u=>o(u,i)).then(u=>i.hooks?i.hooks.processAllTokens(u):u).then(u=>i.walkTokens?Promise.all(this.walkTokens(u,i.walkTokens)).then(()=>u):u).then(u=>c(u,i)).then(u=>i.hooks?i.hooks.postprocess(u):u).catch(l);try{i.hooks&&(r=i.hooks.preprocess(r));let u=o(r,i);i.hooks&&(u=i.hooks.processAllTokens(u)),i.walkTokens&&this.walkTokens(u,i.walkTokens);let _=c(u,i);return i.hooks&&(_=i.hooks.postprocess(_)),_}catch(u){return l(u)}}}onError(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+We(r.message+"",!0)+"</pre>";return t?Promise.resolve(s):s}if(t)return Promise.reject(r);throw r}}}const St=new va;function D(d,e){return St.parse(d,e)}D.options=D.setOptions=function(d){return St.setOptions(d),D.defaults=St.defaults,dn(D.defaults),D};D.getDefaults=Sr;D.defaults=zt;D.use=function(...d){return St.use(...d),D.defaults=St.defaults,dn(D.defaults),D};D.walkTokens=function(d,e){return St.walkTokens(d,e)};D.parseInline=St.parseInline;D.Parser=De;D.parser=De.parse;D.Renderer=cr;D.TextRenderer=Er;D.Lexer=Be;D.lexer=Be.lex;D.Tokenizer=or;D.Hooks=Wt;D.parse=D;D.options;D.setOptions;D.use;D.walkTokens;D.parseInline;De.parse;Be.lex;function nn(d,e){const t=ht(e,["children","$$slots","$$events","$$legacy"]),r=ht(t,["class","checked"]);Lt(e,!1);let s=fe(e,"class",8,void 0),a=fe(e,"checked",12,void 0);It();var i=oe(()=>Gr("focus-visible:ring-ring focus-visible:ring-offset-background data-[state=checked]:bg-primary data-[state=unchecked]:bg-input peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s()));Ts(d,an({get checked(){return a()},set checked(l){a(l)},get class(){return n(i)}},()=>r,{$$events:{click(l){Zr.call(this,e,l)},keydown(l){Zr.call(this,e,l)}},children:(l,o)=>{var c=oe(()=>Gr("bg-background pointer-events-none block h-5 w-5 rounded-full shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0"));Cs(l,{get class(){return n(c)}})},$$slots:{default:!0},$$legacy:!0})),Bt()}var Le=typeof window<"u"?window:null,Ir=Le===null,Xt=Ir?void 0:Le.document,qe="addEventListener",je="removeEventListener",_r="getBoundingClientRect",Jt="_a",Ne="_b",st="_c",sr="horizontal",Fe=function(){return!1},ma=Ir?"calc":["","-webkit-","-moz-","-o-"].filter(function(d){var e=Xt.createElement("div");return e.style.cssText="width:"+d+"calc(9px)",!!e.style.length}).shift()+"calc",wn=function(d){return typeof d=="string"||d instanceof String},sn=function(d){if(wn(d)){var e=Xt.querySelector(d);if(!e)throw new Error("Selector "+d+" did not match a DOM element");return e}return d},me=function(d,e,t){var r=d[e];return r!==void 0?r:t},ar=function(d,e,t,r){if(e){if(r==="end")return 0;if(r==="center")return d/2}else if(t){if(r==="start")return 0;if(r==="center")return d/2}return d},ba=function(d,e){var t=Xt.createElement("div");return t.className="gutter gutter-"+e,t},xa=function(d,e,t){var r={};return wn(e)?r[d]=e:r[d]=ma+"("+e+"% - "+t+"px)",r},_a=function(d,e){var t;return t={},t[d]=e+"px",t},ka=function(d,e){if(e===void 0&&(e={}),Ir)return{};var t=d,r,s,a,i,l,o;Array.from&&(t=Array.from(t));var c=sn(t[0]),u=c.parentNode,_=getComputedStyle?getComputedStyle(u):null,p=_?_.flexDirection:null,k=me(e,"sizes")||t.map(function(){return 100/t.length}),y=me(e,"minSize",100),S=Array.isArray(y)?y:t.map(function(){return y}),P=me(e,"maxSize",1/0),ce=Array.isArray(P)?P:t.map(function(){return P}),de=me(e,"expandToMin",!1),Q=me(e,"gutterSize",10),J=me(e,"gutterAlign","center"),ye=me(e,"snapOffset",30),at=Array.isArray(ye)?ye:t.map(function(){return ye}),Ce=me(e,"dragInterval",1),he=me(e,"direction",sr),pt=me(e,"cursor",he===sr?"col-resize":"row-resize"),$e=me(e,"gutter",ba),K=me(e,"elementStyle",xa),it=me(e,"gutterStyle",_a);he===sr?(r="width",s="clientX",a="left",i="right",l="clientWidth"):he==="vertical"&&(r="height",s="clientY",a="top",i="bottom",l="clientHeight");function Se(w,h,x,$){var se=K(r,h,x,$);Object.keys(se).forEach(function(F){w.style[F]=se[F]})}function Xe(w,h,x){var $=it(r,h,x);Object.keys($).forEach(function(se){w.style[se]=$[se]})}function ft(){return o.map(function(w){return w.size})}function Kt(w){return"touches"in w?w.touches[0][s]:w[s]}function z(w){var h=o[this.a],x=o[this.b],$=h.size+x.size;h.size=w/this.size*$,x.size=$-w/this.size*$,Se(h.element,h.size,this[Ne],h.i),Se(x.element,x.size,this[st],x.i)}function te(w){var h,x=o[this.a],$=o[this.b];this.dragging&&(h=Kt(w)-this.start+(this[Ne]-this.dragOffset),Ce>1&&(h=Math.round(h/Ce)*Ce),h<=x.minSize+x.snapOffset+this[Ne]?h=x.minSize+this[Ne]:h>=this.size-($.minSize+$.snapOffset+this[st])&&(h=this.size-($.minSize+this[st])),h>=x.maxSize-x.snapOffset+this[Ne]?h=x.maxSize+this[Ne]:h<=this.size-($.maxSize-$.snapOffset+this[st])&&(h=this.size-($.maxSize+this[st])),z.call(this,h),me(e,"onDrag",Fe)(ft()))}function xe(){var w=o[this.a].element,h=o[this.b].element,x=w[_r](),$=h[_r]();this.size=x[r]+$[r]+this[Ne]+this[st],this.start=x[a],this.end=x[i]}function gt(w){if(!getComputedStyle)return null;var h=getComputedStyle(w);if(!h)return null;var x=w[l];return x===0?null:(he===sr?x-=parseFloat(h.paddingLeft)+parseFloat(h.paddingRight):x-=parseFloat(h.paddingTop)+parseFloat(h.paddingBottom),x)}function vt(w){var h=gt(u);if(h===null||S.reduce(function(F,re){return F+re},0)>h)return w;var x=0,$=[],se=w.map(function(F,re){var Re=h*F/100,Oe=ar(Q,re===0,re===w.length-1,J),lt=S[re]+Oe;return Re<lt?(x+=lt-Re,$.push(0),lt):($.push(Re-lt),Re)});return x===0?w:se.map(function(F,re){var Re=F;if(x>0&&$[re]-x>0){var Oe=Math.min(x,$[re]-x);x-=Oe,Re=F-Oe}return Re/h*100})}function Dt(){var w=this,h=o[w.a].element,x=o[w.b].element;w.dragging&&me(e,"onDragEnd",Fe)(ft()),w.dragging=!1,Le[je]("mouseup",w.stop),Le[je]("touchend",w.stop),Le[je]("touchcancel",w.stop),Le[je]("mousemove",w.move),Le[je]("touchmove",w.move),w.stop=null,w.move=null,h[je]("selectstart",Fe),h[je]("dragstart",Fe),x[je]("selectstart",Fe),x[je]("dragstart",Fe),h.style.userSelect="",h.style.webkitUserSelect="",h.style.MozUserSelect="",h.style.pointerEvents="",x.style.userSelect="",x.style.webkitUserSelect="",x.style.MozUserSelect="",x.style.pointerEvents="",w.gutter.style.cursor="",w.parent.style.cursor="",Xt.body.style.cursor=""}function Ot(w){if(!("button"in w&&w.button!==0)){var h=this,x=o[h.a].element,$=o[h.b].element;h.dragging||me(e,"onDragStart",Fe)(ft()),w.preventDefault(),h.dragging=!0,h.move=te.bind(h),h.stop=Dt.bind(h),Le[qe]("mouseup",h.stop),Le[qe]("touchend",h.stop),Le[qe]("touchcancel",h.stop),Le[qe]("mousemove",h.move),Le[qe]("touchmove",h.move),x[qe]("selectstart",Fe),x[qe]("dragstart",Fe),$[qe]("selectstart",Fe),$[qe]("dragstart",Fe),x.style.userSelect="none",x.style.webkitUserSelect="none",x.style.MozUserSelect="none",x.style.pointerEvents="none",$.style.userSelect="none",$.style.webkitUserSelect="none",$.style.MozUserSelect="none",$.style.pointerEvents="none",h.gutter.style.cursor=pt,h.parent.style.cursor=pt,Xt.body.style.cursor=pt,xe.call(h),h.dragOffset=Kt(w)-h.end}}k=vt(k);var ze=[];o=t.map(function(w,h){var x={element:sn(w),size:k[h],minSize:S[h],maxSize:ce[h],snapOffset:at[h],i:h},$;if(h>0&&($={a:h-1,b:h,dragging:!1,direction:he,parent:u},$[Ne]=ar(Q,h-1===0,!1,J),$[st]=ar(Q,!1,h===t.length-1,J),p==="row-reverse"||p==="column-reverse")){var se=$.a;$.a=$.b,$.b=se}if(h>0){var F=$e(h,he,x.element);Xe(F,Q,h),$[Jt]=Ot.bind($),F[qe]("mousedown",$[Jt]),F[qe]("touchstart",$[Jt]),u.insertBefore(F,x.element),$.gutter=F}return Se(x.element,x.size,ar(Q,h===0,h===t.length-1,J),h),h>0&&ze.push($),x});function Mt(w){var h=w.i===ze.length,x=h?ze[w.i-1]:ze[w.i];xe.call(x);var $=h?x.size-w.minSize-x[st]:w.minSize+x[Ne];z.call(x,$)}o.forEach(function(w){var h=w.element[_r]()[r];h<w.minSize&&(de?Mt(w):w.minSize=h)});function fr(w){var h=vt(w);h.forEach(function(x,$){if($>0){var se=ze[$-1],F=o[se.a],re=o[se.b];F.size=h[$-1],re.size=x,Se(F.element,F.size,se[Ne],F.i),Se(re.element,re.size,se[st],re.i)}})}function qt(w,h){ze.forEach(function(x){if(h!==!0?x.parent.removeChild(x.gutter):(x.gutter[je]("mousedown",x[Jt]),x.gutter[je]("touchstart",x[Jt])),w!==!0){var $=K(r,x.a.size,x[Ne]);Object.keys($).forEach(function(se){o[x.a].element.style[se]="",o[x.b].element.style[se]=""})}})}return{setSizes:fr,getSizes:ft,collapse:function(h){Mt(o[h])},destroy:qt,parent:u,pairs:ze}},wa=T('<div class="mt-4"><!></div>'),ya=T('<div class="grid grid-cols-2 md:grid-cols-4 gap-4"><div class="space-y-1"><div class="text-sm text-gray-500">Status</div> <div class="font-semibold"><!></div></div> <div class="space-y-1"><div class="text-sm text-gray-500">Total Tasks</div> <div class="font-semibold"> </div></div> <div class="space-y-1"><div class="text-sm text-gray-500">Model</div> <div class="font-semibold"> </div></div> <div class="space-y-1"><!> <!></div></div> <!> <div class="flex gap-8 items-end mt-4"><!></div>',1),$a=T("<!> <!> <!> <!> <!> <!> <!> <!>",1),Sa=T("<div></div>"),za=T("<div></div>"),Ra=T("<div></div>"),Ta=T('<div class="w-full bg-gray-200 rounded-sm h-4 dark:bg-gray-700 overflow-hidden flex"><!></div> <div class="text-center text-xs font-medium"> </div>',1),Pa=T("<!> <!> <!> <!> <!> <!> <!> <!>",1),Ca=T('<div><h5 class="text-sm font-semibold mb-2">Input</h5> <div class="bg-white p-4 rounded border border-gray-200 whitespace-pre-wrap font-mono text-xs"> </div></div>'),Aa=T('<div class="markdown-content"><!></div>'),Ea=T('<div class="whitespace-pre-wrap font-mono text-xs"> </div>'),Ia=T('<div><div class="flex justify-between items-center mb-1"><h5 class="text-sm font-semibold">Output</h5> <div class="flex items-center gap-4"><div class="flex items-center space-x-2"><!> <!></div> <!></div></div> <div class="bg-white p-4 rounded border border-gray-200"><!></div></div>'),La=T('<div><h5 class="text-sm font-semibold mb-2 text-red-600">Error</h5> <div class="bg-red-50 p-4 rounded border border-red-200 whitespace-pre-wrap font-mono text-xs text-red-700"> </div></div>'),Ba=T('<button class="w-full px-4 py-2 border-t border-gray-200 text-left text-sm text-gray-600 cursor-pointer hover:bg-gray-50 font-sans"> </button>'),Da=T('<div><div class="text-sm font-medium text-gray-600 mb-1"> </div> <div class="bg-white rounded border border-gray-200 text-xs font-mono"><div class="p-3 whitespace-pre-wrap"> </div> <!></div></div>'),Oa=T('<div><h5 class="text-sm font-semibold mb-2">Details</h5> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3"></div></div>'),Ma=T('<div class="markdown-content"><!></div>'),qa=T('<div class="whitespace-pre-wrap font-mono text-xs"> </div>'),ja=T('<div><h5 class="text-sm font-semibold mb-2"> </h5> <details class="bg-white rounded border border-gray-200"><summary class="px-4 py-2 cursor-pointer hover:bg-gray-50 flex justify-between items-center"><span> </span> <div class="flex items-center space-x-2"><!> <!></div></summary> <div class="p-4"><!></div></details></div>'),Na=T('<tr class="hover:bg-gray-50"><td class="px-4 py-2"><div class="text-xs text-gray-500"> </div> <div class="text-sm"> </div></td><td class="px-4 py-2"> </td></tr>'),Fa=T('<div><h5 class="text-sm font-semibold mb-2">Logs</h5> <details class="bg-white rounded border border-gray-200"><summary class="px-4 py-2 cursor-pointer hover:bg-gray-50">View Logs</summary> <table class="w-full text-sm"><thead class="bg-gray-50 border-y border-gray-200"><tr><th class="px-4 py-2 text-left w-32">Info</th><th class="px-4 py-2 text-left">Message</th></tr></thead><tbody class="divide-y divide-gray-100"></tbody></table></details></div>'),Za=T("<!> Re-run",1),Ga=T('<div class="flex gap-2"><!> <!> <!></div>'),Ha=T('<div><div class="flex items-center justify-between"><h4 class="font-semibold text-lg">Evaluation Results</h4> <!></div> <div class="mt-3"><!></div></div>'),Ua=T('<div class="p-3"><!></div>'),Qa=T('<div class="mb-6 border rounded-lg overflow-hidden"><div class="flex items-center justify-between bg-gray-100 p-3 border-b"><h5 class="text-sm font-medium capitalize"> </h5> <div class="flex items-center"><div><!></div></div></div> <!></div>'),Ja=T('<div><h4 class="font-semibold text-lg mb-4">Evaluation Results</h4> <!></div>'),Va=T('<div><div class="text-sm font-medium text-gray-600 mb-1"> </div> <div class="bg-white p-3 rounded border border-gray-200 whitespace-pre-wrap font-mono text-xs"> </div></div>'),Wa=T('<div><h5 class="font-semibold mb-2">Details</h5> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3"></div></div>'),Xa=T('<div class="p-4 split-container svelte-sju1bt"><div class="split-pane space-y-4 px-4 svelte-sju1bt"><div class="flex items-center mb-2"><h4 class="font-semibold text-lg">Task Details <span class="text-sm font-normal text-gray-800 ml-2"><!></span></h4></div> <!> <!> <!> <!> <!> <!></div> <div class="split-pane space-y-4 px-4 svelte-sju1bt"><div class="flex items-center mb-2"><h4 class="font-semibold text-lg">Evaluation <span class="text-sm font-normal text-gray-800 ml-2"><!></span></h4> <div class="flex items-center gap-4 ml-auto"><div class="text-sm text-gray-800"> </div> <div> </div> <!></div></div> <!> <!></div></div>'),Ya=T("<!> <!>",1),Ka=T("<!> <!>",1),ei=T('<div class="space-y-6"><!> <!></div>'),ti=T('<div class="text-center text-gray-500">No run found</div>'),ri=T('<div class="container mx-auto p-4"><!> <!></div>');function wi(d,e){Lt(e,!1);const t=ur(),r=()=>dt(ls,"$selectedRunId",t),s=be(),a=be();let i=be(new Map);const l=400;let o=null,c=be(null),u=be(!0),_=be(null),p=be(null),k=be(!1),y=be(!1),S=new Map,P=new Map;async function ce(z){W(u,!0),W(_,null);try{W(c,await is(z))}catch(te){W(_,te instanceof Error?te.message:"Failed to load run details"),console.error(te)}finally{W(u,!1)}}let de=be(""),Q=be(""),J=be("");async function ye(){if(!n(p))return;await tr();const z=document.querySelector(`[data-task-id="${n(p)}"]`);z&&z.scrollIntoView({behavior:"smooth",block:"start"})}async function at(){if(!n(s).length)return;const z=n(p)?n(s).findIndex(xe=>xe.id===n(p)):-1;n(p)&&Se(n(p));const te=z<n(s).length-1?z+1:0;W(p,n(s)[te].id),await ye()}async function Ce(){if(!n(s).length)return;const z=n(p)?n(s).findIndex(xe=>xe.id===n(p)):0;n(p)&&Se(n(p));const te=z>0?z-1:n(s).length-1;W(p,n(s)[te].id),await ye()}function he(z){z.target instanceof HTMLInputElement||z.target instanceof HTMLTextAreaElement||(z.key==="j"?at():z.key==="k"&&Ce())}async function pt(){}async function $e(z){try{await vs(n(c).project.id,z.challenge_id,pt),Qr("/")}catch(te){console.error("Error rerunning task:",te)}}function K(z,te){const xe=xs({start:new Date(z),end:new Date(te)});return xe.minutes||xe.seconds?_s(xe,{format:["minutes","seconds"]}):"<1 second"}function it(z){P.has(z)&&(P.get(z).destroy(),P.delete(z)),tr().then(()=>{const te=document.getElementById(`task-details-${z}`),xe=document.getElementById(`eval-details-${z}`);if(!te||!xe)return;const gt=S.get(z)||[50,50],vt=ka([te,xe],{sizes:gt,minSize:200,gutterSize:10,snapOffset:30,dragInterval:1,onDragEnd(Dt){S.set(z,Dt)}});P.set(z,vt)})}function Se(z){P.has(z)&&(P.get(z).destroy(),P.delete(z))}ke(()=>r(),()=>{r()&&ce(r())}),ke(()=>(n(c),n(de),n(Q)),()=>{var z;W(s,cs(((z=n(c))==null?void 0:z.tasks)||[],n(de),n(Q)))}),ke(()=>n(c),()=>{var z;W(a,us(((z=n(c))==null?void 0:z.tasks)||[]))}),ke(()=>(n(p),tr),()=>{n(p)&&tr().then(()=>{n(p)&&it(n(p))})}),ke(()=>n(p),()=>{if(n(p)===null)for(const[z,te]of P.entries())Se(z)}),dr(),It();var Xe=ri();ir("keydown",Nn,he);var ft=g(Xe);A(ft,()=>n(c),z=>{Bs(z,{get runDetails(){return n(c)},showExportButton:!0})});var Kt=b(ft,2);A(Kt,()=>n(u),z=>{ps(z,{message:"Loading run details..."})},z=>{var te=_e(),xe=X(te);A(xe,()=>n(_),gt=>{Hr(gt,{get errorMessage(){return n(_)},onRetry:()=>ce(o)})},gt=>{var vt=_e(),Dt=X(vt);A(Dt,()=>n(c),Ot=>{var ze=ei(),Mt=g(ze);Ur(Mt,{class:"pb-4",children:(qt,w)=>{Qn(qt,{children:(h,x)=>{Jn(h,{children:($,se)=>{var F=ya(),re=X(F),Re=g(re),Oe=b(g(Re),2),lt=g(Oe),Rt=oe(()=>{var E;return((E=n(c).details)==null?void 0:E.status)||n(c).status});Jr(lt,{get status(){return n(Rt)}}),f(Oe),f(Re);var Tt=b(Re,2),mt=b(g(Tt),2),m=g(mt,!0);f(mt),f(Tt);var Ye=b(Tt,2),ot=b(g(Ye),2),bt=g(ot,!0);f(ot),f(Ye);var ct=b(Ye,2),xt=g(ct);br(xt,{for:"search",children:(E,Ge)=>{le();var He=U("Search");v(E,He)},$$slots:{default:!0}});var Pt=b(xt,2);ts(Pt,{id:"search",placeholder:"Search tasks...",get value(){return n(Q)},set value(E){W(Q,E)},$$legacy:!0}),f(ct),f(re);var Ze=b(re,2);A(Ze,()=>{var E;return(E=n(c).details)==null?void 0:E.error},E=>{var Ge=wa(),He=g(Ge);Hr(He,{get errorMessage(){return n(c).details.error}}),f(Ge),v(E,Ge)});var ee=b(Ze,2),Ae=g(ee);A(Ae,()=>n(c).tasks.length>=5,E=>{os(E,{get statusFilter(){return n(de)},set statusFilter(Ge){W(de,Ge)},get statusCounts(){return n(a)},get totalCount(){return n(c).tasks.length},$$legacy:!0})}),f(ee),L(()=>{O(m,n(c).tasks.length),O(bt,n(c).details.model||"N/A")}),v($,F)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var fr=b(Mt,2);Ur(fr,{children:(qt,w)=>{rs(qt,{children:(h,x)=>{ns(h,{class:"-mt-4",children:($,se)=>{var F=Ka(),re=X(F);ss(re,{children:(Oe,lt)=>{xr(Oe,{children:(Rt,Tt)=>{var mt=$a(),m=X(mt);ut(m,{});var Ye=b(m,2);ut(Ye,{children:(ee,Ae)=>{le();var E=U("Task ID");v(ee,E)},$$slots:{default:!0}});var ot=b(Ye,2);ut(ot,{children:(ee,Ae)=>{le();var E=U("Started");v(ee,E)},$$slots:{default:!0}});var bt=b(ot,2);ut(bt,{children:(ee,Ae)=>{le();var E=U("Duration");v(ee,E)},$$slots:{default:!0}});var ct=b(bt,2);ut(ct,{children:(ee,Ae)=>{le();var E=U("Model");v(ee,E)},$$slots:{default:!0}});var xt=b(ct,2);ut(xt,{children:(ee,Ae)=>{le();var E=U("Input");v(ee,E)},$$slots:{default:!0}});var Pt=b(xt,2);ut(Pt,{children:(ee,Ae)=>{le();var E=U("Status");v(ee,E)},$$slots:{default:!0}});var Ze=b(Pt,2);ut(Ze,{children:(ee,Ae)=>{le();var E=U("Score");v(ee,E)},$$slots:{default:!0}}),v(Rt,mt)},$$slots:{default:!0}})},$$slots:{default:!0}});var Re=b(re,2);as(Re,{children:(Oe,lt)=>{var Rt=_e(),Tt=X(Rt);wt(Tt,1,()=>n(s),yt,(mt,m)=>{var Ye=Ya();const ot=oe(()=>n(p)===n(m).id),bt=oe(()=>{const{isPassed:Ze,statusClass:ee}=hs(n(m));return{isPassed:Ze,statusClass:ee}});var ct=X(Ye),xt=oe(()=>`cursor-pointer ${n(bt).statusClass}`);xr(ct,{get"data-task-id"(){return n(m).id},get class(){return n(xt)},$$events:{click:()=>{n(p)===n(m).id?(Se(n(m).id),W(p,null)):(n(p)&&Se(n(p)),W(p,n(m).id),ye())}},children:(Ze,ee)=>{var Ae=Pa(),E=X(Ae);nt(E,{class:"w-4",children:(ue,Ue)=>{$t(ue,{variant:"ghost",size:"sm",class:"h-4 w-4 p-0",children:(ae,Ee)=>{var Qe=oe(()=>`h-4 w-4 transition-transform duration-200 text-gray-400
                                                ${(n(ot)?"rotate-90":"")??""}`);fs(ae,{get class(){return n(Qe)}})},$$slots:{default:!0}})},$$slots:{default:!0}});var Ge=b(E,2);nt(Ge,{class:"font-medium font-mono",children:(ue,Ue)=>{le();var ae=U();L(()=>O(ae,n(m).challenge_id||n(m).id.slice(-8))),v(ue,ae)},$$slots:{default:!0}});var He=b(Ge,2);nt(He,{children:(ue,Ue)=>{on(ue,{get date(){return n(m).created_at}})},$$slots:{default:!0}});var _t=b(He,2);nt(_t,{children:(ue,Ue)=>{var ae=_e(),Ee=X(ae);A(Ee,()=>n(m).finished_at,Qe=>{var Ke=U();L(()=>O(Ke,K(n(m).created_at,n(m).finished_at))),v(Qe,Ke)},Qe=>{var Ke=U("-");v(Qe,Ke)}),v(ue,ae)},$$slots:{default:!0}});var Ct=b(_t,2);nt(Ct,{children:(ue,Ue)=>{le();var ae=U();L(()=>{var Ee;return O(ae,((Ee=n(m).task_details)==null?void 0:Ee.model)||"-")}),v(ue,ae)},$$slots:{default:!0}});var jt=b(Ct,2);nt(jt,{class:"max-w-xs",children:(ue,Ue)=>{le();var ae=U();L(()=>O(ae,ds(n(m).task_input))),v(ue,ae)},$$slots:{default:!0}});var Nt=b(jt,2);nt(Nt,{children:(ue,Ue)=>{Jr(ue,{get status(){return n(m).status}})},$$slots:{default:!0}});var gr=b(Nt,2);nt(gr,{children:(ue,Ue)=>{var ae=Ta(),Ee=X(ae),Qe=g(Ee);A(Qe,()=>{var Je;return(Je=n(m).eval_details)==null?void 0:Je.evaluations},Je=>{var et=_e(),At=X(et);wt(At,1,()=>n(m).eval_details.evaluations,yt,(Ve,Ie)=>{var Me=Sa();const Zt=oe(()=>`width: ${(1/n(m).eval_details.evaluations.length*100).toFixed(0)??""}%`);L(()=>{rr(Me,`h-4 min-w-[5px] ${(n(Ie).score>=1?"bg-green-600":n(Ie).score>0?"bg-yellow-400":"bg-red-600")??""}`),Ht(Me,"style",n(Zt))}),v(Ve,Me)}),v(Je,et)},Je=>{var et=_e(),At=X(et);A(At,()=>{var Ve;return(Ve=n(m).eval_details)==null?void 0:Ve.metrics},Ve=>{var Ie=_e(),Me=X(Ie);wt(Me,1,()=>n(m).eval_details.metrics,yt,(Zt,kt)=>{var Gt=za();const vr=oe(()=>`width: ${(1/n(m).eval_details.metrics.length*100).toFixed(0)??""}%`);L(()=>{rr(Gt,`h-4 min-w-[5px] ${(n(kt).score>=1?"bg-green-600":n(kt).score>0?"bg-yellow-400":"bg-red-600")??""}`),Ht(Gt,"style",n(vr))}),v(Zt,Gt)}),v(Ve,Ie)},Ve=>{var Ie=Ra();const Me=oe(()=>`width: ${(n(m).eval_score*100).toFixed(0)??""}%`);L(()=>{rr(Ie,`h-4 min-w-[5px] ${(n(bt).isPassed?"bg-green-600":"bg-red-600")??""}`),Ht(Ie,"style",n(Me))}),v(Ve,Ie)},!0),v(Je,et)}),f(Ee);var Ke=b(Ee,2),Ft=g(Ke);L(()=>O(Ft,`${(n(m).eval_score*100).toFixed(0)??""}%`)),f(Ke),v(ue,ae)},$$slots:{default:!0}}),v(Ze,Ae)},$$slots:{default:!0}});var Pt=b(ct,2);A(Pt,()=>n(ot),Ze=>{xr(Ze,{class:"bg-gray-50 hover:bg-gray-50",children:(ee,Ae)=>{nt(ee,{colspan:8,class:"border-t border-gray-100 p-0",children:(E,Ge)=>{var He=Xa(),_t=g(He),Ct=g(_t),jt=g(Ct),Nt=b(g(jt)),gr=g(Nt);A(gr,()=>n(m).finished_at,B=>{var R=U();L(()=>O(R,`(time: ${K(n(m).created_at,n(m).finished_at)??""})`)),v(B,R)},B=>{var R=U("-");v(B,R)}),f(Nt),f(jt),f(Ct);var ue=b(Ct,2);A(ue,()=>n(m).task_input,B=>{var R=Ca(),C=b(g(R),2),Z=g(C,!0);L(()=>O(Z,typeof n(m).task_input=="object"&&"str"in n(m).task_input?n(m).task_input.str:JSON.stringify(n(m).task_input,null,2))),f(C),f(R),v(B,R)});var Ue=b(ue,2);A(Ue,()=>n(m).task_output,B=>{var R=Ia(),C=g(R),Z=b(g(C),2),G=g(Z),H=g(G);nn(H,{id:"output-markdown",get checked(){return n(k)},set checked(I){W(k,I)},$$legacy:!0});var q=b(H,2);br(q,{for:"output-markdown",class:"text-sm",children:(I,j)=>{le();var V=U("Markdown");v(I,V)},$$slots:{default:!0}}),f(G);var Y=b(G,2);$t(Y,{variant:"outline",size:"sm",class:"text-sm bg-gray-200 hover:bg-gray-300 dark:hover:bg-gray-700 transition-colors",$$events:{click:()=>{const I=n(c).project.id,j=n(m).challenge_id;Qr(`/compare#${I}/c:${j}`)}},children:(I,j)=>{le();var V=U("Cross-Compare");v(I,V)},$$slots:{default:!0}}),f(Z),f(C);var ne=b(C,2),ie=g(ne);A(ie,()=>n(k),I=>{var j=Aa(),V=g(j);Wr(V,()=>D(typeof n(m).task_output=="object"&&"str"in n(m).task_output?n(m).task_output.str:JSON.stringify(n(m).task_output,null,2))),f(j),v(I,j)},I=>{var j=Ea(),V=g(j,!0);L(()=>O(V,typeof n(m).task_output=="object"&&"str"in n(m).task_output?n(m).task_output.str:JSON.stringify(n(m).task_output,null,2))),f(j),v(I,j)}),f(ne),f(R),v(B,R)});var ae=b(Ue,2);A(ae,()=>n(m).error,B=>{var R=La(),C=b(g(R),2),Z=g(C,!0);f(C),f(R),L(()=>O(Z,n(m).error)),v(B,R)});var Ee=b(ae,2);A(Ee,()=>n(m).task_details,B=>{var R=Oa(),C=b(g(R),2);wt(C,5,()=>Object.entries(n(m).task_details),yt,(Z,G)=>{let H=()=>n(G)[0],q=()=>n(G)[1];var Y=_e(),ne=X(Y);A(ne,()=>!["prompt","reasoning"].includes(H()),ie=>{var I=Da();const j=oe(()=>`${n(m).id}-${H()}`),V=oe(()=>n(i).get(n(j))??!1),pe=oe(()=>typeof q()=="string"?q():typeof q()=="object"&&q()!==null?JSON.stringify(q(),null,2):String(q())),ge=oe(()=>n(pe).length>l),tt=oe(()=>n(ge)&&!n(V)?n(pe).slice(0,l)+"...":n(pe));var ve=g(I),Te=g(ve,!0);f(ve);var Pe=b(ve,2),rt=g(Pe),$n=g(rt,!0);f(rt);var Sn=b(rt,2);A(Sn,()=>n(ge),zn=>{var er=Ba(),Rn=g(er,!0);f(er),L(()=>O(Rn,n(V)?"Show less":"Show more")),ir("click",er,()=>{n(i).set(n(j),!n(V)),W(i,n(i))}),v(zn,er)}),f(Pe),f(I),L(()=>{O(Te,H()),O($n,n(tt))}),v(ie,I)}),v(Z,Y)}),f(C),f(R),v(B,R)});var Qe=b(Ee,2);A(Qe,()=>n(m).task_details,B=>{var R=_e();const C=oe(()=>{var G,H;return(G=n(m).task_details)!=null&&G.prompt?"prompt":(H=n(m).task_details)!=null&&H.reasoning?"reasoning":null});var Z=X(R);A(Z,()=>n(C),G=>{var H=ja(),q=g(H),Y=g(q,!0);f(q);var ne=b(q,2),ie=g(ne),I=g(ie),j=g(I);f(I);var V=b(I,2),pe=g(V);nn(pe,{id:"prompt-markdown",get checked(){return n(y)},set checked(Te){W(y,Te)},$$legacy:!0});var ge=b(pe,2);br(ge,{for:"prompt-markdown",class:"text-sm",children:(Te,Pe)=>{le();var rt=U("Markdown");v(Te,rt)},$$slots:{default:!0}}),f(V),f(ie);var tt=b(ie,2),ve=g(tt);A(ve,()=>n(y),Te=>{var Pe=Ma(),rt=g(Pe);Wr(rt,()=>D(typeof n(m).task_details[n(C)]=="string"?n(m).task_details[n(C)]:JSON.stringify(n(m).task_details[n(C)],null,2))),f(Pe),v(Te,Pe)},Te=>{var Pe=qa(),rt=g(Pe,!0);L(()=>O(rt,typeof n(m).task_details[n(C)]=="string"?n(m).task_details[n(C)]:JSON.stringify(n(m).task_details[n(C)],null,2))),f(Pe),v(Te,Pe)}),f(tt),f(ne),f(H),L(()=>{O(Y,n(C)),O(j,`View ${n(C)??""}`)}),v(G,H)}),v(B,R)});var Ke=b(Qe,2);A(Ke,()=>n(m).task_logs,B=>{var R=Fa(),C=b(g(R),2),Z=b(g(C),2),G=b(g(Z));wt(G,5,()=>n(m).task_logs.logs,yt,(H,q)=>{var Y=Na(),ne=g(Y),ie=g(ne),I=g(ie,!0);f(ie);var j=b(ie,2),V=g(j,!0);L(()=>O(V,new Date(n(q).timestamp*1e3).toLocaleString())),f(j),f(ne);var pe=b(ne),ge=g(pe,!0);f(pe),f(Y),L(()=>{O(I,n(q).level),O(ge,n(q).message)}),v(H,Y)}),f(G),f(Z),f(C),f(R),v(B,R)}),f(_t);var Ft=b(_t,2),Je=g(Ft),et=g(Je),At=b(g(et)),Ve=g(At);A(Ve,()=>n(m).evaluated_at,B=>{var R=U();L(()=>O(R,`(time: ${K(n(m).executed_at,n(m).evaluated_at)??""})`)),v(B,R)},B=>{var R=U("-");v(B,R)}),f(At),f(et);var Ie=b(et,2),Me=g(Ie),Zt=g(Me);L(()=>O(Zt,`Score: ${(n(m).eval_score*100).toFixed(0)??""}%`)),f(Me);var kt=b(Me,2),Gt=g(kt,!0);f(kt);var vr=b(kt,2);$t(vr,{variant:"primary",size:"sm",class:"flex items-center gap-2 text-sm transition-colors",$$events:{click:()=>$e(n(m))},children:(B,R)=>{var C=Za(),Z=X(C);gs(Z,{class:"h-3 w-3"}),le(),v(B,C)},$$slots:{default:!0}}),f(Ie),f(Je);var Lr=b(Je,2);A(Lr,()=>{var B;return(B=n(m).eval_details)==null?void 0:B.evaluations},B=>{var R=Ha(),C=g(R),Z=b(g(C),2);A(Z,()=>n(m).eval_details.evaluations.some(q=>q.score>=1)&&n(m).eval_details.evaluations.some(q=>q.score<1)||n(J)!="",q=>{var Y=Ga(),ne=g(Y),ie=oe(()=>n(J)===""?"bg-gray-100 border-gray-200":"");$t(ne,{variant:"outline",size:"sm",get class(){return n(ie)},$$events:{click:()=>W(J,"")},children:(ge,tt)=>{le();var ve=U("All");v(ge,ve)},$$slots:{default:!0}});var I=b(ne,2),j=oe(()=>n(J)==="passed"?"bg-green-50 border-green-200 text-green-700":"");$t(I,{variant:"outline",size:"sm",get class(){return n(j)},$$events:{click:()=>W(J,"passed")},children:(ge,tt)=>{le();var ve=U("Passed");v(ge,ve)},$$slots:{default:!0}});var V=b(I,2),pe=oe(()=>n(J)==="failed"?"bg-red-50 border-red-200 text-red-700":"");$t(V,{variant:"outline",size:"sm",get class(){return n(pe)},$$events:{click:()=>W(J,"failed")},children:(ge,tt)=>{le();var ve=U("Failed");v(ge,ve)},$$slots:{default:!0}}),f(Y),v(q,Y)}),f(C);var G=b(C,2),H=g(G);Vr(H,{get evaluations(){return n(m).eval_details.evaluations},get evalSpec(){return n(m).eval_spec},get filter(){return n(J)}}),f(G),f(R),v(B,R)},B=>{var R=_e(),C=X(R);A(C,()=>{var Z;return(Z=n(m).eval_details)==null?void 0:Z.metrics},Z=>{var G=Ja(),H=b(g(G),2);wt(H,1,()=>n(m).eval_details.metrics,yt,(q,Y)=>{var ne=Qa(),ie=g(ne),I=g(ie),j=g(I,!0);f(I);var V=b(I,2),pe=g(V),ge=g(pe);bs(ge,{get score(){return n(Y).score},showMinScore:!1}),f(pe),f(V),f(ie);var tt=b(ie,2);A(tt,()=>{var ve;return(ve=n(Y).details)==null?void 0:ve.evaluations},ve=>{var Te=Ua(),Pe=g(Te);Vr(Pe,{get evaluations(){return n(Y).details.evaluations},get evalSpec(){return n(m).eval_spec},get filter(){return n(J)}}),f(Te),v(ve,Te)}),f(ne),L(()=>O(j,n(Y).metric_type)),v(q,ne)}),f(G),v(Z,G)},null,!0),v(B,R)});var yn=b(Lr,2);A(yn,()=>n(m).eval_details,B=>{var R=Wa(),C=b(g(R),2);wt(C,5,()=>Object.entries(n(m).eval_details),yt,(Z,G)=>{let H=()=>n(G)[0],q=()=>n(G)[1];var Y=_e(),ne=X(Y);A(ne,()=>H()!=="evaluations"&&H()!=="metrics"&&H()!=="overall_score",ie=>{var I=Va(),j=g(I),V=g(j,!0);f(j);var pe=b(j,2),ge=g(pe,!0);L(()=>O(ge,typeof q()=="string"?q():JSON.stringify(q(),null,2))),f(pe),f(I),L(()=>O(V,H())),v(ie,I)}),v(Z,Y)}),f(C),f(R),v(B,R)}),f(Ft),f(He),L(()=>{Ht(_t,"id",`task-details-${n(m).id}`),Ht(Ft,"id",`eval-details-${n(m).id}`),rr(kt,`${`px-4 py-1 rounded-lg font-semibold
                                                                ${n(m).eval_passed?"status-completed":"status-failed"}`??""} svelte-sju1bt`),O(Gt,n(m).eval_passed?"PASSED":"FAILED")}),v(E,He)},$$slots:{default:!0}})},$$slots:{default:!0}})}),v(mt,Ye)}),v(Oe,Rt)},$$slots:{default:!0}}),v($,F)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),f(ze),v(Ot,ze)},Ot=>{var ze=ti();v(Ot,ze)},!0),v(gt,vt)},!0),v(z,te)}),f(Xe),v(d,Xe),Bt()}export{wi as component};
