import{a as w,t as M,b as P}from"./disclose-version.KQatKnwM.js";import{i as B}from"./legacy.D--LHvfs.js";import{p as D,l as G,b as H,c as a,t as b,r,s as z,a as I,d as J,q as k,g as t,m as K,u as E}from"./index-client.BSaxjCgd.js";import{e as R,i as T}from"./index.DsSMAhLM.js";import{s as j}from"./class.Beg04Fd9.js";import{p as f,i as V}from"./props.CH69RCtx.js";function A(s,e=!1){const u=e?" print:bg-green-50":"";return s>=1?{color:`status-completed status-completed-border${u}`,border:"status-completed-border",text:"text-green-600"}:s>=.5?{color:`status-default status-default-border${e?" print:bg-yellow-50":""}`,border:"status-default-border",text:"text-yellow-500"}:{color:`status-failed status-failed-border${e?" print:bg-red-50":""}`,border:"status-failed-border",text:"text-red-600"}}function ne(s,e=500){return s.length<=e?s:s.slice(0,e)+"..."}var W=M('<div class="mt-1 -mr-2.5"><span> </span></div>'),X=M('<div class="flex flex-col" style="min-height: 40px"><div class="h-9"><div><span class="text-xs font-medium leading-none"> </span></div></div> <!></div>');function Y(s,e){D(e,!1);const u=K();let v=f(e,"score",8),m=f(e,"minScore",8,void 0),S=f(e,"includePrintStyles",8,!1),_=f(e,"showMinScore",8,!0);G(()=>(k(m()),k(v())),()=>{J(u,m()?v()/m():v())}),H(),B();var x=X(),g=a(x),p=a(g);const i=E(()=>`flex-none flex items-center justify-center w-9 h-9 rounded-full border
            ${A(t(u),S()).color??""}`);var n=a(p),d=a(n);b(()=>P(d,`${(v()*100).toFixed(0)??""}%`)),r(n),r(p),r(g);var l=z(g,2);V(l,()=>m()&&_(),c=>{var o=W(),y=a(o);const q=E(()=>`text-[10px] font-medium ${A(v(),S()).text??""}`);var h=a(y);b(()=>P(h,`min: ${(m()*100).toFixed(0)??""}%`)),r(y),r(o),b(()=>j(y,t(q))),w(c,o)}),r(x),b(()=>j(p,t(i))),w(s,x),I()}var Z=M("<div> </div>"),L=M('<div><div class="flex gap-3 items-start"><div class="flex-none pt-[2px]"><!></div> <div></div></div> <div class="mt-1 text-sm text-gray-600"> </div></div>'),$=M('<div class="space-y-5 divide-y divide-gray-100"></div>');function oe(s,e){D(e,!1);const u=K();let v=f(e,"evaluations",8),m=f(e,"evalSpec",8),S=f(e,"includePrintStyles",8,!1),_=f(e,"filter",8,"");function x(i){var n,d,l;try{const c=(l=(d=(n=m())==null?void 0:n.checklist)==null?void 0:d.find(o=>typeof o=="object"&&o.text===i))==null?void 0:l.min_score;return c||1}catch{return 1}}function g(i){return i.score>=x(i.criterion)}G(()=>(k(v()),k(_())),()=>{J(u,v().filter(i=>_()===""||_()==="passed"&&g(i)||_()==="failed"&&!g(i)))}),H(),B();var p=$();R(p,5,()=>t(u),T,(i,n)=>{var d=L();const l=E(()=>x(t(n).criterion));var c=a(d),o=a(c),y=a(o),q=E(()=>t(l)!==void 0&&t(l)<1);Y(y,{get score(){return t(n).score},get minScore(){return t(l)},get showMinScore(){return t(q)},get includePrintStyles(){return S()}}),r(o);var h=z(o,2);R(h,5,()=>t(n).criterion.replace(/\\n/g,`
`).replace(/\\(\s{1,2})\\ /g," ").split(`
`),T,(O,Q)=>{var F=Z(),U=a(F,!0);r(F),b(()=>P(U,t(Q))),w(O,F)}),r(h),r(c);var C=z(c,2),N=a(C,!0);r(C),r(d),b(()=>{j(d,`pt-4 first:pt-0 ${(S()?"print:break-inside-avoid":"")??""}`),j(h,`text-sm font-medium flex-1 ${(t(l)?"pb-7":"pb-1")??""}`),P(N,t(n).rationale)}),w(i,d)}),r(p),w(s,p),I()}export{oe as E,Y as S,ne as t};
