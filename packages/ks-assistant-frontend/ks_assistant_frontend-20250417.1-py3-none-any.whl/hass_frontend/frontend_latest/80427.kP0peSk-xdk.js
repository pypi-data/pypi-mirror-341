export const id=80427;export const ids=[80427];export const modules={81771:(t,i,o)=>{o.d(i,{$W:()=>g,Dp:()=>m,EC:()=>a,HB:()=>h,S9:()=>p,XF:()=>s,b1:()=>f,bV:()=>r,lB:()=>c,lg:()=>d,mX:()=>v,oj:()=>u,rY:()=>y,vH:()=>b});var n=o(16312),e=o(55979);const a="single",r=10,s=t=>{if("condition"in t&&Array.isArray(t.condition))return{condition:"and",conditions:t.condition};for(const i of["and","or","not"])if(i in t)return{condition:i,conditions:t[i]};return t},c=(t,i)=>{t.callService("automation","trigger",{entity_id:i,skip_condition:!0})},d=(t,i)=>t.callApi("DELETE",`config/automation/config/${i}`);let l;const u=(t,i)=>t.callApi("GET",`config/automation/config/${i}`),g=(t,i)=>t.callWS({type:"automation/config",entity_id:i}),f=(t,i,o)=>t.callApi("POST",`config/automation/config/${i}`,o),h=t=>{for(const i of["trigger","condition","action"]){const o=t[i];o&&!Array.isArray(o)&&(t[i]=[o])}return t.action&&(t.action=(0,e.Rn)(t.action)),t},v=t=>{l=t,(0,n.o)("/config/automation/edit/new")},b=t=>{v({...t,id:void 0,alias:void 0})},y=()=>{const t=l;return l=void 0,t},m=(t,i,o,n)=>t.connection.subscribeMessage(i,{type:"subscribe_trigger",trigger:o,variables:n}),p=(t,i,o)=>t.callWS({type:"test_condition",condition:i,variables:o})},80427:(t,i,o)=>{o.a(t,(async(t,n)=>{try{o.r(i);var e=o(36312),a=(o(72606),o(15112)),r=o(77706),s=o(13740),c=o(81771),d=o(9883),l=t([s]);s=(l.then?(await l)():l)[0];(0,e.A)([(0,r.EM)("more-info-automation")],(function(t,i){return{F:class extends i{constructor(...i){super(...i),t(this)}},d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"stateObj",value:void 0},{kind:"method",key:"render",value:function(){return this.hass&&this.stateObj?a.qy` <hr> <div class="flex"> <div>${this.hass.localize("ui.card.automation.last_triggered")}:</div> <ha-relative-time .hass="${this.hass}" .datetime="${this.stateObj.attributes.last_triggered}" capitalize></ha-relative-time> </div> <div class="actions"> <mwc-button @click="${this._runActions}" .disabled="${(0,d.g0)(this.stateObj.state)}"> ${this.hass.localize("ui.card.automation.trigger")} </mwc-button> </div> `:a.s6}},{kind:"method",key:"_runActions",value:function(){(0,c.lB)(this.hass,this.stateObj.entity_id)}},{kind:"get",static:!0,key:"styles",value:function(){return a.AH`.flex{display:flex;justify-content:space-between}.actions{margin:8px 0;display:flex;flex-wrap:wrap;justify-content:center}hr{border-color:var(--divider-color);border-bottom:none;margin:16px 0}`}}]}}),a.WF);n()}catch(t){n(t)}}))}};
//# sourceMappingURL=80427.kP0peSk-xdk.js.map