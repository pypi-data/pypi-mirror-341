"use strict";(self.webpackChunkks_assistant_frontend=self.webpackChunkks_assistant_frontend||[]).push([[44721],{44721:function(n,e,t){t.d(e,{P:function(){return y},x:function(){return b}});var o,r,i,a=t(33994),c=t(64599),l=t(22858),s=(t(50693),t(15112)),u=t(31265),d=t(46092),f=t(19611),p=t(30581),g=t(6121),_=t(73218),m=t(24520),h=t(84976),w=t(33922),v=t(16312),b=["zha","zwave_js","matter"],y=function(){var n=(0,l.A)((0,a.A)().mark((function n(e,t,l,b){var y,z,k,x,A,S;return(0,a.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==b||!b.domain){n.next=5;break}return n.next=3,t.loadBackendTranslation("title",b.domain);case 3:y=n.sent,b.domain=(0,d.p$)(y,b.domain);case 5:if(null==b||!b.brand){n.next=10;break}return n.next=8,(0,f.O)(t);case 8:k=n.sent,b.brand=(null===(z=k.core.integration[b.brand])||void 0===z?void 0:z.name)||b.brand;case 10:if("zwave_js"!==l){n.next=25;break}if(null==b||!b.config_entry){n.next=15;break}n.t0=void 0,n.next=18;break;case 15:return n.next=17,(0,u.VN)(t,{domain:l});case 17:n.t0=n.sent;case 18:if(x=n.t0,(0,w.x)(t,"zwave_js")&&(null!=b&&b.config_entry||null!=x&&x.length)){n.next=22;break}return(0,g.showConfirmationDialog)(e,{title:t.localize("ui.panel.config.integrations.config_flow.missing_zwave_zigbee_title",{integration:"Z-Wave"}),text:t.localize("ui.panel.config.integrations.config_flow.missing_zwave_zigbee",{integration:"Z-Wave",brand:(null==b?void 0:b.brand)||(null==b?void 0:b.domain)||"Z-Wave",supported_hardware_link:(0,s.qy)(o||(o=(0,c.A)(['<a href="','" target="_blank" rel="noreferrer">',"</a>"])),(0,h.o)(t,"/docs/z-wave/controllers"),t.localize("ui.panel.config.integrations.config_flow.supported_hardware"))}),confirmText:t.localize("ui.panel.config.integrations.config_flow.proceed"),confirm:function(){(0,p.W)(e,{startFlowHandler:"zwave_js"})}}),n.abrupt("return");case 22:(0,m.X)(e,{entry_id:(null==b?void 0:b.config_entry)||x[0].entry_id}),n.next=53;break;case 25:if("zha"!==l){n.next=40;break}if(null==b||!b.config_entry){n.next=30;break}n.t1=void 0,n.next=33;break;case 30:return n.next=32,(0,u.VN)(t,{domain:l});case 32:n.t1=n.sent;case 33:if(A=n.t1,(0,w.x)(t,"zha")&&(null!=b&&b.config_entry||null!=A&&A.length)){n.next=37;break}return(0,g.showConfirmationDialog)(e,{title:t.localize("ui.panel.config.integrations.config_flow.missing_zwave_zigbee_title",{integration:"Zigbee"}),text:t.localize("ui.panel.config.integrations.config_flow.missing_zwave_zigbee",{integration:"Zigbee",brand:(null==b?void 0:b.brand)||(null==b?void 0:b.domain)||"Zigbee",supported_hardware_link:(0,s.qy)(r||(r=(0,c.A)(['<a href="','" target="_blank" rel="noreferrer">',"</a>"])),(0,h.o)(t,"/integrations/zha/#known-working-zigbee-radio-modules"),t.localize("ui.panel.config.integrations.config_flow.supported_hardware"))}),confirmText:t.localize("ui.panel.config.integrations.config_flow.proceed"),confirm:function(){(0,p.W)(e,{startFlowHandler:"zha"})}}),n.abrupt("return");case 37:(0,v.o)("/config/zha/add"),n.next=53;break;case 40:if("matter"!==l){n.next=53;break}if(null==b||!b.config_entry){n.next=45;break}n.t2=void 0,n.next=48;break;case 45:return n.next=47,(0,u.VN)(t,{domain:l});case 47:n.t2=n.sent;case 48:if(S=n.t2,(0,w.x)(t,l)&&(null!=b&&b.config_entry||null!=S&&S.length)){n.next=52;break}return(0,g.showConfirmationDialog)(e,{title:t.localize("ui.panel.config.integrations.config_flow.missing_zwave_zigbee_title",{integration:"Matter"}),text:t.localize("ui.panel.config.integrations.config_flow.missing_matter",{integration:"Matter",brand:(null==b?void 0:b.brand)||(null==b?void 0:b.domain)||"Matter",supported_hardware_link:(0,s.qy)(i||(i=(0,c.A)(['<a href="','" target="_blank" rel="noreferrer">',"</a>"])),(0,h.o)(t,"/integrations/matter"),t.localize("ui.panel.config.integrations.config_flow.supported_hardware"))}),confirmText:t.localize("ui.panel.config.integrations.config_flow.proceed"),confirm:function(){(0,p.W)(e,{startFlowHandler:"matter"})}}),n.abrupt("return");case 52:(0,_.g)(e);case 53:case"end":return n.stop()}}),n)})));return function(e,t,o,r){return n.apply(this,arguments)}}()},31265:function(n,e,t){t.d(e,{JW:function(){return g},TC:function(){return a},VN:function(){return c},Vx:function(){return l},XQ:function(){return f},eM:function(){return u},iH:function(){return s},k3:function(){return p},m4:function(){return r},qf:function(){return i},yv:function(){return d}});var o=t(41981),r=(t(33231),t(26098),["migration_error","setup_error","setup_retry"]),i=["not_loaded","loaded","setup_error","setup_retry"],a=function(n,e,t){var o={type:"config_entries/subscribe"};return t&&t.type&&(o.type_filter=t.type),n.connection.subscribeMessage((function(n){return e(n)}),o)},c=function(n,e){var t={};return e&&(e.type&&(t.type_filter=e.type),e.domain&&(t.domain=e.domain)),n.callWS(Object.assign({type:"config_entries/get"},t))},l=function(n,e){return n.callWS({type:"config_entries/get_single",entry_id:e})},s=function(n,e,t){return n.callWS(Object.assign({type:"config_entries/update",entry_id:e},t))},u=function(n,e){return n.callApi("DELETE","config/config_entries/entry/".concat(e))},d=function(n,e){return n.callApi("POST","config/config_entries/entry/".concat(e,"/reload"))},f=function(n,e){return n.callWS({type:"config_entries/disable",entry_id:e,disabled_by:"user"})},p=function(n,e){return n.callWS({type:"config_entries/disable",entry_id:e,disabled_by:null})},g=function(n,e){var t=(0,o.A)(n),r=function(n){var t=e[n.domain];return"helper"===(null==t?void 0:t.integration_type)?-1:1};return t.sort((function(n,e){return r(e)-r(n)}))}},98041:function(n,e,t){t.d(e,{Al:function(){return c},KY:function(){return a},PN:function(){return u},RM:function(){return h},dG:function(){return f},jm:function(){return d},m7:function(){return v},sR:function(){return p},t1:function(){return s},t2:function(){return _},x:function(){return w},yu:function(){return g}});t(81027),t(50693),t(10507);var o=t(88444),r=t(18409),i=t(46092),a=["bluetooth","dhcp","discovery","hardware","hassio","homekit","integration_discovery","mqtt","ssdp","unignore","usb","zeroconf"],c=["reauth"],l={"HA-Frontend-Base":"".concat(location.protocol,"//").concat(location.host)},s=function(n,e,t){var o;return n.callApi("POST","config/config_entries/flow",{handler:e,show_advanced_options:Boolean(null===(o=n.userData)||void 0===o?void 0:o.showAdvanced),entry_id:t},l)},u=function(n,e){return n.callApi("GET","config/config_entries/flow/".concat(e),void 0,l)},d=function(n,e,t){return n.callApi("POST","config/config_entries/flow/".concat(e),t,l)},f=function(n,e,t){return n.callWS({type:"config_entries/ignore_flow",flow_id:e,title:t})},p=function(n,e){return n.callApi("DELETE","config/config_entries/flow/".concat(e))},g=function(n,e){return n.callApi("GET","config/config_entries/flow_handlers".concat(e?"?type=".concat(e):""))},_=function(n){return n.sendMessagePromise({type:"config_entries/flow/progress"})},m=function(n,e){return n.subscribeEvents((0,r.s)((function(){return _(n).then((function(n){return e.setState(n,!0)}))}),500,!0),"config_entry_discovered")},h=function(n){return(0,o.X)(n,"_configFlowProgress",_,m)},w=function(n,e){return h(n.connection).subscribe(e)},v=function(n,e){return e.context.title_placeholders&&0!==Object.keys(e.context.title_placeholders).length?n("component.".concat(e.handler,".config.flow_title"),e.context.title_placeholders)||("name"in e.context.title_placeholders?e.context.title_placeholders.name:(0,i.p$)(n,e.handler)):(0,i.p$)(n,e.handler)}},19611:function(n,e,t){t.d(e,{O:function(){return o},s:function(){return r}});t(9241);var o=function(n){return n.callWS({type:"integration/descriptions"})},r=function(n,e){if(n){if(e in n){var t=n[e];if("integration_type"in t)return t}for(var o=0,r=Object.values(n);o<r.length;o++){var i=r[o];if("integrations"in i&&i.integrations&&e in i.integrations)return i.integrations[e]}}}},30581:function(n,e,t){t.d(e,{W:function(){return b}});var o,r,i,a,c,l,s,u,d,f=t(64599),p=t(33994),g=t(658),_=t(22858),m=(t(42942),t(48062),t(81027),t(95737),t(50693),t(39790),t(66457),t(99019),t(96858),t(15112)),h=t(98041),w=t(46092),v=t(41572),b=function(n,e){return(0,v.g)(n,e,{flowType:"config_flow",loadDevicesAndAreas:!0,createFlow:(b=(0,_.A)((0,p.A)().mark((function n(t,o){var r,i,a;return(0,p.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([(0,h.t1)(t,o,e.entryId),t.loadFragmentTranslation("config"),t.loadBackendTranslation("config",o),t.loadBackendTranslation("selector",o),t.loadBackendTranslation("title",o)]);case 2:return r=n.sent,i=(0,g.A)(r,1),a=i[0],n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)}))),function(n,e){return b.apply(this,arguments)}),fetchFlow:(t=(0,_.A)((0,p.A)().mark((function n(e,t){var o;return(0,p.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,h.PN)(e,t);case 2:return o=n.sent,n.next=5,e.loadFragmentTranslation("config");case 5:return n.next=7,e.loadBackendTranslation("config",o.handler);case 7:return n.next=9,e.loadBackendTranslation("selector",o.handler);case 9:return n.abrupt("return",o);case 10:case"end":return n.stop()}}),n)}))),function(n,e){return t.apply(this,arguments)}),handleFlowStep:h.jm,deleteFlow:h.sR,renderAbortDescription:function(n,e){var t=n.localize("component.".concat(e.translation_domain||e.handler,".config.abort.").concat(e.reason),e.description_placeholders);return t?(0,m.qy)(o||(o=(0,f.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),t):e.reason},renderShowFormStepHeader:function(n,e){return n.localize("component.".concat(e.translation_domain||e.handler,".config.step.").concat(e.step_id,".title"),e.description_placeholders)||n.localize("component.".concat(e.handler,".title"))},renderShowFormStepDescription:function(n,e){var t=n.localize("component.".concat(e.translation_domain||e.handler,".config.step.").concat(e.step_id,".description"),e.description_placeholders);return t?(0,m.qy)(r||(r=(0,f.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),t):""},renderShowFormStepFieldLabel:function(n,e,t,o){var r;if("expandable"===t.type)return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".sections.").concat(t.name,".name"));var i=null!=o&&null!==(r=o.path)&&void 0!==r&&r[0]?"sections.".concat(o.path[0]):"";return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".").concat(i,"data.").concat(t.name))||t.name},renderShowFormStepFieldHelper:function(n,e,t,o){var r;if("expandable"===t.type)return n.localize("component.".concat(e.translation_domain||e.handler,".config.step.").concat(e.step_id,".sections.").concat(t.name,".description"));var a=null!=o&&null!==(r=o.path)&&void 0!==r&&r[0]?"sections.".concat(o.path[0],"."):"",c=n.localize("component.".concat(e.translation_domain||e.handler,".config.step.").concat(e.step_id,".").concat(a,"data_description.").concat(t.name),e.description_placeholders);return c?(0,m.qy)(i||(i=(0,f.A)(['<ha-markdown breaks .content="','"></ha-markdown>'])),c):""},renderShowFormStepFieldError:function(n,e,t){return n.localize("component.".concat(e.translation_domain||e.translation_domain||e.handler,".config.error.").concat(t),e.description_placeholders)||t},renderShowFormStepFieldLocalizeValue:function(n,e,t){return n.localize("component.".concat(e.handler,".selector.").concat(t))},renderShowFormStepSubmitButton:function(n,e){return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".submit"))||n.localize("ui.panel.config.integrations.config_flow.".concat(!1===e.last_step?"next":"submit"))},renderExternalStepHeader:function(n,e){return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".title"))||n.localize("ui.panel.config.integrations.config_flow.external_step.open_site")},renderExternalStepDescription:function(n,e){var t=n.localize("component.".concat(e.translation_domain||e.handler,".config.").concat(e.step_id,".description"),e.description_placeholders);return(0,m.qy)(a||(a=(0,f.A)([" <p> "," </p> "," "])),n.localize("ui.panel.config.integrations.config_flow.external_step.description"),t?(0,m.qy)(c||(c=(0,f.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),t):"")},renderCreateEntryDescription:function(n,e){var t=n.localize("component.".concat(e.translation_domain||e.handler,".config.create_entry.").concat(e.description||"default"),e.description_placeholders);return(0,m.qy)(l||(l=(0,f.A)([" "," <p> "," </p> "])),t?(0,m.qy)(s||(s=(0,f.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),t):"",n.localize("ui.panel.config.integrations.config_flow.created_config",{name:e.title}))},renderShowFormProgressHeader:function(n,e){return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".title"))||n.localize("component.".concat(e.handler,".title"))},renderShowFormProgressDescription:function(n,e){var t=n.localize("component.".concat(e.translation_domain||e.handler,".config.progress.").concat(e.progress_action),e.description_placeholders);return t?(0,m.qy)(u||(u=(0,f.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),t):""},renderMenuHeader:function(n,e){return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".title"))||n.localize("component.".concat(e.handler,".title"))},renderMenuDescription:function(n,e){var t=n.localize("component.".concat(e.translation_domain||e.handler,".config.step.").concat(e.step_id,".description"),e.description_placeholders);return t?(0,m.qy)(d||(d=(0,f.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),t):""},renderMenuOption:function(n,e,t){return n.localize("component.".concat(e.translation_domain||e.handler,".config.step.").concat(e.step_id,".menu_options.").concat(t),e.description_placeholders)},renderLoadingDescription:function(n,e,t,o){if("loading_flow"!==e&&"loading_step"!==e)return"";var r=(null==o?void 0:o.handler)||t;return n.localize("ui.panel.config.integrations.config_flow.loading.".concat(e),{integration:r?(0,w.p$)(n.localize,r):n.localize("ui.panel.config.integrations.config_flow.loading.fallback_title")})}});var t,b}},41572:function(n,e,t){t.d(e,{g:function(){return i}});t(95737),t(26098),t(39790),t(66457),t(99019),t(96858);var o=t(34897),r=function(){return Promise.all([t.e(94131),t.e(14121),t.e(33810),t.e(10963),t.e(40319),t.e(92106),t.e(7726),t.e(7986),t.e(89059),t.e(21689),t.e(9421),t.e(55792),t.e(25756),t.e(86854)]).then(t.bind(t,93608))},i=function(n,e,t){(0,o.r)(n,"show-dialog",{dialogTag:"dialog-data-entry-flow",dialogImport:r,dialogParams:Object.assign(Object.assign({},e),{},{flowConfig:t,dialogParentElement:n})})}},73218:function(n,e,t){t.d(e,{g:function(){return i}});t(95737),t(39790),t(66457),t(99019),t(96858);var o=t(34897),r=function(){return Promise.all([t.e(94511),t.e(70252),t.e(91545),t.e(16919),t.e(6045),t.e(49721)]).then(t.bind(t,49721))},i=function(n){(0,o.r)(n,"show-dialog",{dialogTag:"dialog-matter-add-device",dialogImport:r,dialogParams:{}})}},24520:function(n,e,t){t.d(e,{X:function(){return i}});t(95737),t(39790),t(66457),t(99019),t(96858);var o=t(34897),r=function(){return Promise.all([t.e(94131),t.e(14121),t.e(33810),t.e(63893),t.e(10963),t.e(92106),t.e(94511),t.e(99196),t.e(23766),t.e(29654),t.e(3051),t.e(49054),t.e(3836),t.e(32795)]).then(t.bind(t,32795))},i=function(n,e){(0,o.r)(n,"show-dialog",{dialogTag:"dialog-zwave_js-add-node",dialogImport:r,dialogParams:e})}},84976:function(n,e,t){t.d(e,{o:function(){return o}});t(81027),t(82386),t(36604);var o=function(n,e){return"https://".concat(n.config.version.includes("b")?"rc":n.config.version.includes("dev")?"next":"www",".home-assistant.io").concat(e)}}}]);
//# sourceMappingURL=44721.VjYmPWQNiiM.js.map