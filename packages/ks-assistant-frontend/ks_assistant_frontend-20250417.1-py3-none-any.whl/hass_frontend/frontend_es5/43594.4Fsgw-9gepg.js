(self.webpackChunkks_assistant_frontend=self.webpackChunkks_assistant_frontend||[]).push([[43594,28552],{68009:function(i,t,e){"use strict";e.d(t,{A:function(){return n}});var a=e(91001);e(97741),e(10507),e(39790),e(7760),e(253),e(54846),e(16891),e(66555);function n(i){if(!i||"object"!=(0,a.A)(i))return i;if("[object Date]"==Object.prototype.toString.call(i))return new Date(i.getTime());if(Array.isArray(i))return i.map(n);var t={};return Object.keys(i).forEach((function(e){t[e]=n(i[e])})),t}},42072:function(i,t,e){var a=e(22711).default;e(72488),e(62635),e(95554),e(39790),e(253),e(54846),e(66555),i.exports=function i(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(e){!t.hasOwnProperty(e)||null===t[e]||"object"!==a(t[e])&&"function"!=typeof t[e]||Object.isFrozen(t[e])||i(t[e])})),t}},80675:function(i,t,e){"use strict";var a=e(22858).A,n=e(33994).A;e.a(i,function(){var i=a(n().mark((function i(a,s){var r,o,c,l,d,u,h,f,v,p,g,m,_,y,k,C,w,A,b,x,z,j,O,S,D,F,q,P,I,E,N,B,H,M,U,V,$;return n().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,e.r(t),e.d(t,{HuiDialogSuggestCard:function(){return $}}),r=e(33994),o=e(22858),c=e(64599),l=e(35806),d=e(71008),u=e(62193),h=e(2816),f=e(27927),v=e(81027),p=e(97741),g=e(95554),m=e(16891),_=e(42072),y=e.n(_),k=e(15112),C=e(29818),w=e(34897),e(57641),A=e(57198),b=e(55321),x=e(50157),z=e(26566),j=e(23754),O=e(14182),S=e(57898),D=e(90976),!(F=a([z,S])).then){i.next=41;break}return i.next=37,F;case 37:i.t1=i.sent,i.t0=(0,i.t1)(),i.next=42;break;case 41:i.t0=F;case 42:q=i.t0,z=q[0],S=q[1],$=(0,f.A)([(0,C.EM)("hui-dialog-suggest-card")],(function(i,t){var e,a=function(t){function e(){var t;(0,d.A)(this,e);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return t=(0,u.A)(this,e,[].concat(n)),i(t),t}return(0,h.A)(e,t),(0,l.A)(e)}(t);return{F:a,d:[{kind:"field",decorators:[(0,C.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,C.wk)()],key:"_params",value:void 0},{kind:"field",decorators:[(0,C.wk)()],key:"_cardConfig",value:void 0},{kind:"field",decorators:[(0,C.wk)()],key:"_sectionConfig",value:void 0},{kind:"field",decorators:[(0,C.wk)()],key:"_saving",value:function(){return!1}},{kind:"field",decorators:[(0,C.P)("ha-yaml-editor")],key:"_yamlEditor",value:void 0},{kind:"method",key:"showDialog",value:function(i){this._params=i,this._cardConfig=i.cardConfig,this._sectionConfig=i.sectionConfig,Object.isFrozen(this._cardConfig)||(this._cardConfig=y()(this._cardConfig)),Object.isFrozen(this._sectionConfig)||(this._sectionConfig=y()(this._sectionConfig)),this._yamlEditor&&this._yamlEditor.setValue(this._cardConfig)}},{kind:"method",key:"closeDialog",value:function(){this._params=void 0,this._cardConfig=void 0,(0,w.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"get",key:"_viewSupportsSection",value:function(){var i,t;if(null===(i=this._params)||void 0===i||!i.lovelaceConfig||null===(t=this._params)||void 0===t||!t.path)return!1;var e=(0,O.$P)(this._params.path).viewIndex,a=this._params.lovelaceConfig.views[e];return!(0,A.R)(a)&&"sections"===a.type}},{kind:"method",key:"_renderPreview",value:function(){var i=this;return this._sectionConfig&&this._viewSupportsSection?(0,k.qy)(P||(P=(0,c.A)([' <div class="element-preview"> <hui-section .hass="','" .config="','" preview></hui-section> </div> '])),this.hass,this._sectionConfig):this._cardConfig?(0,k.qy)(I||(I=(0,c.A)([' <div class="element-preview"> '," </div> "])),this._cardConfig.map((function(t){return(0,k.qy)(E||(E=(0,c.A)([' <hui-card .hass="','" .config="','" preview></hui-card> '])),i.hass,t)}))):k.s6}},{kind:"method",key:"render",value:function(){return this._params?(0,k.qy)(N||(N=(0,c.A)([' <ha-dialog open scrimClickAction @closed="','" .heading="','"> <div> '," ",' </div> <mwc-button slot="secondaryAction" @click="','" dialogInitialFocus> '," </mwc-button> "," </ha-dialog> "])),this.closeDialog,this.hass.localize("ui.panel.lovelace.editor.suggest_card.header"),this._renderPreview(),this._params.yaml&&this._cardConfig?(0,k.qy)(B||(B=(0,c.A)([' <div class="editor"> <ha-yaml-editor .hass="','" .defaultValue="','"></ha-yaml-editor> </div> '])),this.hass,this._cardConfig):k.s6,this.closeDialog,this._params.yaml?this.hass.localize("ui.common.close"):this.hass.localize("ui.common.cancel"),this._params.yaml?k.s6:(0,k.qy)(H||(H=(0,c.A)([" ",' <mwc-button slot="primaryAction" .disabled="','" @click="','"> '," </mwc-button> "])),this._sectionConfig&&this._viewSupportsSection?k.s6:(0,k.qy)(M||(M=(0,c.A)([' <mwc-button slot="primaryAction" @click="','"> '," </mwc-button> "])),this._pickCard,this.hass.localize("ui.panel.lovelace.editor.suggest_card.create_own")),this._saving,this._save,this._saving?(0,k.qy)(U||(U=(0,c.A)([' <ha-circular-progress indeterminate aria-label="Saving" size="small"></ha-circular-progress> ']))):this.hass.localize("ui.panel.lovelace.editor.suggest_card.add"))):k.s6}},{kind:"get",static:!0,key:"styles",value:function(){return[b.nA,(0,k.AH)(V||(V=(0,c.A)(["@media all and (max-width:450px),all and (max-height:500px){ha-dialog{max-height:100%;height:100%}}@media all and (min-width:850px){ha-dialog{width:845px}}ha-dialog{max-width:845px;--dialog-z-index:6}.hidden{display:none}.element-preview{position:relative}hui-card,hui-section{padding-top:8px;margin:4px auto;max-width:390px;display:block;width:100%}.editor{padding-top:16px}"])))]}},{kind:"method",key:"_pickCard",value:function(){var i,t,e;null!==(i=this._params)&&void 0!==i&&i.lovelaceConfig&&null!==(t=this._params)&&void 0!==t&&t.path&&null!==(e=this._params)&&void 0!==e&&e.saveConfig&&((0,D.u)(this,{lovelaceConfig:this._params.lovelaceConfig,saveConfig:this._params.saveConfig,path:this._params.path,entities:this._params.entities}),this.closeDialog())}},{kind:"method",key:"_computeNewConfig",value:function(i,t){if(!this._viewSupportsSection)return(0,j.DU)(i,t,this._cardConfig);var e=(0,O.$P)(t),a=e.viewIndex,n=e.sectionIndex;if(void 0===n){var s,r=null!==(s=this._sectionConfig)&&void 0!==s?s:{type:"grid",cards:this._cardConfig};return(0,j.Bn)(i,a,r)}var o=this._sectionConfig?this._sectionConfig.cards||[]:this._cardConfig;return(0,j.DU)(i,[a,n],o)}},{kind:"method",key:"_save",value:(e=(0,o.A)((0,r.A)().mark((function i(){var t,e,a,n;return(0,r.A)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(null!==(t=this._params)&&void 0!==t&&t.lovelaceConfig&&null!==(e=this._params)&&void 0!==e&&e.path&&null!==(a=this._params)&&void 0!==a&&a.saveConfig&&this._cardConfig){i.next=2;break}return i.abrupt("return");case 2:return this._saving=!0,n=this._computeNewConfig(this._params.lovelaceConfig,this._params.path),i.next=6,this._params.saveConfig(n);case 6:this._saving=!1,(0,x.f)(this,this.hass),this.closeDialog();case 9:case"end":return i.stop()}}),i,this)}))),function(){return e.apply(this,arguments)})}]}}),k.WF),s(),i.next=52;break;case 49:i.prev=49,i.t2=i.catch(0),s(i.t2);case 52:case"end":return i.stop()}}),i,null,[[0,49]])})));return function(t,e){return i.apply(this,arguments)}}())},50157:function(i,t,e){"use strict";e.d(t,{f:function(){return n}});var a=e(18589),n=function(i,t){return(0,a.P)(i,{message:t.localize("ui.common.successfully_saved")})}},52043:function(i,t,e){"use strict";var a=e(21621),n=e(26906),s=e(13113),r=e(53138),o=e(38971).trim,c=e(69329),l=s("".charAt),d=a.parseFloat,u=a.Symbol,h=u&&u.iterator,f=1/d(c+"-0")!=-1/0||h&&!n((function(){d(Object(h))}));i.exports=f?function(i){var t=o(r(i)),e=d(t);return 0===e&&"-"===l(t,0)?-0:e}:d},88557:function(i,t,e){"use strict";var a=e(41765),n=e(16320).findIndex,s=e(2586),r="findIndex",o=!0;r in[]&&Array(1)[r]((function(){o=!1})),a({target:"Array",proto:!0,forced:o},{findIndex:function(i){return n(this,i,arguments.length>1?arguments[1]:void 0)}}),s(r)},95554:function(i,t,e){"use strict";var a=e(41765),n=e(26906),s=e(26887),r=e(14329),o=e(12469),c=Object.isFrozen;a({target:"Object",stat:!0,forced:o||n((function(){c(1)}))},{isFrozen:function(i){return!s(i)||(!(!o||"ArrayBuffer"!==r(i))||!!c&&c(i))}})},28552:function(i,t,e){"use strict";var a=e(41765),n=e(52043);a({global:!0,forced:parseFloat!==n},{parseFloat:n})}}]);
//# sourceMappingURL=43594.4Fsgw-9gepg.js.map