"use strict";(self.webpackChunkks_assistant_frontend=self.webpackChunkks_assistant_frontend||[]).push([[78887],{78573:function(e,n,t){t.d(n,{cj:function(){return d},dG:function(){return p},rc:function(){return w},gd:function(){return m},a$:function(){return v},$O:function(){return g},gM:function(){return h}});var r=t(33994),i=t(22858),a=(t(39790),t(66457),t(36016),t(7760),t(43037),t(92765),t(94872)),o=t(213),c=t(65459),u=t(49281),s=function(e,n){return function(e){switch(e){case"de":case"lb":return!0;default:return!1}}(n)?(0,u.Z)(e):e.toLocaleLowerCase(n)},l=t(9883),f="ui.components.logbook.messages",d=["counter","proximity","sensor","zone"],_={"numeric state of":"triggered_by_numeric_state_of","state of":"triggered_by_state_of",event:"triggered_by_event",time:"triggered_by_time","time pattern":"triggered_by_time_pattern","KS Assistant stopping":"triggered_by_homeassistant_stopping","KS Assistant starting":"triggered_by_homeassistant_starting"},m=function(){var e=(0,i.A)((0,r.A)().mark((function e(n,t,i){return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b(n,t,void 0,void 0,i));case 1:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),b=function(e,n,t,r,i,a){if((r||a)&&(!r||0===r.length)&&(!a||0===a.length))return Promise.resolve([]);var o={type:"logbook/get_events",start_time:n};return t&&(o.end_time=t),null!=r&&r.length&&(o.entity_ids=r),null!=a&&a.length&&(o.device_ids=a),i&&(o.context_id=i),e.callWS(o)},h=function(e,n,t,r,i,a){if((i||a)&&(!i||0===i.length)&&(!a||0===a.length))return Promise.reject("No entities or devices");var o={type:"logbook/event_stream",start_time:t,end_time:r};return null!=i&&i.length&&(o.entity_ids=i),null!=a&&a.length&&(o.device_ids=a),e.connection.subscribeMessage((function(e){return n(e)}),o)},p=function(e,n){return{entity_id:e.entity_id,state:n,attributes:{device_class:null==e?void 0:e.attributes.device_class,source_type:null==e?void 0:e.attributes.source_type,has_date:null==e?void 0:e.attributes.has_date,has_time:null==e?void 0:e.attributes.has_time,entity_picture_local:a.oL.has((0,o.m)(e.entity_id))||null==e?void 0:e.attributes.entity_picture_local,entity_picture:a.oL.has((0,o.m)(e.entity_id))||null==e?void 0:e.attributes.entity_picture}}},g=function(e,n){for(var t in _)if(n.startsWith(t))return n.replace(t,"".concat(e("ui.components.logbook.".concat(_[t]))));return n},v=function(e,n,t,r,i){switch(i){case"device_tracker":case"person":return"not_home"===t?n("".concat(f,".was_away")):"home"===t?n("".concat(f,".was_at_home")):n("".concat(f,".was_at_state"),{state:t});case"sun":return n("".concat(f,"above_horizon"===t?".rose":".set"));case"binary_sensor":var o=t===a.Or,c=t===a.qg,u=r.attributes.device_class;switch(u){case"battery":if(o)return n("".concat(f,".was_low"));if(c)return n("".concat(f,".was_normal"));break;case"connectivity":if(o)return n("".concat(f,".was_connected"));if(c)return n("".concat(f,".was_disconnected"));break;case"door":case"garage_door":case"opening":case"window":if(o)return n("".concat(f,".was_opened"));if(c)return n("".concat(f,".was_closed"));break;case"lock":if(o)return n("".concat(f,".was_unlocked"));if(c)return n("".concat(f,".was_locked"));break;case"plug":if(o)return n("".concat(f,".was_plugged_in"));if(c)return n("".concat(f,".was_unplugged"));break;case"presence":if(o)return n("".concat(f,".was_at_home"));if(c)return n("".concat(f,".was_away"));break;case"safety":if(o)return n("".concat(f,".was_unsafe"));if(c)return n("".concat(f,".was_safe"));break;case"cold":case"gas":case"heat":case"moisture":case"motion":case"occupancy":case"power":case"problem":case"smoke":case"sound":case"vibration":if(o)return n("".concat(f,".detected_device_class"),{device_class:s(n("component.binary_sensor.entity_component.".concat(u,".name")),e.language)});if(c)return n("".concat(f,".cleared_device_class"),{device_class:s(n("component.binary_sensor.entity_component.".concat(u,".name")),e.language)});break;case"tamper":if(o)return n("".concat(f,".detected_tampering"));if(c)return n("".concat(f,".cleared_tampering"))}break;case"cover":switch(t){case"open":return n("".concat(f,".was_opened"));case"opening":return n("".concat(f,".is_opening"));case"closing":return n("".concat(f,".is_closing"));case"closed":return n("".concat(f,".was_closed"))}break;case"event":return n("".concat(f,".detected_event_no_type"));case"lock":switch(t){case"unlocked":return n("".concat(f,".was_unlocked"));case"locking":return n("".concat(f,".is_locking"));case"unlocking":return n("".concat(f,".is_unlocking"));case"opening":return n("".concat(f,".is_opening"));case"open":return n("".concat(f,".is_opened"));case"locked":return n("".concat(f,".was_locked"));case"jammed":return n("".concat(f,".is_jammed"))}}return t===a.Or?n("".concat(f,".turned_on")):t===a.qg?n("".concat(f,".turned_off")):t===l.HV?n("".concat(f,".became_unknown")):t===l.Hh?n("".concat(f,".became_unavailable")):e.localize("".concat(f,".changed_to_state"),{state:r?e.formatEntityState(r,t):t})},w=function(e){return"sensor"!==(0,c.t)(e)||void 0===e.attributes.unit_of_measurement&&void 0===e.attributes.state_class}},83147:function(e,n,t){t.d(n,{CT:function(){return s},M1:function(){return m},aK:function(){return u},gs:function(){return f},oF:function(){return d},pC:function(){return c},sw:function(){return h},t0:function(){return b}});t(82386),t(36604);var r=t(33922),i=t(213),a=t(31605),o=t(78573),c=["camera","configurator"],u=["scene","automation"],s=["script"],l=["alarm_control_panel","cover","climate","fan","humidifier","input_boolean","light","lock","siren","script","switch","valve","water_heater"],f=["alarm_control_panel","automation","camera","climate","configurator","counter","cover","date","datetime","fan","group","humidifier","image","input_boolean","input_datetime","lawn_mower","light","lock","media_player","person","remote","script","scene","siren","sun","switch","time","timer","update","vacuum","valve","water_heater","weather"],d=["input_number","input_select","input_text","number","scene","select","text","update","event"],_=["camera","configurator"],m=function(e,n){return(0,r.x)(e,"history")&&!_.includes((0,i.m)(n))},b=function(e,n){if(!(0,r.x)(e,"logbook"))return!1;var t=e.states[n];if(!t||t.attributes.unit_of_measurement)return!1;var a=(0,i.m)(n);return!o.cj.includes(a)&&!_.includes(a)},h=function(e){var n=(0,i.m)(e.entity_id);if("group"===n){var t=(0,a.z)(e);return null!=t&&"group"!==t&&l.includes(t)}return l.includes(n)}},79266:function(e,n,t){t.d(n,{S5:function(){return u},bG:function(){return o},mE:function(){return c}});t(82386),t(95737),t(39790),t(66457),t(36604),t(99019),t(96858);var r=t(65459),i=t(83147),a={alarm_control_panel:function(){return t.e(35196).then(t.bind(t,35196))},automation:function(){return t.e(80427).then(t.bind(t,80427))},camera:function(){return t.e(26399).then(t.bind(t,26399))},climate:function(){return Promise.all([t.e(14691),t.e(52333)]).then(t.bind(t,52333))},configurator:function(){return Promise.all([t.e(94131),t.e(72937)]).then(t.bind(t,72937))},counter:function(){return t.e(98482).then(t.bind(t,98482))},cover:function(){return Promise.all([t.e(38876),t.e(85497)]).then(t.bind(t,85497))},date:function(){return Promise.all([t.e(94131),t.e(14691),t.e(76994),t.e(48360)]).then(t.bind(t,48360))},datetime:function(){return Promise.all([t.e(94131),t.e(14691),t.e(16095),t.e(76994),t.e(64169)]).then(t.bind(t,64169))},fan:function(){return Promise.all([t.e(38876),t.e(3603)]).then(t.bind(t,3603))},group:function(){return Promise.all([t.e(94131),t.e(14691),t.e(7986),t.e(64730),t.e(22613)]).then(t.bind(t,22613))},humidifier:function(){return t.e(47400).then(t.bind(t,47400))},image:function(){return t.e(763).then(t.bind(t,763))},input_boolean:function(){return Promise.all([t.e(38876),t.e(47265)]).then(t.bind(t,47265))},input_datetime:function(){return Promise.all([t.e(94131),t.e(14691),t.e(76994),t.e(92304)]).then(t.bind(t,92304))},lawn_mower:function(){return t.e(64495).then(t.bind(t,64495))},light:function(){return Promise.all([t.e(38876),t.e(39758)]).then(t.bind(t,39758))},lock:function(){return Promise.all([t.e(38876),t.e(17011)]).then(t.bind(t,17011))},media_player:function(){return Promise.all([t.e(14691),t.e(73288)]).then(t.bind(t,73288))},person:function(){return Promise.all([t.e(82331),t.e(26215)]).then(t.bind(t,36710))},remote:function(){return Promise.all([t.e(14691),t.e(7826)]).then(t.bind(t,7826))},script:function(){return Promise.all([t.e(94131),t.e(40319),t.e(7726),t.e(99196),t.e(72915),t.e(51431),t.e(7986),t.e(9421),t.e(57641),t.e(95113),t.e(69002)]).then(t.bind(t,35371))},siren:function(){return Promise.all([t.e(38876),t.e(89055)]).then(t.bind(t,89055))},sun:function(){return t.e(55776).then(t.bind(t,55776))},switch:function(){return Promise.all([t.e(38876),t.e(17040)]).then(t.bind(t,17040))},time:function(){return Promise.all([t.e(94131),t.e(14691),t.e(76994),t.e(71869)]).then(t.bind(t,71869))},timer:function(){return t.e(69875).then(t.bind(t,69875))},update:function(){return Promise.all([t.e(99196),t.e(46072),t.e(82381)]).then(t.bind(t,82381))},vacuum:function(){return Promise.all([t.e(14691),t.e(94467)]).then(t.bind(t,94467))},valve:function(){return Promise.all([t.e(38876),t.e(76704)]).then(t.bind(t,76704))},water_heater:function(){return t.e(48065).then(t.bind(t,48065))},weather:function(){return Promise.all([t.e(13618),t.e(49170)]).then(t.bind(t,49170))}},o=function(e){var n=(0,r.t)(e);return c(n)},c=function(e){return i.gs.includes(e)?e:i.oF.includes(e)?"hidden":"default"},u=function(e){e in a&&a[e]()}},8325:function(e,n,t){var r=t(22858).A,i=t(33994).A;t.a(e,function(){var e=r(i().mark((function e(r,a){var o,c,u,s,l,f,d,_,m,b,h,p,g,v,w,k,y,P,x,A;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.d(n,{d:function(){return A}}),o=t(95737),c=t(26098),u=t(39790),s=t(74268),l=t(24545),f=t(51855),d=t(82130),_=t(31743),m=t(22328),b=t(4959),h=t(62435),p=t(99019),g=t(96858),v=t(65253),t(84198),t(88552),t(94673),w=t(62830),t(17758),t(57963),k=t(17678),!(y=r([v,w])).then){e.next=44;break}return e.next=40,y;case 40:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=45;break;case 44:e.t0=y;case 45:P=e.t0,v=P[0],w=P[1],x=new Set(["conditional","icon","image","service-button","state-badge","state-icon","state-label"]),A=function(e){return"action-button"===e.type&&(e=Object.assign(Object.assign({},e),{},{type:"service-button"})),(0,k.Ue)("element",e,x)},a(),e.next=56;break;case 53:e.prev=53,e.t2=e.catch(0),a(e.t2);case 56:case"end":return e.stop()}}),e,null,[[0,53]])})));return function(n,t){return e.apply(this,arguments)}}())},5157:function(e,n,t){var r=t(22858).A,i=t(33994).A;t.a(e,function(){var e=r(i().mark((function e(r,a){var o,c,u,s,l,f,d,_,m,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.r(n),t.d(n,{createBadgeElement:function(){return s.YH},createCardElement:function(){return l.te},createHeaderFooterElement:function(){return f.x},createHuiElement:function(){return d.d},createRowElement:function(){return _.T},importMoreInfoControl:function(){return u.S5},showAlertDialog:function(){return c.showAlertDialog},showConfirmationDialog:function(){return c.showConfirmationDialog},showEnterCodeDialog:function(){return o.H},showPromptDialog:function(){return c.showPromptDialog}}),o=t(53473),c=t(6121),u=t(79266),s=t(34308),l=t(54075),f=t(32064),d=t(8325),_=t(31271),!(m=r([l,d,_])).then){e.next=19;break}return e.next=15,m;case 15:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=20;break;case 19:e.t0=m;case 20:b=e.t0,l=b[0],d=b[1],_=b[2],a(),e.next=30;break;case 27:e.prev=27,e.t2=e.catch(0),a(e.t2);case 30:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(n,t){return e.apply(this,arguments)}}())},82115:function(e,n,t){var r=t(41765),i=t(13113),a=t(33616),o=t(64849),c=t(90924),u=t(26906),s=RangeError,l=String,f=Math.floor,d=i(c),_=i("".slice),m=i(1..toFixed),b=function(e,n,t){return 0===n?t:n%2==1?b(e,n-1,t*e):b(e*e,n/2,t)},h=function(e,n,t){for(var r=-1,i=t;++r<6;)i+=n*e[r],e[r]=i%1e7,i=f(i/1e7)},p=function(e,n){for(var t=6,r=0;--t>=0;)r+=e[t],e[t]=f(r/n),r=r%n*1e7},g=function(e){for(var n=6,t="";--n>=0;)if(""!==t||0===n||0!==e[n]){var r=l(e[n]);t=""===t?r:t+d("0",7-r.length)+r}return t};r({target:"Number",proto:!0,forced:u((function(){return"0.000"!==m(8e-5,3)||"1"!==m(.9,0)||"1.25"!==m(1.255,2)||"1000000000000000128"!==m(0xde0b6b3a7640080,0)}))||!u((function(){m({})}))},{toFixed:function(e){var n,t,r,i,c=o(this),u=a(e),f=[0,0,0,0,0,0],m="",v="0";if(u<0||u>20)throw new s("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return l(c);if(c<0&&(m="-",c=-c),c>1e-21)if(t=(n=function(e){for(var n=0,t=e;t>=4096;)n+=12,t/=4096;for(;t>=2;)n+=1,t/=2;return n}(c*b(2,69,1))-69)<0?c*b(2,-n,1):c/b(2,n,1),t*=4503599627370496,(n=52-n)>0){for(h(f,0,t),r=u;r>=7;)h(f,1e7,0),r-=7;for(h(f,b(10,r,1),0),r=n-1;r>=23;)p(f,1<<23),r-=23;p(f,1<<r),h(f,1,1),p(f,2),v=g(f)}else h(f,0,t),h(f,1<<-n,0),v=g(f)+d("0",u);return v=u>0?m+((i=v.length)<=u?"0."+d("0",u-i)+v:_(v,0,i-u)+"."+_(v,i-u)):m+v}})}}]);
//# sourceMappingURL=78887.TJzy0Y3iOqY.js.map