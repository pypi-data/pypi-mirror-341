import{n as w,a as E}from"./ByFPCPgW.js";import{p,t as k,j as m,l as u,a as v}from"./B-ddHBdJ.js";import{c as S,C}from"./CR7z79Hl.js";import{p as x}from"./B1LP_N8u.js";const F="http://localhost:8001/images";function L(n,e,l){const r=n.reduce((c,f)=>c+f,0),s=Math.ceil(r/e),o=document.createElement("canvas");o.width=e,o.height=s;const a=o.getContext("2d");if(!a)throw new Error("Failed to get canvas context");a.imageSmoothingEnabled=!1,a.fillStyle=l;let i=0,g=0;return n.forEach((c,f)=>{if(f%2===0){let t=c;for(;t>0;){const h=e-i;t<h?(i+=t,t=0):(t-=h,i=0,g++)}}else{let t=c;for(;t>0;){const h=e-i,d=Math.min(t,h);a.fillRect(i,g,d,1),t-=d,t>0?(i=0,g++):i+=d}}}),{dataUrl:o.toDataURL(),height:s}}var R=w('<image x="0" y="0"></image>');function M(n,e){p(e,!0);const l=x(e,"colorFill",3,"rgba(255, 0, 0, 0.2)");if(!e.segmentation)throw new Error("Segmentation data is required");const r=u(()=>L(e.segmentation,e.width,l())),s=u(()=>m(r).dataUrl),o=u(()=>m(r).height);var a=R();k(()=>{S(a,"href",m(s)),S(a,"width",e.width),S(a,"height",m(o))}),E(n,a),v()}function P(n,e){const l=x(e,"isSelected",3,!1);C(n,{get checked(){return l()},get onCheckedChange(){return e.onSelect}})}export{F as P,M as S,P as a};
