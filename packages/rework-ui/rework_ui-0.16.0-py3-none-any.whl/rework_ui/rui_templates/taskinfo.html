<!doctype html>
<html>
    <head>
        <title>Task Info</title>
        <link
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
            crossorigin="anonymous">
        <link href="{{ url_style_menu_css}}" rel="stylesheet"/>
        <script src="{{ url_js_menu_elm }}"></script>
    </head>
    <body>
        <div class="grid-container">
            <div id="menu-elm">
            </div>
            <div class="main-content">
                <div id="info"></div>
            </div>
        </div>
        <script src="{{ url_for('reworkui.static', filename='info.js') }}"></script>
        <script>
         var app = Elm.Info.init({
             node: document.getElementById("info"),
             flags: {
                 baseurl: "{{homeurl}}",
                 taskid: {{taskid}}
             }
         });
        </script>
        <script>
         var menuapp = Elm.StandAloneMenu.init(
             {
                 node: document.getElementById('menu-elm'),
                 flags: {{flags_menu | safe}}
             }
         );
        </script>
        <script>
         menuapp.ports.saveMenuData.subscribe(function (data) {
             localStorage.setItem("menuData", JSON.stringify(data));
         });

         incache = localStorage.getItem("menuData")
         if (incache === null) {
             incache = '{"menuIsOpen": false}'
         }
         menuapp.ports.loadMenuData.send(incache);
        </script>
    </body>
</html>
