!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.UnicodeGraphemesAddon=t():e.UnicodeGraphemesAddon=t()}(self,(()=>(()=>{"use strict";var e={12:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}}class n{constructor(e,t){this.tag=0,this.bitcount=0,this.destLen=0,this.sourceIndex=0,this.source=e,this.dest=t,this.ltree=new r,this.dtree=new r}}var i=new r,o=new r,s=new Uint8Array(30),a=new Uint16Array(30),c=new Uint8Array(30),d=new Uint16Array(30),E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);const u=new r,A=new Uint8Array(320);function l(e,t,r,n){var i,o;for(i=0;i<r;++i)e[i]=0;for(i=0;i<30-r;++i)e[i+r]=i/r|0;for(o=n,i=0;i<30;++i)t[i]=o,o+=1<<e[i]}var f=new Uint16Array(16);function _(e,t,r,n){var i,o;for(i=0;i<16;++i)e.table[i]=0;for(i=0;i<n;++i)e.table[t[r+i]]++;for(e.table[0]=0,o=0,i=0;i<16;++i)f[i]=o,o+=e.table[i];for(i=0;i<n;++i)t[r+i]&&(e.trans[f[t[r+i]]++]=i)}function h(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function R(e,t,r){if(!t)return r;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,n+r}function H(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=0,n=0,i=0,o=e.tag;do{n=2*n+(1&o),o>>>=1,++i,r+=t.table[i],n-=t.table[i]}while(n>=0);return e.tag=o,e.bitcount-=i,t.trans[r+n]}function v(e,t,r){var n,i,o,s,a,c;for(n=R(e,5,257),i=R(e,5,1),o=R(e,4,4),s=0;s<19;++s)A[s]=0;for(s=0;s<o;++s){var d=R(e,3,0);A[E[s]]=d}for(_(u,A,0,19),a=0;a<n+i;){var l=H(e,u);switch(l){case 16:var f=A[a-1];for(c=R(e,2,3);c;--c)A[a++]=f;break;case 17:for(c=R(e,3,3);c;--c)A[a++]=0;break;case 18:for(c=R(e,7,11);c;--c)A[a++]=0;break;default:A[a++]=l}}_(t,A,0,n),_(r,A,n,i)}function P(e,t,r){for(;;){var n,i,o,E,u=H(e,t);if(256===u)return 0;if(u<256)e.dest[e.destLen++]=u;else for(n=R(e,s[u-=257],a[u]),i=H(e,r),E=o=e.destLen-R(e,c[i],d[i]);E<o+n;++E)e.dest[e.destLen++]=e.dest[E]}}function M(e){for(var t,r;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if((t=256*(t=e.source[e.sourceIndex+1])+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return-3;for(e.sourceIndex+=4,r=t;r;--r)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,0}!function(e,t){var r;for(r=0;r<7;++r)e.table[r]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,r=0;r<24;++r)e.trans[r]=256+r;for(r=0;r<144;++r)e.trans[24+r]=r;for(r=0;r<8;++r)e.trans[168+r]=280+r;for(r=0;r<112;++r)e.trans[176+r]=144+r;for(r=0;r<5;++r)t.table[r]=0;for(t.table[5]=32,r=0;r<32;++r)t.trans[r]=r}(i,o),l(s,a,4,3),l(c,d,2,1),s[28]=0,a[28]=258,t.default=function(e,t){var r,s,a=new n(e,t);do{switch(r=h(a),R(a,2,0)){case 0:s=M(a);break;case 1:s=P(a,i,o);break;case 2:v(a,a.ltree,a.dtree),s=P(a,a.ltree,a.dtree);break;default:s=-3}if(0!==s)throw new Error("Data error")}while(!r);return a.destLen<a.dest.length?"function"==typeof a.dest.slice?a.dest.slice(0,a.destLen):a.dest.subarray(0,a.destLen):a.dest}},38:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=18===new Uint8Array(new Uint32Array([305419896]).buffer)[0];t.default=class{constructor(e){const t=new DataView(e.buffer);this.highStart=t.getUint32(0,!0),this.errorValue=t.getUint32(4,!0);let r=t.getUint32(8,!0);if(e=e.subarray(12),e=(0,n.default)(e,new Uint8Array(r)),e=(0,n.default)(e,new Uint8Array(r)),i){const t=e.length;for(let r=0;r<t;r+=4){let t=e[r];e[r]=e[r+3],e[r+3]=t;let n=e[r+1];e[r+1]=e[r+2],e[r+2]=n}}this.data=new Uint32Array(e.buffer)}get(e){let t;return e<0||e>1114111?this.errorValue:e<55296||e>56319&&e<=65535?(t=(this.data[e>>5]<<2)+(31&e),this.data[t]):e<=65535?(t=(this.data[2048+(e-55296>>5)]<<2)+(31&e),this.data[t]):e<this.highStart?(t=this.data[2080+(e>>11)],t=this.data[t+(e>>5&63)],t=(t<<2)+(31&e),this.data[t]):this.data[this.data.length-4]}}},106:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeGraphemeProvider=void 0;const n=r(765),i=r(200);class o{constructor(e=!0){this.ambiguousCharsAreWide=!1,this.version=e?"15-graphemes":"15",this.handleGraphemes=e}charProperties(e,t){if(e>=32&&e<127&&!(t>>3))return o._plainNarrowProperties;let r=i.getInfo(e),s=i.infoToWidthInfo(r),a=!1;if(s=s>=2&&(3===s||this.ambiguousCharsAreWide||65039===e)?2:1,0!==t){const e=n.UnicodeService.extractWidth(t);r=this.handleGraphemes?i.shouldJoin(n.UnicodeService.extractCharKind(t),r):0===s?1:0,a=r>0,a&&(e>s?s=e:32===r&&(s=2))}return n.UnicodeService.createPropertyValue(r,s,a)}wcwidth(e){const t=i.getInfo(e),r=i.infoToWidthInfo(t),n=(t&i.GRAPHEME_BREAK_MASK)>>i.GRAPHEME_BREAK_SHIFT;return n===i.GRAPHEME_BREAK_Extend||n===i.GRAPHEME_BREAK_Prepend?0:r>=2&&(3===r||this.ambiguousCharsAreWide)?2:1}}t.UnicodeGraphemeProvider=o,o._plainNarrowProperties=n.UnicodeService.createPropertyValue(i.GRAPHEME_BREAK_Other,1,!1)},200:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CHARWIDTH_WIDE=t.CHARWIDTH_EA_AMBIGUOUS=t.CHARWIDTH_FORCE_1COLUMN=t.CHARWIDTH_NORMAL=t.GRAPHEME_BREAK_ExtPic=t.GRAPHEME_BREAK_ZWJ=t.GRAPHEME_BREAK_Hangul_LVT=t.GRAPHEME_BREAK_Hangul_LV=t.GRAPHEME_BREAK_Hangul_T=t.GRAPHEME_BREAK_Hangul_V=t.GRAPHEME_BREAK_Hangul_L=t.GRAPHEME_BREAK_SpacingMark=t.GRAPHEME_BREAK_Regional_Indicator=t.GRAPHEME_BREAK_Extend=t.GRAPHEME_BREAK_Prepend=t.GRAPHEME_BREAK_Other=t.CHARWIDTH_SHIFT=t.CHARWIDTH_MASK=t.GRAPHEME_BREAK_SHIFT=t.GRAPHEME_BREAK_MASK=void 0,t.infoToWidthInfo=o,t.infoToWidth=s,t.strWidth=function(e,t){let r=0;for(let n=0;n<e.length;){const i=e.codePointAt(n);r+=s(c(i),t),n+=i<=65535?1:2}return r},t.columnToIndexInContext=function(e,t,r,n){let i=0;for(let o=t;;){if(o>=e.length)return o;const t=e.codePointAt(o);if(i+=s(c(t),n),i>r)return o;o+=t<=65535?1:2}},t.shouldJoin=function(e,r){let n=(e&t.GRAPHEME_BREAK_MASK)>>t.GRAPHEME_BREAK_SHIFT,o=(r&t.GRAPHEME_BREAK_MASK)>>t.GRAPHEME_BREAK_SHIFT;return a(n,o)?o===t.GRAPHEME_BREAK_Regional_Indicator?i:o+16:o-16},t.shouldJoinBackwards=function(e,r){let n=(r&t.GRAPHEME_BREAK_MASK)>>t.GRAPHEME_BREAK_SHIFT,o=(e&t.GRAPHEME_BREAK_MASK)>>t.GRAPHEME_BREAK_SHIFT;return a(o,n)?o===t.GRAPHEME_BREAK_Regional_Indicator?i:o+16:o-16},t.getInfo=c;const n=new(r(38).default)(function(e){if("undefined"!=typeof Buffer)return Buffer.from(e,"base64");const t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<r.length;++e)r[e]=t.charCodeAt(e);return r}("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"));t.GRAPHEME_BREAK_MASK=15,t.GRAPHEME_BREAK_SHIFT=0,t.CHARWIDTH_MASK=48,t.CHARWIDTH_SHIFT=4,t.GRAPHEME_BREAK_Other=0,t.GRAPHEME_BREAK_Prepend=1,t.GRAPHEME_BREAK_Extend=2,t.GRAPHEME_BREAK_Regional_Indicator=3,t.GRAPHEME_BREAK_SpacingMark=4,t.GRAPHEME_BREAK_Hangul_L=5,t.GRAPHEME_BREAK_Hangul_V=6,t.GRAPHEME_BREAK_Hangul_T=7,t.GRAPHEME_BREAK_Hangul_LV=8,t.GRAPHEME_BREAK_Hangul_LVT=9,t.GRAPHEME_BREAK_ZWJ=10,t.GRAPHEME_BREAK_ExtPic=11;const i=32;function o(e){return(e&t.CHARWIDTH_MASK)>>t.CHARWIDTH_SHIFT}function s(e,r=!1){const n=o(e);return n<t.CHARWIDTH_EA_AMBIGUOUS?1:n>=t.CHARWIDTH_WIDE||r?2:1}function a(e,r){if(e>=t.GRAPHEME_BREAK_Hangul_L&&e<=t.GRAPHEME_BREAK_Hangul_LVT){if(e==t.GRAPHEME_BREAK_Hangul_L&&(r==t.GRAPHEME_BREAK_Hangul_L||r==t.GRAPHEME_BREAK_Hangul_V||r==t.GRAPHEME_BREAK_Hangul_LV||r==t.GRAPHEME_BREAK_Hangul_LVT))return!0;if(!(e!=t.GRAPHEME_BREAK_Hangul_LV&&e!=t.GRAPHEME_BREAK_Hangul_V||r!=t.GRAPHEME_BREAK_Hangul_V&&r!=t.GRAPHEME_BREAK_Hangul_T))return!0;if((e==t.GRAPHEME_BREAK_Hangul_LVT||e==t.GRAPHEME_BREAK_Hangul_T)&&r==t.GRAPHEME_BREAK_Hangul_T)return!0}return r==t.GRAPHEME_BREAK_Extend||r==t.GRAPHEME_BREAK_ZWJ||e==t.GRAPHEME_BREAK_Prepend||r==t.GRAPHEME_BREAK_SpacingMark||e==t.GRAPHEME_BREAK_ZWJ&&r==t.GRAPHEME_BREAK_ExtPic||r==t.GRAPHEME_BREAK_Regional_Indicator&&e==t.GRAPHEME_BREAK_Regional_Indicator}function c(e){return n.get(e)}t.CHARWIDTH_NORMAL=0,t.CHARWIDTH_FORCE_1COLUMN=1,t.CHARWIDTH_EA_AMBIGUOUS=2,t.CHARWIDTH_WIDE=3},526:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0,t.forwardEvent=function(e,t){return e((e=>t.fire(e)))},t.runAndSubscribe=function(e,t){return t(void 0),e((e=>t(e)))},t.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=e=>(this._listeners.push(e),{dispose:()=>{if(!this._disposed)for(let t=0;t<this._listeners.length;t++)if(this._listeners[t]===e)return void this._listeners.splice(t,1)}})),this._event}fire(e,t){const r=[];for(let e=0;e<this._listeners.length;e++)r.push(this._listeners[e]);for(let n=0;n<r.length;n++)r[n].call(void 0,e,t)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}}},546:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeV6=void 0;const n=r(765),i=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],o=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let s;t.UnicodeV6=class{constructor(){if(this.version="6",!s){s=new Uint8Array(65536),s.fill(1),s[0]=0,s.fill(0,1,32),s.fill(0,127,160),s.fill(2,4352,4448),s[9001]=2,s[9002]=2,s.fill(2,11904,42192),s[12351]=1,s.fill(2,44032,55204),s.fill(2,63744,64256),s.fill(2,65040,65050),s.fill(2,65072,65136),s.fill(2,65280,65377),s.fill(2,65504,65511);for(let e=0;e<i.length;++e)s.fill(0,i[e][0],i[e][1]+1)}}wcwidth(e){return e<32?0:e<127?1:e<65536?s[e]:function(e,t){let r,n=0,i=t.length-1;if(e<t[0][0]||e>t[i][1])return!1;for(;i>=n;)if(r=n+i>>1,e>t[r][1])n=r+1;else{if(!(e<t[r][0]))return!0;i=r-1}return!1}(e,o)?0:e>=131072&&e<=196605||e>=196608&&e<=262141?2:1}charProperties(e,t){let r=this.wcwidth(e),i=0===r&&0!==t;if(i){const e=n.UnicodeService.extractWidth(t);0===e?i=!1:e>r&&(r=e)}return n.UnicodeService.createPropertyValue(0,r,i)}}},765:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeService=void 0;const n=r(526),i=r(546);class o{static extractShouldJoin(e){return!!(1&e)}static extractWidth(e){return e>>1&3}static extractCharKind(e){return e>>3}static createPropertyValue(e,t,r=!1){return(16777215&e)<<3|(3&t)<<1|(r?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new n.EventEmitter,this.onChange=this._onChange.event;const e=new i.UnicodeV6;this.register(e),this._active=e.version,this._activeProvider=e}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(e){if(!this._providers[e])throw new Error(`unknown Unicode version "${e}"`);this._active=e,this._activeProvider=this._providers[e],this._onChange.fire(e)}register(e){this._providers[e.version]=e}wcwidth(e){return this._activeProvider.wcwidth(e)}getStringCellWidth(e){let t=0,r=0;const n=e.length;for(let i=0;i<n;++i){let s=e.charCodeAt(i);if(55296<=s&&s<=56319){if(++i>=n)return t+this.wcwidth(s);const r=e.charCodeAt(i);56320<=r&&r<=57343?s=1024*(s-55296)+r-56320+65536:t+=this.wcwidth(r)}const a=this.charProperties(s,r);let c=o.extractWidth(a);o.extractShouldJoin(a)&&(c-=o.extractWidth(r)),t+=c,r=a}return t}charProperties(e,t){return this._activeProvider.charProperties(e,t)}}t.UnicodeService=o}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}var n={};return(()=>{var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeGraphemesAddon=void 0;const t=r(106);e.UnicodeGraphemesAddon=class{constructor(){this._oldVersion=""}activate(e){this._provider15||(this._provider15=new t.UnicodeGraphemeProvider(!1)),this._provider15Graphemes||(this._provider15Graphemes=new t.UnicodeGraphemeProvider(!0));const r=e.unicode;this._unicode=r,r.register(this._provider15),r.register(this._provider15Graphemes),this._oldVersion=r.activeVersion,r.activeVersion="15-graphemes"}dispose(){this._unicode&&(this._unicode.activeVersion=this._oldVersion)}}})(),n})()));
//# sourceMappingURL=addon-unicode-graphemes.js.map