{
    "version": "2.0",
    "metadata": {
        "apiVersion": "2022-11-11",
        "endpointPrefix": "amazoncodewhispererservice",
        "jsonVersion": "1.0",
        "protocol": "json",
        "serviceFullName": "Amazon CodeWhisperer",
        "serviceId": "CodeWhispererRuntime",
        "signingName": "amazoncodewhispererservice",
        "targetPrefix": "AmazonCodeWhispererService",
        "uid": "codewhispererruntime-2022-11-11"
    },
    "operations": {
        "GenerateCompletions": {
            "name": "GenerateCompletions",
            "http": {
                "method": "POST",
                "requestUri": "/"
            },
            "input": {
                "shape": "GenerateCompletionsRequest"
            },
            "output": {
                "shape": "GenerateCompletionsResponse"
            },
            "errors": [
                {
                    "shape": "ThrottlingException"
                },
                {
                    "shape": "InternalServerException"
                },
                {
                    "shape": "ValidationException"
                },
                {
                    "shape": "AccessDeniedException"
                }
            ]
        },
        "ListAvailableCustomizations": {
            "name": "ListAvailableCustomizations",
            "http": {
                "method": "POST",
                "requestUri": "/"
            },
            "input": { "shape": "ListAvailableCustomizationsRequest" },
            "output": { "shape": "ListAvailableCustomizationsResponse" },
            "errors": [
                { "shape": "ThrottlingException" },
                { "shape": "InternalServerException" },
                { "shape": "ValidationException" },
                { "shape": "AccessDeniedException" }
            ]
        }
    },
    "shapes": {
        "AccessDeniedException": {
            "type": "structure",
            "required": ["message"],
            "members": {
                "message": {"shape": "String"},
                "reason": {"shape": "AccessDeniedExceptionReason"}
            },
            "exception": true
        },
        "AccessDeniedExceptionReason": {
            "type": "string",
            "enum": ["UNAUTHORIZED_CUSTOMIZATION_RESOURCE_ACCESS"]
        },
        "ArtifactId": {
            "type": "string",
            "max": 126,
            "min": 1,
            "pattern": "[a-zA-Z0-9-_]+"
        },
        "ArtifactType": {
            "type": "string",
            "enum": [
                "SourceCode",
                "BuiltJars"
            ]
        },
        "AssistantResponseMessageContentString": {
            "type": "string",
            "max": 4096,
            "min": 0,
            "sensitive": true
        },
        "Base64EncodedPaginationToken": {
            "type": "string",
            "max": 2048,
            "min": 1,
            "pattern": "(?:[A-Za-z0-9\\+/]{4})*(?:[A-Za-z0-9\\+/]{2}\\=\\=|[A-Za-z0-9\\+/]{3}\\=)?"
        },
        "Completion": {
            "type": "structure",
            "required": ["content"],
            "members": {
                "content": {"shape": "CompletionContentString"},
                "references": {"shape": "References"},
                "mostRelevantMissingImports": {"shape": "Imports"}
            }
        },
        "CompletionContentString": {
            "type": "string",
            "max": 5120,
            "min": 1,
            "sensitive": true
        },
        "CompletionType": {
            "type": "string",
            "enum": [
                "BLOCK",
                "LINE"
            ]
        },
        "Completions": {
            "type": "list",
            "member": {"shape": "Completion"},
            "max": 10,
            "min": 0
        },
        "ContentChecksumType": {
            "type": "string",
            "enum": ["SHA_256"]
        },
        "Customization": {
            "type": "structure",
            "required": ["arn"],
            "members": {
                "arn": { "shape": "CustomizationArn" },
                "name": { "shape": "CustomizationName" },
                "description": { "shape": "Description" }
            }
        },
        "CustomizationArn": {
            "type": "string",
            "max": 950,
            "min": 0,
            "pattern": "arn:[-.a-z0-9]{1,63}:codewhisperer:([-.a-z0-9]{0,63}:){2}([a-zA-Z0-9-_:/]){1,1023}"
        },
        "CustomizationName": {
            "type": "string",
            "max": 100,
            "min": 1,
            "pattern": "[a-zA-Z][a-zA-Z0-9_-]*"
        },
        "Customizations": {
            "type": "list",
            "member": { "shape": "Customization" }
        },
        "Description": {
            "type": "string",
            "max": 256,
            "min": 0,
            "pattern": "[\\sa-zA-Z0-9_-]*"
        },
        "FileContext": {
            "type": "structure",
            "required": [
                "leftFileContent",
                "rightFileContent",
                "filename",
                "programmingLanguage"
            ],
            "members": {
                "leftFileContent": {"shape": "FileContextLeftFileContentString"},
                "rightFileContent": {"shape": "FileContextRightFileContentString"},
                "filename": {"shape": "FileContextFilenameString"},
                "programmingLanguage": {"shape": "ProgrammingLanguage"}
            }
        },
        "FileContextFilenameString": {
            "type": "string",
            "max": 1024,
            "min": 1,
            "sensitive": true
        },
        "FileContextLeftFileContentString": {
            "type": "string",
            "max": 10240,
            "min": 0,
            "sensitive": true
        },
        "FileContextRightFileContentString": {
            "type": "string",
            "max": 10240,
            "min": 0,
            "sensitive": true
        },
        "GenerateCompletionsRequest": {
            "type": "structure",
            "required": ["fileContext"],
            "members": {
                "fileContext": {"shape": "FileContext"},
                "maxResults": {"shape": "GenerateCompletionsRequestMaxResultsInteger"},
                "nextToken": {"shape": "GenerateCompletionsRequestNextTokenString"},
                "referenceTrackerConfiguration": {"shape": "ReferenceTrackerConfiguration"},
                "supplementalContexts": {"shape": "SupplementalContextList"},
                "customizationArn": {"shape": "CustomizationArn"},
                "optOutPreference": {"shape": "OptOutPreference"},
                "userContext": {"shape": "UserContext"},
                "profileArn": {"shape": "ProfileArn"}
            }
        },
        "GenerateCompletionsRequestMaxResultsInteger": {
            "type": "integer",
            "box": true,
            "max": 10,
            "min": 1
        },
        "GenerateCompletionsRequestNextTokenString": {
            "type": "string",
            "max": 2048,
            "min": 0,
            "pattern": "(?:[A-Za-z0-9\\+/]{4})*(?:[A-Za-z0-9\\+/]{2}\\=\\=|[A-Za-z0-9\\+/]{3}\\=)?",
            "sensitive": true
        },
        "GenerateCompletionsResponse": {
            "type": "structure",
            "members": {
                "completions": {"shape": "Completions"},
                "nextToken": {"shape": "SensitiveString"}
            }
        },
        "Import": {
            "type": "structure",
            "members": {
                "statement": {"shape": "ImportStatementString"}
            }
        },
        "ImportStatementString": {
            "type": "string",
            "max": 1024,
            "min": 1,
            "sensitive": true
        },
        "Imports": {
            "type": "list",
            "member": {"shape": "Import"},
            "max": 10,
            "min": 0
        },
        "InternalServerException": {
            "type": "structure",
            "required": ["message"],
            "members": {
                "message": {"shape": "String"}
            },
            "exception": true,
            "fault": true,
            "retryable": {"throttling": false}
        },
        "ListAvailableCustomizationsRequest": {
            "type": "structure",
            "members": {
                "maxResults": { "shape": "ListAvailableCustomizationsRequestMaxResultsInteger" },
                "nextToken": { "shape": "Base64EncodedPaginationToken" },
                "profileArn": { "shape": "ProfileArn" }
            }
        },
        "ListAvailableCustomizationsRequestMaxResultsInteger": {
            "type": "integer",
            "box": true,
            "max": 100,
            "min": 1
        },
        "ListAvailableCustomizationsResponse": {
            "type": "structure",
            "required": ["customizations"],
            "members": {
                "customizations": { "shape": "Customizations" },
                "nextToken": { "shape": "Base64EncodedPaginationToken" }
            }
        },
        "OptOutPreference": {
            "type": "string",
            "enum": [
                "OPTIN",
                "OPTOUT"
            ]
        },
        "ProgrammingLanguage": {
            "type": "structure",
            "required": ["languageName"],
            "members": {
                "languageName": {"shape": "ProgrammingLanguageLanguageNameString"}
            }
        },
        "ProgrammingLanguageLanguageNameString": {
            "type": "string",
            "max": 128,
            "min": 1,
            "pattern": "(python|javascript|java|csharp|typescript|c|cpp|go|kotlin|php|ruby|rust|scala|shell|sql|json|yaml|vue|tf|tsx|jsx|plaintext)"
        },
        "ProfileArn": {
            "type": "string",
            "max": 950,
            "min": 0,
            "pattern": "arn:[-.a-z0-9]{1,63}:codewhisperer:([-.a-z0-9]{0,63}:){2}([a-zA-Z0-9-_:/]){1,1023}"
        },
        "RecommendationsWithReferencesPreference": {
            "type": "string",
            "enum": [
                "BLOCK",
                "ALLOW"
            ]
        },
        "Reference": {
            "type": "structure",
            "members": {
                "licenseName": {"shape": "ReferenceLicenseNameString"},
                "repository": {"shape": "ReferenceRepositoryString"},
                "url": {"shape": "ReferenceUrlString"},
                "recommendationContentSpan": {"shape": "Span"}
            }
        },
        "ReferenceLicenseNameString": {
            "type": "string",
            "max": 1024,
            "min": 1
        },
        "ReferenceRepositoryString": {
            "type": "string",
            "max": 1024,
            "min": 1
        },
        "ReferenceTrackerConfiguration": {
            "type": "structure",
            "required": ["recommendationsWithReferences"],
            "members": {
                "recommendationsWithReferences": {"shape": "RecommendationsWithReferencesPreference"}
            }
        },
        "ReferenceUrlString": {
            "type": "string",
            "max": 1024,
            "min": 1
        },
        "References": {
            "type": "list",
            "member": {"shape": "Reference"},
            "max": 10,
            "min": 0
        },
        "SensitiveString": {
            "type": "string",
            "sensitive": true
        },
        "Span": {
            "type": "structure",
            "members": {
                "start": {"shape": "SpanStartInteger"},
                "end": {"shape": "SpanEndInteger"}
            }
        },
        "SpanEndInteger": {
            "type": "integer",
            "box": true,
            "min": 0
        },
        "SpanStartInteger": {
            "type": "integer",
            "box": true,
            "min": 0
        },
        "String": {"type": "string"},
        "SupplementalContext": {
            "type": "structure",
            "required": [
                "filePath",
                "content"
            ],
            "members": {
                "filePath": {"shape": "SupplementalContextFilePathString"},
                "content": {"shape": "SupplementalContextContentString"}
            }
        },
        "SupplementalContextContentString": {
            "type": "string",
            "max": 10240,
            "min": 1,
            "sensitive": true
        },
        "SupplementalContextFilePathString": {
            "type": "string",
            "max": 1024,
            "min": 1,
            "sensitive": true
        },
        "SupplementalContextList": {
            "type": "list",
            "member": {"shape": "SupplementalContext"},
            "max": 5,
            "min": 0
        },
        "ThrottlingException": {
            "type": "structure",
            "required": ["message"],
            "members": {
                "message": {"shape": "String"}
            },
            "exception": true,
            "retryable": {"throttling": true}
        },
        "UserContext": {
            "type": "structure",
            "required": [
                "ideCategory",
                "operatingSystem",
                "product"
            ],
            "members": {
                "ideCategory": {"shape": "IdeCategory"},
                "operatingSystem": {"shape": "OperatingSystem"},
                "product": {"shape": "UserContextProductString"},
                "clientId": {"shape": "UUID"},
                "ideVersion": {"shape": "String"}
            }
        },
        "UserContextProductString": {
            "type": "string",
            "max": 128,
            "min": 1,
            "pattern": "[-a-zA-Z0-9._]*"
        },
        "UUID": {
            "type": "string",
            "max": 36,
            "min": 36
        },
        "ValidationException": {
            "type": "structure",
            "required": ["message"],
            "members": {
                "message": {"shape": "String"},
                "reason": {"shape": "ValidationExceptionReason"}
            },
            "exception": true
        },
        "ValidationExceptionReason": {
            "type": "string",
            "enum": [
                "INVALID_CONVERSATION_ID",
                "CONTENT_LENGTH_EXCEEDS_THRESHOLD"
            ]
        }
    }
}