(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4412:(e,s,a)=>{Promise.resolve().then(a.bind(a,6011))},6011:(e,s,a)=>{"use strict";a.d(s,{default:()=>n});var t=a(5155),l=a(2115),r=a(3096);function n(){let[e,s]=(0,l.useState)([]),[a,n]=(0,l.useState)(!0),[i,d]=(0,l.useState)(null),[o,c]=(0,l.useState)(null);return(0,l.useEffect)(()=>{fetch("/api/logs").then(e=>{if(!e.ok)throw Error("Failed to fetch logs");return e.json()}).then(e=>{s(e),n(!1)}).catch(e=>{d(e.message),n(!1)})},[]),(0,t.jsxs)("div",{className:"p-4",children:[a&&(0,t.jsx)("span",{className:"text-gray-500",children:"Loading logs..."}),i&&(0,t.jsxs)("span",{className:"text-red-600",children:["Error: ",i]}),!a&&!i&&(0,t.jsx)("div",{className:"overflow-auto rounded-2xl shadow-lg border border-gray-200 bg-white",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"w-8"}),(0,t.jsx)("th",{className:"px-3 py-2 font-semibold text-gray-700",children:"Type"}),(0,t.jsx)("th",{className:"px-3 py-2 font-semibold text-gray-700",children:"Start Time"}),(0,t.jsx)("th",{className:"px-3 py-2 font-semibold text-gray-700",children:"Response Format"}),(0,t.jsx)("th",{className:"px-3 py-2 font-semibold text-gray-700",children:"Last Prompt Message"}),(0,t.jsx)("th",{className:"px-3 py-2 font-semibold text-gray-700",children:"Response"}),(0,t.jsx)("th",{className:"px-3 py-2 font-semibold text-gray-700",children:"Reasoning Effort"}),(0,t.jsx)("th",{className:"px-3 py-2 font-semibold text-gray-700",children:"Temp"}),(0,t.jsx)("th",{className:"px-3 py-2 font-semibold text-gray-700",children:"Elapsed (s)"}),(0,t.jsx)("th",{className:"px-3 py-2 font-semibold text-gray-700",children:"Finish"}),(0,t.jsx)("th",{className:"px-3 py-2 font-semibold text-gray-700",children:"Comp. Tokens"}),(0,t.jsx)("th",{className:"px-3 py-2 font-semibold text-gray-700",children:"Prompt Tokens"}),(0,t.jsx)("th",{className:"px-3 py-2 font-semibold text-gray-700",children:"Reasoning Tokens"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:e.map((e,s)=>{var a,n,i;let d,x="",p="",m="",h=!!e.response_format&&"None"!==e.response_format;if(m=e.start_time?new Date(1e3*e.start_time).toLocaleString():"<no start_time>","embeddings"===e.type){let s=e.texts||[];x=Array.isArray(s)&&s.length>0?s[0].replace(/\s+/g," ").slice(0,120)+(s[0].length>120?" ...":""):"<no texts>",p=""}else{let s=(Array.isArray(e.messages)?e.messages:[]).filter(e=>"user"===e.role),a=(d=s[s.length-1])?d.content.replace(/\s+/g," "):"";x=a.length>120?a.slice(0,120)+" ...":a,p=e.response&&e.response.replace(/\s+/g," ").length>120?e.response.replace(/\s+/g," ").slice(0,120)+" ...":e.response}return(0,t.jsxs)(l.Fragment,{children:[(0,t.jsxs)("tr",{className:o===s?"bg-blue-50 transition":"transition",children:[(0,t.jsx)("td",{className:"align-top px-2 py-2",children:(0,t.jsx)("button",{className:"rounded-md p-1 border ".concat(o===s?"bg-blue-100 border-blue-300 text-blue-600":"bg-gray-50 border-gray-200 text-gray-400"," hover:bg-blue-100 hover:text-blue-700 transition"),onClick:()=>c(o===s?null:s),"aria-label":o===s?"Hide all messages":"Show all messages",children:o===s?(0,t.jsx)(r.Mtm,{}):(0,t.jsx)(r.D3D,{})})}),(0,t.jsx)("td",{className:"px-3 py-2 font-bold text-indigo-700 align-top",children:e.type}),(0,t.jsx)("td",{className:"px-3 py-2 align-top",children:m}),(0,t.jsx)("td",{className:"px-3 py-2 align-top",children:h?(0,t.jsx)("span",{className:"text-green-700 font-semibold",children:"Yes"}):(0,t.jsx)("span",{className:"text-gray-400",children:"No"})}),(0,t.jsx)("td",{className:"px-3 py-2 text-gray-500 align-top",children:x}),(0,t.jsx)("td",{className:"px-3 py-2 align-top",children:p}),(0,t.jsx)("td",{className:"px-3 py-2 text-blue-600 align-top",children:e.reasoning_effort}),(0,t.jsx)("td",{className:"px-3 py-2 align-top",children:e.temperature}),(0,t.jsx)("td",{className:"px-3 py-2 align-top",children:null!=e.elapsed_time?e.elapsed_time.toFixed(2):""}),(0,t.jsx)("td",{className:"px-3 py-2 align-top",children:e.finish_reason}),(0,t.jsx)("td",{className:"px-3 py-2 align-top",children:e.completion_tokens}),(0,t.jsx)("td",{className:"px-3 py-2 align-top",children:e.prompt_tokens}),(0,t.jsx)("td",{className:"px-3 py-2 align-top",children:null!=e.reasoning_tokens?e.reasoning_tokens:""})]}),o===s&&(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{}),(0,t.jsxs)("td",{colSpan:11,className:"bg-blue-50 rounded-b-xl shadow-inner px-6 py-4",children:[h&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("span",{className:"font-semibold text-blue-700",children:"Response Format:"}),(0,t.jsx)("div",{className:"mt-1 bg-blue-100 rounded p-2",children:(0,t.jsx)("span",{className:"text-sm break-all",children:"string"==typeof e.response_format?e.response_format:JSON.stringify(e.response_format)})})]}),"embeddings"===e.type?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"font-semibold mb-2",children:"Texts:"}),(0,t.jsx)("div",{className:"space-y-2",children:Array.isArray(e.texts)&&(null!=(n=null==(a=e.texts)?void 0:a.length)?n:0)>0?(0,t.jsx)("div",{className:"flex flex-col gap-2",children:(null!=(i=e.texts)?i:[]).map((e,s)=>(0,t.jsx)("div",{className:"border-b border-gray-200 pb-1",children:(0,t.jsx)("span",{className:"text-sm",children:e})},s))}):(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"No texts"})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"font-semibold mb-2",children:"All Messages:"}),(0,t.jsx)("div",{className:"space-y-4",children:0===e.messages.length?(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"No messages"}):(0,t.jsx)("div",{className:"flex flex-col gap-4",children:e.messages.map((e,s)=>(0,t.jsxs)("div",{className:"rounded-lg bg-gray-50 border border-gray-200 p-3 shadow-sm",children:[(0,t.jsx)("div",{className:"flex items-center mb-1",children:(0,t.jsx)("span",{className:"text-xs font-semibold text-blue-700 uppercase mr-2",children:e.role})}),(0,t.jsx)("div",{className:"whitespace-pre-line text-sm text-gray-800 break-words",children:e.content})]},s))})}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("span",{className:"font-semibold text-blue-700",children:"Full Response:"}),(0,t.jsx)("div",{className:"mt-1 bg-blue-100 rounded p-2",children:(0,t.jsx)("div",{className:"text-sm whitespace-pre-line",children:e.response})})]})]})]})]})]},s)})})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[105,441,684,358],()=>s(4412)),_N_E=e.O()}]);